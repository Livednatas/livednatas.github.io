// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,ea,fa,ia,ja,A,ka,la,ma,na,oa,P,qa,sa,ta,ua,wa,xa,ya,T,za,Ba,Da,Ea,Fa,U,Ga,Ha,Ia,Ja,Ka,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc={},ec={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,d,e,b){this.set(a,d,e,b)}function p(){this.Ub=this.Tb=this.Wb=this.Vb=this.hc=this.gc=this.wb=this.ub=0}function l(a,d,e,b){a<d?e<b?(y=a<e?a:e,F=d>b?d:b):(y=a<b?a:b,F=d>e?d:e):e<b?(y=d<e?d:e,F=a>b?a:b):(y=d<b?d:b,F=a>e?a:e)}function r(){this.items=this.Od=null;this.Rh=0;z&&(this.Od=new Set);this.$g=[];this.De=!0}function c(a){C[Q++]=a}function k(){this.ba=this.fl=this.y=this.Hl=0}function b(a){this.Sa=[];this.fj=this.hj=this.ij=this.gj=0;this.Ci(a)}function a(a,d){this.Ml=
a;this.Ll=d;this.cells={}}function m(a,d){this.Ml=a;this.Ll=d;this.cells={}}function g(a,d,e){var b;return x.length?(b=x.pop(),b.ym=a,b.x=d,b.y=e,b):new ba(a,d,e)}function d(a,d,e){this.ym=a;this.x=d;this.y=e;this.mb=new ca}function e(a,d,e){var b;return K.length?(b=K.pop(),b.ym=a,b.x=d,b.y=e,b):new da(a,d,e)}function h(a,d,e){this.ym=a;this.x=d;this.y=e;this.mb=[];this.yg=!0;this.Ld=new ca;this.hh=!1}function n(a,d){return a.yd-d.yd}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};A=function(a){return"string"===typeof a};ka=function(a){return 0<a&&0===(a-1&a)};la=function(a){--a;for(var d=1;32>d;d<<=1)a=a|a>>d;return a+1};ma=function(a){return 0>a?-a:a};na=function(a,d){return a<d?a:d};oa=Math.PI;P=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var d=a|0;return d===a?d:d+1};sa=function(a,d,e,b,t,u,w,B){var m,
h,n,g;a<e?(h=a,m=e):(h=e,m=a);t<w?(g=t,n=w):(g=w,n=t);if(m<g||h>n)return!1;d<b?(h=d,m=b):(h=b,m=d);u<B?(g=u,n=B):(g=B,n=u);if(m<g||h>n)return!1;m=t-a+w-e;h=u-d+B-b;a=e-a;d=b-d;t=w-t;u=B-u;B=ma(d*t-u*a);return ma(t*h-u*m)>B?!1:ma(a*h-d*m)<=B};f.prototype.set=function(a,d,e,b){this.left=a;this.top=d;this.right=e;this.bottom=b};f.prototype.eg=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=function(){return this.right-this.left};f.prototype.height=
function(){return this.bottom-this.top};f.prototype.offset=function(a,d){this.left+=a;this.top+=d;this.right+=a;this.bottom+=d;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.Hv=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.Iv=function(a,d,e){return!(a.right+d<this.left||a.bottom+
e<this.top||a.left+d>this.right||a.top+e>this.bottom)};f.prototype.Fb=function(a,d){return a>=this.left&&a<=this.right&&d>=this.top&&d<=this.bottom};f.prototype.sh=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=f;p.prototype.cf=function(a){this.ub=a.left;this.wb=a.top;this.gc=a.right;this.hc=a.top;this.Vb=a.right;this.Wb=a.bottom;this.Tb=a.left;this.Ub=a.bottom};p.prototype.pr=function(a,d){if(0===d)this.cf(a);else{var e=Math.sin(d),b=Math.cos(d),
t=a.left*e,u=a.top*e,w=a.right*e,e=a.bottom*e,m=a.left*b,h=a.top*b,n=a.right*b,b=a.bottom*b;this.ub=m-u;this.wb=h+t;this.gc=n-u;this.hc=h+w;this.Vb=n-e;this.Wb=b+w;this.Tb=m-e;this.Ub=b+t}};p.prototype.offset=function(a,d){this.ub+=a;this.wb+=d;this.gc+=a;this.hc+=d;this.Vb+=a;this.Wb+=d;this.Tb+=a;this.Ub+=d;return this};var y=0,F=0;p.prototype.Qo=function(a){l(this.ub,this.gc,this.Vb,this.Tb);a.left=y;a.right=F;l(this.wb,this.hc,this.Wb,this.Ub);a.top=y;a.bottom=F};p.prototype.Fb=function(a,d){var e=
this.ub,b=this.wb,t=this.gc-e,u=this.hc-b,w=this.Vb-e,m=this.Wb-b,h=a-e,n=d-b,g=t*t+u*u,q=t*w+u*m,u=t*h+u*n,y=w*w+m*m,f=w*h+m*n,c=1/(g*y-q*q),t=(y*u-q*f)*c,g=(g*f-q*u)*c;if(0<=t&&0<g&&1>t+g)return!0;t=this.Tb-e;u=this.Ub-b;g=t*t+u*u;q=t*w+u*m;u=t*h+u*n;c=1/(g*y-q*q);t=(y*u-q*f)*c;g=(g*f-q*u)*c;return 0<=t&&0<g&&1>t+g};p.prototype.Be=function(a,d){if(d)switch(a){case 0:return this.ub;case 1:return this.gc;case 2:return this.Vb;case 3:return this.Tb;case 4:return this.ub;default:return this.ub}else switch(a){case 0:return this.wb;
case 1:return this.hc;case 2:return this.Wb;case 3:return this.Ub;case 4:return this.wb;default:return this.wb}};p.prototype.tq=function(){return(this.ub+this.gc+this.Vb+this.Tb)/4};p.prototype.uq=function(){return(this.wb+this.hc+this.Wb+this.Ub)/4};p.prototype.Hp=function(a){var d=a.tq(),e=a.uq();if(this.Fb(d,e))return!0;d=this.tq();e=this.uq();if(a.Fb(d,e))return!0;var b,t,u,w,m,h,n,g;for(n=0;4>n;n++)for(g=0;4>g;g++)if(d=this.Be(n,!0),e=this.Be(n,!1),b=this.Be(n+1,!0),t=this.Be(n+1,!1),u=a.Be(g,
!0),w=a.Be(g,!1),m=a.Be(g+1,!0),h=a.Be(g+1,!1),sa(d,e,b,t,u,w,m,h))return!0;return!1};ua=p;wa=function(a,d){for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);return a};xa=function(a,d){var e,b;d=P(d);if(!(0>d||d>=a.length)){e=d;for(b=a.length-1;e<b;e++)a[e]=a[e+1];ya(a,b)}};ya=function(a,d){a.length=d};T=function(a){ya(a,0)};za=function(a,d){T(a);var e,b;e=0;for(b=d.length;e<b;++e)a[e]=d[e]};Ba=function(a,d){a.push.apply(a,d)};Da=function(a,d){var e,b;e=0;for(b=a.length;e<b;++e)if(a[e]===d)return e;
return-1};Ea=function(a,d){var e=Da(a,d);-1!==e&&xa(a,e)};Fa=function(a,d,e){return a<d?d:a>e?e:a};U=function(a){return a/(180/oa)};Ga=function(a){return 180/oa*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(U(a))};Na=function(a,d,e,b){return Math.atan2(b-d,e-a)};Oa=function(a,d){if(a===d)return 0;var e=Math.sin(a),b=Math.cos(a),t=Math.sin(d),u=Math.cos(d),e=e*t+b*u;return 1<=e?0:-1>=e?oa:Math.acos(e)};
Pa=function(a,d,e){var b=Math.sin(a),t=Math.cos(a),u=Math.sin(d),w=Math.cos(d);return Math.acos(b*u+t*w)>e?0<t*u-b*w?Ia(a+e):Ia(a-e):Ia(d)};Qa=function(a,d){var e=Math.sin(a),b=Math.cos(a),t=Math.sin(d),u=Math.cos(d);return 0>=b*t-e*u};Ra=function(a,d,e,b,t,u){if(0===e)return u?a:d;var w=Math.sin(e);e=Math.cos(e);a-=b;d-=t;var m=a*w;a=a*e-d*w;d=d*e+m;return u?a+b:d+t};Sa=function(a,d,e,b){a=e-a;d=b-d;return Math.sqrt(a*a+d*d)};Ta=function(a,d){return!a!==!d};Ua=function(a){for(var d in a)if(a.hasOwnProperty(d))return!0;
return!1};Va=function(a){for(var d in a)a.hasOwnProperty(d)&&delete a[d]};var D=+new Date;Za=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-D};var q=!1,v=q=!1,E=!1;"undefined"!==typeof window&&(q=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),
q=!q&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),E=window.c2ejecta);var z=!q&&!E&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;r.prototype.contains=function(a){return this.de()?!1:z?this.Od.has(a):this.items&&this.items.hasOwnProperty(a)};r.prototype.add=function(a){if(z)this.Od.has(a)||(this.Od.add(a),this.De=!1);else{var d=a.toString(),e=this.items;e?e.hasOwnProperty(d)||(e[d]=a,this.Rh++,this.De=!1):(this.items={},this.items[d]=
a,this.Rh=1,this.De=!1)}};r.prototype.remove=function(a){if(!this.de())if(z)this.Od.has(a)&&(this.Od["delete"](a),this.De=!1);else if(this.items){a=a.toString();var d=this.items;d.hasOwnProperty(a)&&(delete d[a],this.Rh--,this.De=!1)}};r.prototype.clear=function(){this.de()||(z?this.Od.clear():(this.items=null,this.Rh=0),T(this.$g),this.De=!0)};r.prototype.de=function(){return 0===this.count()};r.prototype.count=function(){return z?this.Od.size:this.Rh};var C=null,Q=0;r.prototype.jx=function(){if(!this.De){if(z)T(this.$g),
C=this.$g,Q=0,this.Od.forEach(c),C=null,Q=0;else{var a=this.$g;T(a);var d,e=0,b=this.items;if(b)for(d in b)b.hasOwnProperty(d)&&(a[e++]=b[d])}this.De=!0}};r.prototype.Rd=function(){this.jx();return this.$g};ca=r;var H=new ca;$a=function(a){var d,e;d=0;for(e=a.length;d<e;++d)H.add(a[d]);za(a,H.Rd());H.clear()};ab=function(a,d){z?bb(a,d.Od):cb(a,d.Rd())};bb=function(a,d){var e,b,t,u;b=e=0;for(t=a.length;e<t;++e)u=a[e],d.has(u)||(a[b++]=u);ya(a,b)};cb=function(a,d){var e,b,t,u;b=e=0;for(t=a.length;e<
t;++e)u=a[e],-1===Da(d,u)&&(a[b++]=u);ya(a,b)};k.prototype.add=function(a){this.y=a-this.Hl;this.fl=this.ba+this.y;this.Hl=this.fl-this.ba-this.y;this.ba=this.fl};k.prototype.reset=function(){this.ba=this.fl=this.y=this.Hl=0};db=k;eb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.Ci=function(a){this.Wq=a;this.Xc=a.length/2;this.Sa.length=a.length;this.lj=this.mj=-1;this.To=0};b.prototype.Oe=function(){return!this.Wq.length};b.prototype.qa=function(){for(var a=this.Sa,
d=a[0],e=d,b=a[1],t=b,u,w,m=1,h=this.Xc;m<h;++m)w=2*m,u=a[w],w=a[w+1],u<d&&(d=u),u>e&&(e=u),w<b&&(b=w),w>t&&(t=w);this.gj=d;this.hj=e;this.ij=b;this.fj=t};b.prototype.cf=function(a,d,e){this.Sa.length=8;this.Xc=4;var b=this.Sa;b[0]=a.left-d;b[1]=a.top-e;b[2]=a.right-d;b[3]=a.top-e;b[4]=a.right-d;b[5]=a.bottom-e;b[6]=a.left-d;b[7]=a.bottom-e;this.mj=a.right-a.left;this.lj=a.bottom-a.top;this.qa()};b.prototype.bf=function(a,d,e,b,t){this.Sa.length=8;this.Xc=4;var u=this.Sa;u[0]=a.ub-d;u[1]=a.wb-e;u[2]=
a.gc-d;u[3]=a.hc-e;u[4]=a.Vb-d;u[5]=a.Wb-e;u[6]=a.Tb-d;u[7]=a.Ub-e;this.mj=b;this.lj=t;this.qa()};b.prototype.or=function(a){this.Xc=a.Xc;za(this.Sa,a.Sa);this.gj=a.gj;this.ij-a.ij;this.hj=a.hj;this.fj=a.fj};b.prototype.Ce=function(a,d,e){if(this.mj!==a||this.lj!==d||this.To!==e){this.mj=a;this.lj=d;this.To=e;var b,t,u,w,m,h=0,n=1,g=this.Wq,q=this.Sa;0!==e&&(h=Math.sin(e),n=Math.cos(e));e=0;for(u=this.Xc;e<u;e++)b=2*e,t=b+1,w=g[b]*a,m=g[t]*d,q[b]=w*n-m*h,q[t]=m*n+w*h;this.qa()}};b.prototype.Fb=function(a,
d){var e=this.Sa;if(a===e[0]&&d===e[1])return!0;var b,t,u,w=this.Xc,m=this.gj-110,h=this.ij-101,n=this.hj+131,g=this.fj+120,q,y,f=0,c=0;for(b=0;b<w;b++)t=2*b,u=(b+1)%w*2,q=e[t],t=e[t+1],y=e[u],u=e[u+1],sa(m,h,a,d,q,t,y,u)&&f++,sa(n,g,a,d,q,t,y,u)&&c++;return 1===f%2||1===c%2};b.prototype.Eh=function(a,d,e){var b=a.Sa,t=this.Sa;if(this.Fb(b[0]+d,b[1]+e)||a.Fb(t[0]-d,t[1]-e))return!0;var u,w,m,h,n,g,q,y,f,c,k,v;u=0;for(h=this.Xc;u<h;u++)for(w=2*u,m=(u+1)%h*2,y=t[w],w=t[w+1],f=t[m],c=t[m+1],m=0,q=a.Xc;m<
q;m++)if(n=2*m,g=(m+1)%q*2,k=b[n]+d,n=b[n+1]+e,v=b[g]+d,g=b[g+1]+e,sa(y,w,f,c,k,n,v,g))return!0;return!1};fb=b;a.prototype.Le=function(a,d,e){var b;b=this.cells[a];return b?(b=b[d])?b:e?(b=g(this,a,d),this.cells[a][d]=b):null:e?(b=g(this,a,d),this.cells[a]={},this.cells[a][d]=b):null};a.prototype.Pb=function(a){return P(a/this.Ml)};a.prototype.Qb=function(a){return P(a/this.Ll)};a.prototype.update=function(a,d,e){var b,t,u,w,m;if(d)for(b=d.left,t=d.right;b<=t;++b)for(u=d.top,w=d.bottom;u<=w;++u)if(!e||
!e.Fb(b,u))if(m=this.Le(b,u,!1))m.remove(a),m.de()&&(m.mb.clear(),1E3>x.length&&x.push(m),this.cells[b][u]=null);if(e)for(b=e.left,t=e.right;b<=t;++b)for(u=e.top,w=e.bottom;u<=w;++u)d&&d.Fb(b,u)||this.Le(b,u,!0).Km(a)};a.prototype.Ok=function(a,d){var e,b,t,u,w,m;e=this.Pb(a.left);t=this.Qb(a.top);b=this.Pb(a.right);for(w=this.Qb(a.bottom);e<=b;++e)for(u=t;u<=w;++u)(m=this.Le(e,u,!1))&&m.dump(d)};gb=a;m.prototype.Le=function(a,d,b){var m;m=this.cells[a];return m?(m=m[d])?m:b?(m=e(this,a,d),this.cells[a][d]=
m):null:b?(m=e(this,a,d),this.cells[a]={},this.cells[a][d]=m):null};m.prototype.Pb=function(a){return P(a/this.Ml)};m.prototype.Qb=function(a){return P(a/this.Ll)};m.prototype.update=function(a,d,e){var b,t,u,w,m;if(d)for(b=d.left,t=d.right;b<=t;++b)for(u=d.top,w=d.bottom;u<=w;++u)if(!e||!e.Fb(b,u))if(m=this.Le(b,u,!1))m.remove(a),m.de()&&(m.reset(),1E3>K.length&&K.push(m),this.cells[b][u]=null);if(e)for(b=e.left,t=e.right;b<=t;++b)for(u=e.top,w=e.bottom;u<=w;++u)d&&d.Fb(b,u)||this.Le(b,u,!0).Km(a)};
m.prototype.Ok=function(a,d,e,b,t){var u,w;a=this.Pb(a);d=this.Qb(d);e=this.Pb(e);for(u=this.Qb(b);a<=e;++a)for(b=d;b<=u;++b)(w=this.Le(a,b,!1))&&w.dump(t)};m.prototype.Zv=function(a){var d,e,b,t,u;d=a.left;b=a.top;e=a.right;for(t=a.bottom;d<=e;++d)for(a=b;a<=t;++a)if(u=this.Le(d,a,!1))u.yg=!1};hb=m;var x=[];d.prototype.de=function(){return this.mb.de()};d.prototype.Km=function(a){this.mb.add(a)};d.prototype.remove=function(a){this.mb.remove(a)};d.prototype.dump=function(a){Ba(a,this.mb.Rd())};ba=
d;var K=[];h.prototype.de=function(){if(!this.mb.length)return!0;if(this.mb.length>this.Ld.count())return!1;this.gm();return!0};h.prototype.Km=function(a){this.Ld.contains(a)?(this.Ld.remove(a),this.Ld.de()&&(this.hh=!1)):this.mb.length?(this.mb[this.mb.length-1].Hd()>a.Hd()&&(this.yg=!1),this.mb.push(a)):(this.mb.push(a),this.yg=!0)};h.prototype.remove=function(a){this.Ld.add(a);this.hh=!0;30<=this.Ld.count()&&this.gm()};h.prototype.gm=function(){this.hh&&(this.Ld.count()===this.mb.length?this.reset():
(ab(this.mb,this.Ld),this.Ld.clear(),this.hh=!1))};h.prototype.iu=function(){this.yg||(this.mb.sort(n),this.yg=!0)};h.prototype.reset=function(){T(this.mb);this.yg=!0;this.Ld.clear();this.hh=!1};h.prototype.dump=function(a){this.gm();this.iu();this.mb.length&&a.push(this.mb)};da=h;var G="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":G[a-1]};jb=function(a,d,e){if(e)switch(a.Db=
e.ONE,a.Ab=e.ONE_MINUS_SRC_ALPHA,d){case 1:a.Db=e.ONE;a.Ab=e.ONE;break;case 3:a.Db=e.ONE;a.Ab=e.ZERO;break;case 4:a.Db=e.ONE_MINUS_DST_ALPHA;a.Ab=e.ONE;break;case 5:a.Db=e.DST_ALPHA;a.Ab=e.ZERO;break;case 6:a.Db=e.ZERO;a.Ab=e.SRC_ALPHA;break;case 7:a.Db=e.ONE_MINUS_DST_ALPHA;a.Ab=e.ZERO;break;case 8:a.Db=e.ZERO;a.Ab=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Db=e.DST_ALPHA;a.Ab=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Db=e.ONE_MINUS_DST_ALPHA,a.Ab=e.SRC_ALPHA}};kb=function(a){return Math.round(1E6*a)/1E6};
lb=function(a,d){return"string"!==typeof a||"string"!==typeof d||a.length!==d.length?!1:a===d?!0:a.toLowerCase()===d.toLowerCase()};nb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||lb(a.tagName,"canvas")?!0:!1}})();var fc="undefined"!==typeof Float32Array?Float32Array:Array;function gc(f){var p=new fc(3);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2]);return p}
function hc(f){var p=new fc(16);f&&(p[0]=f[0],p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=f[6],p[7]=f[7],p[8]=f[8],p[9]=f[9],p[10]=f[10],p[11]=f[11],p[12]=f[12],p[13]=f[13],p[14]=f[14],p[15]=f[15]);return p}function ic(f,p){p[0]=f[0];p[1]=f[1];p[2]=f[2];p[3]=f[3];p[4]=f[4];p[5]=f[5];p[6]=f[6];p[7]=f[7];p[8]=f[8];p[9]=f[9];p[10]=f[10];p[11]=f[11];p[12]=f[12];p[13]=f[13];p[14]=f[14];p[15]=f[15]}
function jc(f,p){var l=p[0],r=p[1];p=p[2];f[0]*=l;f[1]*=l;f[2]*=l;f[3]*=l;f[4]*=r;f[5]*=r;f[6]*=r;f[7]*=r;f[8]*=p;f[9]*=p;f[10]*=p;f[11]*=p}
function kc(f,p,l,r){r||(r=hc());var c,k,b,a,m,g,d,e,h=f[0],n=f[1];f=f[2];k=l[0];b=l[1];c=l[2];l=p[1];g=p[2];h===p[0]&&n===l&&f===g?(f=r,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(l=h-p[0],g=n-p[1],d=f-p[2],e=1/Math.sqrt(l*l+g*g+d*d),l*=e,g*=e,d*=e,p=b*d-c*g,c=c*l-k*d,k=k*g-b*l,(e=Math.sqrt(p*p+c*c+k*k))?(e=1/e,p*=e,c*=e,k*=e):k=c=p=0,b=g*k-d*c,a=d*p-l*k,m=l*c-g*p,(e=Math.sqrt(b*b+a*a+m*m))?(e=1/e,b*=e,a*=e,m*=e):m=a=b=0,
r[0]=p,r[1]=b,r[2]=l,r[3]=0,r[4]=c,r[5]=a,r[6]=g,r[7]=0,r[8]=k,r[9]=m,r[10]=d,r[11]=0,r[12]=-(p*h+c*n+k*f),r[13]=-(b*h+a*n+m*f),r[14]=-(l*h+g*n+d*f),r[15]=1)}
(function(){function f(a,b,g){this.ee=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.va=!!g;this.fk=this.Hh=!1;this.vj=0;this.sl=1;this.so=1E3;this.nx=(this.so-this.sl)/32768;this.Jl=gc([0,0,100]);this.dq=gc([0,0,0]);this.Qr=gc([0,1,0]);this.Zi=gc([1,1,1]);this.fp=!0;this.uk=hc();this.Ec=hc();this.Wm=hc();this.Tl=hc();this.A=a;this.Dp()}function p(a,b,g){this.A=a;this.Di=b;this.name=g;this.Sc=a.getAttribLocation(b,"aPos");this.Ve=a.getAttribLocation(b,
"aTex");this.bq=a.getUniformLocation(b,"matP");this.qk=a.getUniformLocation(b,"matMV");this.Fg=a.getUniformLocation(b,"opacity");this.dn=a.getUniformLocation(b,"colorFill");this.cq=a.getUniformLocation(b,"samplerFront");this.fi=a.getUniformLocation(b,"samplerBack");this.Kf=a.getUniformLocation(b,"destStart");this.Jf=a.getUniformLocation(b,"destEnd");this.hi=a.getUniformLocation(b,"seconds");this.hn=a.getUniformLocation(b,"pixelWidth");this.gn=a.getUniformLocation(b,"pixelHeight");this.ei=a.getUniformLocation(b,
"layerScale");this.di=a.getUniformLocation(b,"layerAngle");this.ji=a.getUniformLocation(b,"viewOrigin");this.gi=a.getUniformLocation(b,"scrollPos");this.Bv=!!(this.hn||this.gn||this.hi||this.fi||this.Kf||this.Jf||this.ei||this.di||this.ji||this.gi);this.mq=this.nq=-999;this.tk=1;this.iq=this.hq=0;this.kq=this.gq=this.fq=1;this.qq=this.pq=this.oq=this.sq=this.rq=this.jq=0;this.Vm=[];this.lq=hc();this.Fg&&a.uniform1f(this.Fg,1);this.dn&&a.uniform4f(this.dn,1,1,1,1);this.cq&&a.uniform1i(this.cq,0);this.fi&&
a.uniform1i(this.fi,1);this.Kf&&a.uniform2f(this.Kf,0,0);this.Jf&&a.uniform2f(this.Jf,1,1);this.ei&&a.uniform1f(this.ei,1);this.di&&a.uniform1f(this.di,0);this.ji&&a.uniform2f(this.ji,0,0);this.gi&&a.uniform2f(this.gi,0,0);this.hi&&a.uniform1f(this.hi,0);this.yf=!1}function l(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function r(a,b){this.type=a;this.j=b;this.A=b.A;this.Yb=this.tb=this.Hq=0;this.X=this.$c=null;this.qr=[]}var c=hc();f.prototype.Dp=function(){var a=this.A,b;this.Vp=1;this.Gf=this.Qe=null;this.uj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.va?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Wp=a.ONE;this.Sp=a.ONE_MINUS_SRC_ALPHA;
this.Ti=new Float32Array(8E3*(this.va?3:2));this.Ki=new Float32Array(16E3);this.Bn=new Float32Array(32E3);this.An=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.An);a.bufferData(a.ARRAY_BUFFER,this.Bn.byteLength,a.DYNAMIC_DRAW);this.Si=Array(4);this.Ji=Array(4);for(b=0;4>b;b++)this.Si[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Si[b]),a.bufferData(a.ARRAY_BUFFER,this.Ti.byteLength,a.DYNAMIC_DRAW),this.Ji[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ji[b]),a.bufferData(a.ARRAY_BUFFER,
this.Ki.byteLength,a.DYNAMIC_DRAW);this.Wd=0;this.Fv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Fv);for(var g=new Uint16Array(12E3),d=b=0;12E3>b;)g[b++]=d,g[b++]=d+1,g[b++]=d+2,g[b++]=d,g[b++]=d+2,g[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,g,a.STATIC_DRAW);this.Pg=this.gf=this.bd=0;this.Ja=[];b=this.va?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";g=this.nh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ja.push(g);g=this.nh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ja.push(g);g=this.nh({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ja.push(g);g=this.nh({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ja.push(g);for(var e in lc)lc.hasOwnProperty(e)&&this.Ja.push(this.nh(lc[e],b,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.gd=[];this.Mc=0;this.qb=this.Ya=!1;this.bp=this.Th=-1;this.fg=null;this.cm=a.createFramebuffer();this.zj=this.Qk=null;this.Mo=!1;this.va&&(this.zj=a.createRenderbuffer());this.jf=gc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.aw=a[0];this.ln=a[1];2048<this.ln&&(this.ln=2048);this.fc(0)};p.prototype.mo=function(a){l(this.lq,
a)||(ic(a,this.lq),this.A.uniformMatrix4fv(this.qk,!1,a))};f.prototype.nh=function(a,b,g){var d=this.A,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),null;var h=d.createShader(d.VERTEX_SHADER);d.shaderSource(h,b);d.compileShader(h);if(!d.getShaderParameter(h,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(h),null;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,h);d.linkProgram(b);
if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(h),d.deleteProgram(b),null;d.useProgram(b);d.deleteShader(e);d.deleteShader(h);g=new p(d,b,g);g.Fj=a.Fj||0;g.Gj=a.Gj||0;g.Sl=!!a.Sl;g.Wc=!!a.Wc;g.Cl=!!a.Cl;g.W=a.W||[];a=0;for(e=g.W.length;a<e;a++)g.W[a][1]=d.getUniformLocation(b,g.W[a][0]),g.Vm.push(0),d.uniform1f(g.W[a][1],0);return g};f.prototype.tm=function(a){var b,g;b=0;for(g=this.Ja.length;b<g;b++)if(this.Ja[b].name===a)return b;return-1};f.prototype.Vq=function(a,
b,g){var d=this.Ec,e=this.uk,h=[0,0,0,0,0,0,0,0];h[0]=d[0]*a+d[4]*b+d[12];h[1]=d[1]*a+d[5]*b+d[13];h[2]=d[2]*a+d[6]*b+d[14];h[3]=d[3]*a+d[7]*b+d[15];h[4]=e[0]*h[0]+e[4]*h[1]+e[8]*h[2]+e[12]*h[3];h[5]=e[1]*h[0]+e[5]*h[1]+e[9]*h[2]+e[13]*h[3];h[6]=e[2]*h[0]+e[6]*h[1]+e[10]*h[2]+e[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],g[0]=(.5*h[4]+.5)*this.width,g[1]=(.5*h[5]+.5)*this.height)};f.prototype.Uf=function(a,b,g){if(this.width!==a||this.height!==b||g){this.Ed();g=this.A;
this.width=a;this.height=b;g.viewport(0,0,a,b);kc(this.Jl,this.dq,this.Qr,this.Ec);if(this.va){var d=-a/2;a=a/2;var e=b/2;b=-b/2;var h=this.sl,n=this.so,y=this.uk;y||(y=hc());var f=a-d,c=b-e,q=n-h;y[0]=2/f;y[1]=0;y[2]=0;y[3]=0;y[4]=0;y[5]=2/c;y[6]=0;y[7]=0;y[8]=0;y[9]=0;y[10]=-2/q;y[11]=0;y[12]=-(d+a)/f;y[13]=-(b+e)/c;y[14]=-(n+h)/q;y[15]=1;this.Zi[0]=1;this.Zi[1]=1}else b=a/b,d=this.sl,a=this.so,y=this.uk,n=d*Math.tan(45*Math.PI/360),b*=n,e=-b,h=-n,y||(y=hc()),f=b-e,c=n-h,q=a-d,y[0]=2*d/f,y[1]=0,
y[2]=0,y[3]=0,y[4]=0,y[5]=2*d/c,y[6]=0,y[7]=0,y[8]=(b+e)/f,y[9]=(n+h)/c,y[10]=-(a+d)/q,y[11]=-1,y[12]=0,y[13]=0,y[14]=-(a*d*2)/q,y[15]=0,d=[0,0],a=[0,0],this.Vq(0,0,d),this.Vq(1,1,a),this.Zi[0]=1/(a[0]-d[0]),this.Zi[1]=-1/(a[1]-d[1]);d=0;for(a=this.Ja.length;d<a;d++)e=this.Ja[d],e.yf=!1,e.bq&&(g.useProgram(e.Di),g.uniformMatrix4fv(e.bq,!1,this.uk));g.useProgram(this.Ja[this.Th].Di);g.bindTexture(g.TEXTURE_2D,null);g.activeTexture(g.TEXTURE1);g.bindTexture(g.TEXTURE_2D,null);g.activeTexture(g.TEXTURE0);
this.Gf=this.Qe=null;this.zj&&(g.bindFramebuffer(g.FRAMEBUFFER,this.cm),g.bindRenderbuffer(g.RENDERBUFFER,this.zj),g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_COMPONENT16,this.width,this.height),this.Mo||(g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,this.zj),this.Mo=!0),g.bindRenderbuffer(g.RENDERBUFFER,null),g.bindFramebuffer(g.FRAMEBUFFER,null),this.Qk=null)}};f.prototype.Nd=function(){kc(this.Jl,this.dq,this.Qr,this.Ec);jc(this.Ec,this.Zi)};f.prototype.translate=function(a,
b){if(0!==a||0!==b){this.jf[0]=a;this.jf[1]=b;this.jf[2]=0;var g=this.Ec,d=this.jf,e=d[0],h=d[1],d=d[2];g[12]=g[0]*e+g[4]*h+g[8]*d+g[12];g[13]=g[1]*e+g[5]*h+g[9]*d+g[13];g[14]=g[2]*e+g[6]*h+g[10]*d+g[14];g[15]=g[3]*e+g[7]*h+g[11]*d+g[15]}};f.prototype.scale=function(a,b){if(1!==a||1!==b)this.jf[0]=a,this.jf[1]=b,this.jf[2]=1,jc(this.Ec,this.jf)};f.prototype.Mn=function(a){if(0!==a){var b=this.Ec,g,d=Math.sin(a);a=Math.cos(a);var e=b[0],h=b[1],n=b[2],y=b[3],f=b[4],c=b[5],q=b[6],k=b[7];g?b!==g&&(g[8]=
b[8],g[9]=b[9],g[10]=b[10],g[11]=b[11],g[12]=b[12],g[13]=b[13],g[14]=b[14],g[15]=b[15]):g=b;g[0]=e*a+f*d;g[1]=h*a+c*d;g[2]=n*a+q*d;g[3]=y*a+k*d;g[4]=e*-d+f*a;g[5]=h*-d+c*a;g[6]=n*-d+q*a;g[7]=y*-d+k*a}};f.prototype.xd=function(){if(!l(this.Wm,this.Ec)){var a=this.Nb();a.type=5;a.X?ic(this.Ec,a.X):a.X=hc(this.Ec);ic(this.Ec,this.Wm);this.qb=this.Ya=!1}};f.prototype.Wk=function(a){this.va&&(32760<a&&(a=32760),this.vj=this.Jl[2]-this.sl-a*this.nx)};r.prototype.Tt=function(){var a=this.A,b=this.j;0!==
this.tb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.cm),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.fk=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.fk=!1)};r.prototype.Xt=function(){this.A.bindTexture(this.A.TEXTURE_2D,this.$c)};r.prototype.Yt=function(){var a=this.A;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.$c);
a.activeTexture(a.TEXTURE0)};r.prototype.Ut=function(){var a=this.Hq,b=this.j;b.uj=a;b=b.fg;b.Fg&&b.tk!==a&&(b.tk=a,this.A.uniform1f(b.Fg,a))};r.prototype.Ot=function(){this.A.drawElements(this.A.TRIANGLES,this.Yb,this.A.UNSIGNED_SHORT,this.tb)};r.prototype.Qt=function(){this.A.blendFunc(this.tb,this.Yb)};r.prototype.Zt=function(){var a,b,g,d=this.j.Ja,e=this.j.bp;a=0;for(b=d.length;a<b;a++)g=d[a],a===e&&g.qk?(g.mo(this.X),g.yf=!0):g.yf=!1;ic(this.X,this.j.Tl)};r.prototype.Pt=function(){var a=this.A,
b=this.j;this.$c?(b.Gf===this.$c&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Gf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.cm),b.fk||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.$c,0)):(b.va||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};r.prototype.Mt=function(){var a=this.A,b=this.tb;0===b?(a.clearColor(this.X[0],this.X[1],this.X[2],this.X[3]),a.clear(a.COLOR_BUFFER_BIT)):
1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.X[0],this.X[1],this.X[2],this.X[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};r.prototype.St=function(){var a=this.A;0!==this.tb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};r.prototype.Nt=function(){var a=this.A,b=this.j;b.va&&a.disable(a.DEPTH_TEST);var g=b.Ja[1];a.useProgram(g.Di);!g.yf&&g.qk&&(g.mo(b.Tl),g.yf=!0);a.enableVertexAttribArray(g.Sc);a.bindBuffer(a.ARRAY_BUFFER,b.An);a.vertexAttribPointer(g.Sc,
4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.tb/4,this.Yb);g=b.fg;a.useProgram(g.Di);0<=g.Sc&&(a.enableVertexAttribArray(g.Sc),a.bindBuffer(a.ARRAY_BUFFER,b.Si[b.Wd]),a.vertexAttribPointer(g.Sc,b.va?3:2,a.FLOAT,!1,0,0));0<=g.Ve&&(a.enableVertexAttribArray(g.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.Ji[b.Wd]),a.vertexAttribPointer(g.Ve,2,a.FLOAT,!1,0,0));b.va&&a.enable(a.DEPTH_TEST)};r.prototype.Vt=function(){var a=this.A,b=this.j,g=b.Ja[this.tb];b.bp=this.tb;b.fg=g;a.useProgram(g.Di);!g.yf&&g.qk&&(g.mo(b.Tl),
g.yf=!0);g.Fg&&g.tk!==b.uj&&(g.tk=b.uj,a.uniform1f(g.Fg,b.uj));0<=g.Sc&&(a.enableVertexAttribArray(g.Sc),a.bindBuffer(a.ARRAY_BUFFER,b.Si[b.Wd]),a.vertexAttribPointer(g.Sc,b.va?3:2,a.FLOAT,!1,0,0));0<=g.Ve&&(a.enableVertexAttribArray(g.Ve),a.bindBuffer(a.ARRAY_BUFFER,b.Ji[b.Wd]),a.vertexAttribPointer(g.Ve,2,a.FLOAT,!1,0,0))};r.prototype.Rt=function(){var a=this.X;this.A.uniform4f(this.j.fg.dn,a[0],a[1],a[2],a[3])};r.prototype.Wt=function(){var a,b,g=this.j.fg,d=this.A;a=this.X;g.fi&&this.j.Gf!==this.$c&&
(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.$c),this.j.Gf=this.$c,d.activeTexture(d.TEXTURE0));var e=a[0];g.hn&&e!==g.nq&&(g.nq=e,d.uniform1f(g.hn,e));e=a[1];g.gn&&e!==g.mq&&(g.mq=e,d.uniform1f(g.gn,e));e=a[2];b=a[3];!g.Kf||e===g.hq&&b===g.iq||(g.hq=e,g.iq=b,d.uniform2f(g.Kf,e,b));e=a[4];b=a[5];!g.Jf||e===g.fq&&b===g.gq||(g.fq=e,g.gq=b,d.uniform2f(g.Jf,e,b));e=a[6];g.ei&&e!==g.kq&&(g.kq=e,d.uniform1f(g.ei,e));e=a[7];g.di&&e!==g.jq&&(g.jq=e,d.uniform1f(g.di,e));e=a[8];b=a[9];!g.ji||
e===g.rq&&b===g.sq||(g.rq=e,g.sq=b,d.uniform2f(g.ji,e,b));e=a[10];b=a[11];!g.gi||e===g.oq&&b===g.pq||(g.oq=e,g.pq=b,d.uniform2f(g.gi,e,b));e=a[12];g.hi&&e!==g.qq&&(g.qq=e,d.uniform1f(g.hi,e));if(g.W.length)for(a=0,b=g.W.length;a<b;a++)e=this.qr[a],e!==g.Vm[a]&&(g.Vm[a]=e,d.uniform1f(g.W[a][1],e))};f.prototype.Nb=function(){this.Mc===this.gd.length&&this.gd.push(new r(0,this));return this.gd[this.Mc++]};f.prototype.Ed=function(){if(0!==this.Mc&&!this.A.isContextLost()){var a=this.A;0<this.Pg&&(a.bindBuffer(a.ARRAY_BUFFER,
this.An),a.bufferSubData(a.ARRAY_BUFFER,0,this.Bn.subarray(0,this.Pg)),b&&0<=b.Sc&&"<point>"===b.name&&a.vertexAttribPointer(b.Sc,4,a.FLOAT,!1,0,0));if(0<this.bd){var b=this.fg;a.bindBuffer(a.ARRAY_BUFFER,this.Si[this.Wd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Ti.subarray(0,this.bd));b&&0<=b.Sc&&"<point>"!==b.name&&a.vertexAttribPointer(b.Sc,this.va?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ji[this.Wd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Ki.subarray(0,this.gf));b&&0<=b.Ve&&"<point>"!==
b.name&&a.vertexAttribPointer(b.Ve,2,a.FLOAT,!1,0,0)}for(var g,a=0,b=this.Mc;a<b;a++)switch(g=this.gd[a],g.type){case 1:g.Ot();break;case 2:g.Xt();break;case 3:g.Ut();break;case 4:g.Qt();break;case 5:g.Zt();break;case 6:g.Pt();break;case 7:g.Mt();break;case 8:g.Nt();break;case 9:g.Vt();break;case 10:g.Wt();break;case 11:g.Yt();break;case 12:g.Rt();break;case 13:g.St();break;case 14:g.Tt()}this.Pg=this.gf=this.bd=this.Mc=0;this.fk=this.qb=this.Ya=!1;this.Wd++;4<=this.Wd&&(this.Wd=0)}};f.prototype.le=
function(a){if(a!==this.Vp&&!this.Hh){var b=this.Nb();b.type=3;this.Vp=b.Hq=a;this.qb=this.Ya=!1}};f.prototype.Oa=function(a){if(a!==this.Qe){var b=this.Nb();b.type=2;this.Qe=b.$c=a;this.qb=this.Ya=!1}};f.prototype.$e=function(a,b){if((a!==this.Wp||b!==this.Sp)&&!this.Hh){var g=this.Nb();g.type=4;g.tb=a;g.Yb=b;this.Wp=a;this.Sp=b;this.qb=this.Ya=!1}};f.prototype.fr=function(){this.$e(this.A.ONE,this.A.ONE_MINUS_SRC_ALPHA)};f.prototype.Ze=function(a,b,g,d,e,h,n,y){15992<=this.bd&&this.Ed();var f=this.bd,
c=this.gf,q=this.Ti,k=this.Ki,l=this.vj;if(this.Ya)this.gd[this.Mc-1].Yb+=6;else{var p=this.Nb();p.type=1;p.tb=this.va?f:f/2*3;p.Yb=6;this.Ya=!0;this.qb=!1}this.va?(q[f++]=a,q[f++]=b,q[f++]=l,q[f++]=g,q[f++]=d,q[f++]=l,q[f++]=e,q[f++]=h,q[f++]=l,q[f++]=n,q[f++]=y,q[f++]=l):(q[f++]=a,q[f++]=b,q[f++]=g,q[f++]=d,q[f++]=e,q[f++]=h,q[f++]=n,q[f++]=y);k[c++]=0;k[c++]=0;k[c++]=1;k[c++]=0;k[c++]=1;k[c++]=1;k[c++]=0;k[c++]=1;this.bd=f;this.gf=c};f.prototype.sd=function(a,b,g,d,e,h,n,f,c){15992<=this.bd&&this.Ed();
var k=this.bd,q=this.gf,v=this.Ti,l=this.Ki,p=this.vj;if(this.Ya)this.gd[this.Mc-1].Yb+=6;else{var C=this.Nb();C.type=1;C.tb=this.va?k:k/2*3;C.Yb=6;this.Ya=!0;this.qb=!1}var C=c.left,r=c.top,H=c.right;c=c.bottom;this.va?(v[k++]=a,v[k++]=b,v[k++]=p,v[k++]=g,v[k++]=d,v[k++]=p,v[k++]=e,v[k++]=h,v[k++]=p,v[k++]=n,v[k++]=f,v[k++]=p):(v[k++]=a,v[k++]=b,v[k++]=g,v[k++]=d,v[k++]=e,v[k++]=h,v[k++]=n,v[k++]=f);l[q++]=C;l[q++]=r;l[q++]=H;l[q++]=r;l[q++]=H;l[q++]=c;l[q++]=C;l[q++]=c;this.bd=k;this.gf=q};f.prototype.Yq=
function(a,b,g,d,e,h,n,f,c,k,q,v,l){15992<=this.bd&&this.Ed();var p=this.bd,C=this.gf,r=this.Ti,H=this.Ki,x=this.vj;if(this.Ya)this.gd[this.Mc-1].Yb+=6;else{var K=this.Nb();K.type=1;K.tb=this.va?p:p/2*3;K.Yb=6;this.Ya=!0;this.qb=!1}this.va?(r[p++]=a,r[p++]=b,r[p++]=x,r[p++]=g,r[p++]=d,r[p++]=x,r[p++]=e,r[p++]=h,r[p++]=x,r[p++]=n,r[p++]=f,r[p++]=x):(r[p++]=a,r[p++]=b,r[p++]=g,r[p++]=d,r[p++]=e,r[p++]=h,r[p++]=n,r[p++]=f);H[C++]=c;H[C++]=k;H[C++]=q;H[C++]=0;H[C++]=v;H[C++]=0;H[C++]=l;H[C++]=0;this.bd=
p;this.gf=C};f.prototype.Zo=function(a){var b=a.length/2-2,g=b-1,d=a[0],e=a[1],h,n,f,c,k,q,v;for(h=0;h<b;h+=2)n=2*h,f=a[n+2],c=a[n+3],k=a[n+4],q=a[n+5],h===g?this.Ze(d,e,f,c,k,q,k,q):(v=a[n+6],n=a[n+7],this.Ze(d,e,f,c,k,q,v,n))};f.prototype.pw=function(a,b,g,d){7996<=this.Pg&&this.Ed();var e=this.Pg,h=this.Bn;if(this.qb)this.gd[this.Mc-1].Yb++;else{var n=this.Nb();n.type=8;n.tb=e;n.Yb=1;this.qb=!0;this.Ya=!1}h[e++]=a;h[e++]=b;h[e++]=g;h[e++]=d;this.Pg=e};f.prototype.fc=function(a){if(this.Th!==a){if(!this.Ja[a]){if(0===
this.Th)return;a=0}var b=this.Nb();b.type=9;this.Th=b.tb=a;this.qb=this.Ya=!1}};f.prototype.si=function(a){a=this.Ja[a];return!(!a.Kf&&!a.Jf)};f.prototype.Dn=function(a){a=this.Ja[a];return!!(a.Kf||a.Jf||a.Sl)};f.prototype.Cn=function(a){return this.Ja[a].Wc};f.prototype.ww=function(a){a=this.Ja[a];return 0!==a.Fj||0!==a.Gj};f.prototype.hv=function(a){return this.Ja[a].Fj};f.prototype.iv=function(a){return this.Ja[a].Gj};f.prototype.jv=function(a,b){return this.Ja[a].W[b][2]};f.prototype.Lk=function(a){return this.Ja[a].Cl};
f.prototype.Sg=function(a,b,g,d,e,h,n,f,c,k,q,v,l,p,C){var r=this.Ja[this.Th],H,x;if(r.Bv||C.length){H=this.Nb();H.type=10;H.X?ic(this.Ec,H.X):H.X=hc();x=H.X;x[0]=b;x[1]=g;x[2]=d;x[3]=e;x[4]=h;x[5]=n;x[6]=f;x[7]=c;x[8]=k;x[9]=q;x[10]=v;x[11]=l;x[12]=p;r.fi?H.$c=a:H.$c=null;if(C.length)for(g=H.qr,g.length=C.length,a=0,b=C.length;a<b;a++)g[a]=C[a];this.qb=this.Ya=!1}};f.prototype.clear=function(a,b,g,d){var e=this.Nb();e.type=7;e.tb=0;e.X||(e.X=hc());e.X[0]=a;e.X[1]=b;e.X[2]=g;e.X[3]=d;this.qb=this.Ya=
!1};f.prototype.clearRect=function(a,b,g,d){if(!(0>g||0>d)){var e=this.Nb();e.type=7;e.tb=1;e.X||(e.X=hc());e.X[0]=a;e.X[1]=b;e.X[2]=g;e.X[3]=d;this.qb=this.Ya=!1}};f.prototype.jr=function(a){if(this.va&&(a=!!a,this.Hh!==a)){var b=this.Nb();b.type=14;b.tb=a?1:0;this.qb=this.Ya=!1;this.Hh=a;this.Qk=null;this.Hh?this.fc(2):this.fc(0)}};f.prototype.ir=function(a){if(this.va){var b=this.Nb();b.type=13;b.tb=a?1:0;this.qb=this.Ya=!1}};f.prototype.np=function(){ic(this.Wm,c);this.Nd();this.xd();var a=this.width/
2,b=this.height/2;this.Ze(-a,b,a,b,a,-b,-a,-b);ic(c,this.Ec);this.xd()};f.prototype.hr=function(a,b,g){this.fc(3);var d=this.Nb();d.type=12;d.X||(d.X=hc());d.X[0]=a;d.X[1]=b;d.X[2]=g;d.X[3]=1;this.qb=this.Ya=!1};f.prototype.Tw=function(){this.fc(0)};f.prototype.Ew=function(){this.fc(2)};f.prototype.vw=function(){this.Ed();this.A.flush()};var k=[],b={};f.prototype.Bt=function(){T(k);b={}};f.prototype.Dc=function(a,f,g,d,e){f=!!f;g=!!g;var h=a.src+","+f+","+g+(f?","+e:""),n=null;if("undefined"!==typeof a.src&&
b.hasOwnProperty(h))return n=b[h],n.kj++,n;this.Ed();var c=this.A,l=ka(a.width)&&ka(a.height),n=c.createTexture();c.bindTexture(c.TEXTURE_2D,n);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=c.RGBA,q=c.RGBA,v=c.UNSIGNED_BYTE;if(d&&!this.ee)switch(d){case 1:q=p=c.RGB;break;case 2:v=c.UNSIGNED_SHORT_4_4_4_4;break;case 3:v=c.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=p=c.RGB,v=c.UNSIGNED_SHORT_5_6_5}if(!l&&f){d=document.createElement("canvas");d.width=la(a.width);d.height=la(a.height);var r=d.getContext("2d");
r.webkitImageSmoothingEnabled=g;r.mozImageSmoothingEnabled=g;r.msImageSmoothingEnabled=g;r.imageSmoothingEnabled=g;r.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);c.texImage2D(c.TEXTURE_2D,0,p,q,v,d)}else c.texImage2D(c.TEXTURE_2D,0,p,q,v,a);f?"repeat-x"===e?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)):("repeat-y"===e?c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,
c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));g?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),l&&this.fp?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.generateMipmap(c.TEXTURE_2D)):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_MIN_FILTER,c.NEAREST));c.bindTexture(c.TEXTURE_2D,null);this.Qe=null;n.kd=a.width;n.jd=a.height;n.kj=1;n.So=h;k.push(n);return b[h]=n};f.prototype.kc=function(a,b,c,d,e){this.Ed();var h=this.A;this.ee&&(d=!1);var n=h.createTexture();h.bindTexture(h.TEXTURE_2D,n);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,b,0,h.RGBA,d?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);e?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,c?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,c?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.Qe=null;n.kd=a;n.jd=b;k.push(n);return n};f.prototype.Yr=function(a,b){var c;this.Ed();var d=this.A;this.ee&&(c=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,
0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}d.bindTexture(d.TEXTURE_2D,null);this.Qe=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.kj&&1<a.kj?a.kj--:(this.Ed(),a===this.Qe&&(this.A.bindTexture(this.A.TEXTURE_2D,null),this.Qe=null),a===this.Gf&&(this.A.activeTexture(this.A.TEXTURE1),this.A.bindTexture(this.A.TEXTURE_2D,null),this.A.activeTexture(this.A.TEXTURE0),this.Gf=null),
Ea(k,a),"undefined"!==typeof a.So&&delete b[a.So],this.A.deleteTexture(a)))};f.prototype.Yc=function(a){if(a!==this.Qk){var b=this.Nb();b.type=6;this.Qk=b.$c=a;this.qb=this.Ya=!1}};ob=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Id=(this.Gh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Zb=!!a.dc;this.Ip="undefined"!==typeof window.AppMobi||
this.Zb;this.nd=!!window.c2cocoonjs;this.od=!!window.c2ejecta;this.nd&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.od&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.kb=this.Zb||this.nd||this.od;this.Jh=
/edge\//i.test(navigator.userAgent);this.ee=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Jh;this.Lp=/tizen/i.test(navigator.userAgent);this.dk=/android/i.test(navigator.userAgent)&&!this.Lp&&!this.ee&&!this.Jh;this.Qp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ee&&!this.Jh;this.Rv=/ipad/i.test(navigator.userAgent);this.Qh=this.Qp||this.Rv||this.od;this.Fh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ee&&!this.Jh;this.Mm=/amazonwebappplatform/i.test(navigator.userAgent);this.Lv=/firefox/i.test(navigator.userAgent);this.Ov=/safari/i.test(navigator.userAgent)&&!this.Fh&&!this.ee&&!this.Jh;this.Pv=/windows/i.test(navigator.userAgent);this.Ne="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Op=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Qv=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.vg=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Sm=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Np=!!window.cr_windows10;this.Mp=this.Op||this.Qv||this.Sm||this.Np;this.Jv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.ek=this.dk&&!this.Fh&&!this.Gh&&!this.Lv&&!this.Mm&&!this.kb;this.devicePixelRatio=
1;this.tg=this.Id||this.Gh||this.Ip||this.nd||this.dk||this.Qh||this.vg||this.Sm||this.Jv||this.Lp||this.od;this.tg||(this.tg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Nh=!!(this.Qh&&this.Id&&window.indexedDB);this.Bp=null;this.Dv="";this.Nh&&(this.Bp=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ne||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Ne=!0);this.canvas=a;this.Uo=document.getElementById("c2canvasdiv");this.j=this.A=null;this.xm="(unavailable)";this.va=!1;this.sf=0;this.ma=null;this.im="";this.Lj=!1;this.Fq=this.Gq=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Zb&&(window.c2runtime=this);this.Ne&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.ek&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.K=this.width;this.J=this.height;this.sj=this.width;this.ph=this.height;this.Vh=window.innerWidth;this.Uh=window.innerHeight;this.Pu=!1;this.na=!0;this.Mh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.Ga=
[];this.Xm={};this.oc=[];this.$l={};this.Zd=[];this.bh=[];this.ll=[];this.lt=[];this.mt=[];this.Un=this.Rp=this.Br=null;this.qf={};this.Om=this.Me=!1;this.Cc=0;this.Nm=this.Qm=!1;this.ld=[];this.Ih=!1;this.fe=this.Bb=this.ai=this.Uk="";this.Hi=this.tr=!1;this.Kj=[];this.Je=this.rf=0;this.vq=30;this.Ql=this.ki=0;this.Yf=1;this.$a=new db;this.re=new db;this.zk=this.Qj=this.vf=this.Xg=this.If=this.hm=this.kk=0;this.Ud=null;this.Aj=[];this.Zl=[];this.Ej=-1;this.jn=[[]];this.ho=this.rk=0;this.Nk(null);
this.uh=this.Aq=this.ni=0;this.Ii=[];this.bo=this.Gn=-1;this.Df=!0;this.pk=0;this.Kh=!1;this.Yw=0;this.dg=null;this.lc=this.xp=!1;this.Eq=new ca;this.qn=new ca;this.rn=new ca;this.wi=[];this.ud=new fb([]);this.ao=new fb([]);this.ze=[];this.Ah={};this.Ee={};this.xe={};this.ah={};this.Oo={};this.Zp=this.mk=this.Ra=this.ab=this.Yp=this.lk=this.ha=null;this.Zg=this.Tm=!1;this.jm=[null,null];this.wf=0;this.em="";this.ie={};this.Gi=this.Te=null;this.wr="";this.yk=[];this.Dw()}}function p(a,b){return 128>=
b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function l(){try{return!!window.indexedDB}catch(a){return!1}}function r(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,b,d,e){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=r;h.onerror=e;h.onsuccess=function(h){h=h.target.result;h.onerror=e;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=d}}catch(c){e(c)}}function k(a,b,d){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=
r;e.onerror=d;e.onsuccess=function(e){e=e.target.result;e.onerror=d;var h=e.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?b(h.result.data):b(null)}}}catch(h){d(h)}}function b(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var b,d={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==
typeof a[b].uy||"spriteCreatedDestroyCallback"!==b&&(d[b]=a[b]);return d}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Dw=function(){var a=this;if(this.Nh)this.Bp.startServer({port:0,localhost_only:!0},function(b){a.Dv=b;a.Mu(function(b){a.bi(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)});else{var b;
this.vg?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var d="data.js";if(this.Op||this.vg||this.Sm||this.Np)d="data.json";b.open("GET",d,!0);var e=!1;if(!this.kb&&"response"in b&&"responseType"in b)try{b.responseType="json",e="json"===b.responseType}catch(h){e=!1}if(!e&&"responseType"in b)try{b.responseType="text"}catch(c){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.vg?b.onreadystatechange=function(){4===b.readyState&&a.bi(JSON.parse(b.responseText))}:
(b.onload=function(){if(e)a.bi(b.response);else if(a.od){var d=b.responseText,d=d.substr(d.indexOf("{"));a.bi(JSON.parse(d))}else a.bi(JSON.parse(b.responseText))},b.onerror=function(a){fa("Error requesting "+d+":");fa(a)});b.send()}};f.prototype.Gv=function(){var a=this,b,d,e,h,c,n,g,f,q;this.Cf=(!this.kb||this.od||this.Id)&&this.kx&&!this.ek;0===this.Xb&&this.Qh&&(this.Cf=!1);this.devicePixelRatio=this.Cf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||
1:1;this.xb();d=!(!this.Pu&&(!this.Al||this.Ne||this.Mp||this.vg||this.Gh||this.Id||this.Mm));0<this.Xb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.gu&&(this.nd||this.od||!this.kb)&&(b={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.A=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(k){}if(this.A){if(b=this.A.getExtension("WEBGL_debug_renderer_info"))this.xm=this.A.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.A.getParameter(b.UNMASKED_VENDOR_WEBGL)+
"]";this.va&&(this.xm+=" [front-to-back enabled]");this.kb||(this.rb=document.createElement("canvas"),jQuery(this.rb).appendTo(this.canvas.parentNode),this.rb.oncontextmenu=function(){return!1},this.rb.onselectstart=function(){return!1},this.rb.width=Math.round(this.sj*this.devicePixelRatio),this.rb.height=Math.round(this.ph*this.devicePixelRatio),jQuery(this.rb).css({width:this.sj+"px",height:this.ph+"px"}),this.Tq(),this.zn=this.rb.getContext("2d"));this.j=new ob(this.A,this.tg,this.va);this.j.Uf(this.canvas.width,
this.canvas.height);this.j.fp=0!==this.$t;this.ma=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.dw();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.Dp();a.j.Uf(a.j.width,a.j.height,!0);a.ab=null;a.Ra=null;a.jm[0]=null;a.jm[1]=null;a.ew();a.na=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(d=this.q.length;b<d;b++)for(c=this.q[b],e=
0,h=c.S.length;e<h;e++)g=c.S[e],g.Ua=this.j.tm(g.id),g.Wc=this.j.Cn(g.Ua),this.Zg=this.Zg||this.j.si(g.Ua);b=0;for(d=this.oc.length;b<d;b++){f=this.oc[b];e=0;for(h=f.S.length;e<h;e++)g=f.S[e],g.Ua=this.j.tm(g.id),g.Wc=this.j.Cn(g.Ua);f.wd();e=0;for(h=f.V.length;e<h;e++){q=f.V[e];c=0;for(n=q.S.length;c<n;c++)g=q.S[c],g.Ua=this.j.tm(g.id),g.Wc=this.j.Cn(g.Ua),this.Zg=this.Zg||this.j.si(g.Ua);q.wd()}}}else{if(0<this.Xb&&this.Zb){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=
function(){return!1};this.ma=AppMobi.canvas.getContext("2d");try{this.ma.samplingMode=this.O?"smooth":"sharp",this.ma.globalScale=1,this.ma.HTML5CompatibilityMode=!0,this.ma.imageSmoothingEnabled=this.O}catch(y){}0!==this.width&&0!==this.height&&(this.ma.width=this.width,this.ma.height=this.height)}this.ma||(this.nd?(b={antialias:!!this.O,alpha:d},this.ma=this.canvas.getContext("2d",b)):(b={alpha:d},this.ma=this.canvas.getContext("2d",b)),this.ma.webkitImageSmoothingEnabled=this.O,this.ma.mozImageSmoothingEnabled=
this.O,this.ma.msImageSmoothingEnabled=this.O,this.ma.imageSmoothingEnabled=this.O);this.zn=this.rb=null}this.Hr=function(b){a.Pa(!1,b)};window==window.top||this.kb||this.Mp||this.vg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.nd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),
this.ai="__c2_continuouspreview",this.Hi=!0),this.mw&&!this.tg&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Of()});this.kb||(b=function(a){if(nb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?
document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Xb&&this.Cf&&1<this.devicePixelRatio&&this.setSize(this.eb,this.cb,!0);this.Nr();this.yv();this.go();this.u={}};f.prototype.setSize=function(a,b,d){var e=0,h=0,c=0,n=0,n=0;if(this.Vh!==a||this.Uh!==b||d){this.Vh=a;this.Uh=b;var g=this.Xb,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Kh)&&!this.Id;
if(f||0!==this.Xb||d)f&&0<this.wf&&(g=this.wf),d=this.devicePixelRatio,4<=g?(c=this.eb/this.cb,a/b>c?(c*=b,5===g?(n=c*d/this.eb,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),c=this.eb*n/d,n=this.cb*n/d,e=(a-c)/2,h=(b-n)/2,a=c,b=n):(e=(a-c)/2,a=c)):(n=a/c,5===g?(n=n*d/this.cb,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),c=this.eb*n/d,n=this.cb*n/d,e=(a-c)/2,h=(b-n)/2,a=c):h=(b-n)/2,b=n),f&&!this.Ne&&(h=e=0)):this.Ne&&this.Kh&&0===this.op&&(e=Math.floor((a-this.eb)/2),h=Math.floor((b-this.cb)/2),a=
this.eb,b=this.cb),2>g&&(this.jh=d),this.sj=Math.round(a),this.ph=Math.round(b),this.width=Math.round(a*d),this.height=Math.round(b*d),this.na=!0,this.Zr?(this.K=this.width,this.J=this.height,this.wc=!0):this.width<this.eb&&this.height<this.cb||1===g?(this.K=this.width,this.J=this.height,this.wc=!0):(this.K=this.eb,this.J=this.cb,this.wc=!1,2===g?(c=this.eb/this.cb,g=this.Vh/this.Uh,g<c?this.K=this.J*g:g>c&&(this.J=this.K/g)):3===g&&(c=this.eb/this.cb,g=this.Vh/this.Uh,g>c?this.K=this.J*g:g<c&&(this.J=
this.K/g))),this.Uo&&!this.kb&&(jQuery(this.Uo).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(b*d),this.od?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(a)+
"px",this.canvas.style.height=Math.round(b)+"px"):this.Cf&&!this.kb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.rb&&(this.rb.width=Math.round(a*d),this.rb.height=Math.round(b*d),this.rb.style.width=this.sj+"px",this.rb.style.height=this.ph+"px"),this.j&&this.j.Uf(Math.round(a*d),Math.round(b*d)),this.Zb&&this.ma&&(this.ma.width=Math.round(a),this.ma.height=Math.round(b)),this.ma&&(this.ma.webkitImageSmoothingEnabled=this.O,this.ma.mozImageSmoothingEnabled=
this.O,this.ma.msImageSmoothingEnabled=this.O,this.ma.imageSmoothingEnabled=this.O),this.Nr(),this.Qp&&!this.Id&&window.scrollTo(0,0)}};f.prototype.Nr=function(){if(this.ot&&0!==this.xn){var a="portrait";2===this.xn&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&
console.warn&&console.warn("Failed to lock orientation: ",b)}}};f.prototype.dw=function(){this.j.Bt();this.Tm=!0;var a,b,d;a=0;for(b=this.q.length;a<b;a++)d=this.q[a],d.Mg&&d.Mg()};f.prototype.ew=function(){this.Tm=!1;var a,b,d;a=0;for(b=this.q.length;a<b;a++)d=this.q[a],d.Ng&&d.Ng()};f.prototype.Tq=function(){if(!this.kb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Kh)&&!this.Id?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.rb).css(a)}};var g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var b;if(a&&!this.Mh)for(ea("[Construct 2] Suspending"),this.Mh=!0,-1!==this.Gn&&g&&g(this.Gn),-1!==this.bo&&clearTimeout(this.bo),a=0,b=this.Ii.length;a<b;a++)this.Ii[a](!0);else if(!a&&this.Mh){ea("[Construct 2] Resuming");this.Mh=!1;this.kk=Za();this.If=
Za();a=this.ki=this.Qj=0;for(b=this.Ii.length;a<b;a++)this.Ii[a](!1);this.Pa(!1)}};f.prototype.jt=function(a){this.Ii.push(a)};f.prototype.ve=function(a){return this.yk[a]};f.prototype.bi=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.mp=a[1];this.Xb=a[12];this.op=a[12];this.eb=a[10];this.cb=a[11];this.Oq=this.eb/2;this.Pq=this.cb/2;this.kb&&!this.od&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.op=this.Xb=3);this.po=a[18];this.Ue=a[19];if(0===this.Ue){var b=new Image;b.crossOrigin="anonymous";this.lr(b,"loading-logo.png");this.Te={sk:b}}else if(4===this.Ue){b=new Image;b.src="";var d=new Image;d.src="";var e=new Image;e.src="";var h=new Image;h.src="";var c=new Image;c.src="";var n=new Image;n.src="";var g=new Image;g.src="";var f=new Image;f.src="";var q=new Image;q.src="";var k=new Image;k.src="";var y=new Image;y.src="";var v=new Image;v.src="";this.Te={sk:[b,d,e,h],sw:[c,n,g,f],
mx:[q,k,y,v]}}this.ni=a[21];this.yk=mc();this.Qd=new X(this);b=0;for(d=a[2].length;b<d;b++)g=a[2][b],e=this.ve(g[0]),pb(g,e.prototype),f=new e(this),f.al=g[1],f.Pe=g[2],f.xq=g[9],f.ea&&f.ea(),this.plugins.push(f);this.yk=mc();b=0;for(d=a[3].length;b<d;b++){g=a[3][b];c=this.ve(g[1]);f=null;e=0;for(h=this.plugins.length;e<h;e++)if(this.plugins[e]instanceof c){f=this.plugins[e];break}q=new f.Ca(f);q.name=g[0];q.B=g[2];q.Lm=g[3].slice(0);q.lx=g[3].length;q.pt=g[4];q.Ru=g[5];q.ca=g[11];q.B?(q.Ig=[],q.$d=
this.uh++,q.Fa=null):(q.Ig=null,q.$d=-1,q.Fa=[]);q.Ij=null;q.kg=null;q.gp=null;q.Jb=!1;q.jc=null;g[6]?(q.Li=g[6][0],q.Mi=g[6][1],q.hf=g[6][2]):(q.Li=null,q.Mi=0,q.hf=0);g[7]?q.Sb=g[7]:q.Sb=null;q.index=b;q.c=[];q.xj=[];q.oe=[new qb(q)];q.Dd=0;q.Pc=null;q.Jt=0;q.Vg=!0;q.ml=rb;q.Wu=sb;q.cv=tb;q.Z=ub;q.ti=vb;q.Mk=wb;q.Rf=xb;q.Sj=yb;q.lm=zb;q.om=Ab;q.ed=Bb;q.pm=Cb;q.pj=new gb(this.eb,this.cb);q.cj=!0;q.ej=!1;q.u={};q.toString=Db;q.Ga=[];e=0;for(h=g[8].length;e<h;e++){k=g[8][e];y=this.ve(k[1]);v=null;
c=0;for(n=this.Ga.length;c<n;c++)if(this.Ga[c]instanceof y){v=this.Ga[c];break}v||(v=new y(this),v.xk=[],v.wk=new ca,v.ea&&v.ea(),this.Ga.push(v),nc&&v instanceof nc&&(this.Br=v),ec.Tv&&v instanceof ec.Tv&&(this.Rp=v),ec.Ww&&v instanceof ec.Ww&&(this.Un=v));-1===v.xk.indexOf(q)&&v.xk.push(q);c=new v.Ca(v,q);c.name=k[0];c.ca=k[2];c.ea();q.Ga.push(c)}q.global=g[9];q.Pm=g[10];q.S=[];e=0;for(h=g[12].length;e<h;e++)q.S.push({id:g[12][e][0],name:g[12][e][1],Ua:-1,Wc:!1,fb:!0,index:e});q.Cy=g[13];this.po&&
!q.B&&!q.Pm&&f.Pe||q.ea();q.name&&(this.types[q.name]=q);this.q.push(q);f.al&&(e=new f.ua(q),e.uid=this.ni++,e.Xq=this.Aq++,e.Af=0,e.yh=Eb,e.toString=Fb,e.H=g[14],e.ea(),q.c.push(e),this.ie[e.uid.toString()]=e)}b=0;for(d=a[4].length;b<d;b++)for(c=a[4][b],n=this.q[c[0]],e=1,h=c.length;e<h;e++)g=this.q[c[e]],g.Fa.push(n),n.Ig.push(g);b=0;for(d=a[28].length;b<d;b++){c=a[28][b];n=[];e=0;for(h=c.length;e<h;e++)n.push(this.q[c[e]]);e=0;for(h=n.length;e<h;e++)n[e].Jb=!0,n[e].jc=n}if(0<this.uh)for(b=0,d=
this.q.length;b<d;b++)if(g=this.q[b],!g.B&&g.Fa.length){g.Ij=Array(this.uh);g.kg=Array(this.uh);g.gp=Array(this.uh);q=[];e=v=y=k=0;for(h=g.Fa.length;e<h;e++)for(f=g.Fa[e],g.Ij[f.$d]=k,k+=f.lx,g.kg[f.$d]=y,y+=f.pt,g.gp[f.$d]=v,v+=f.Ru,c=0,n=f.S.length;c<n;c++)q.push(wa({},f.S[c]));g.S=q.concat(g.S);e=0;for(h=g.S.length;e<h;e++)g.S[e].index=e}b=0;for(d=a[5].length;b<d;b++)g=a[5][b],e=new Gb(this,g),this.Xm[e.name]=e,this.oc.push(e);b=0;for(d=a[6].length;b<d;b++)g=a[6][b],e=new Hb(this,g),this.$l[e.name]=
e,this.Zd.push(e);b=0;for(d=this.Zd.length;b<d;b++)this.Zd[b].Na();b=0;for(d=this.Zd.length;b<d;b++)this.Zd[b].lo();b=0;for(d=this.ll.length;b<d;b++)this.ll[b].Na();T(this.ll);this.nt=a[7];this.em=a[8];this.Gc=a[9];this.jh=1;this.gu=a[13];this.O=a[14];this.Al=a[15];this.kx=a[17];this.xn=a[20];this.ot=0<this.xn;this.mw=a[22];this.wc=this.Zr=a[23];this.$t=a[24];this.tw=a[25];this.va=a[27]&&!this.ee;this.el=Date.now();T(this.yk);this.Gv()};var d=!1;f.prototype.Ui=function(a,b){a.cocoonLazyLoad=!0;a.onerror=
function(b){d=a.Ro=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.od?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(e){d=a.Ro=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",e)}):(a.crossOrigin="anonymous",this.lr(a,b)));this.bh.push(a)};f.prototype.Ou=function(a){var b,d;b=0;for(d=this.bh.length;b<d;b++)if(this.bh[b].Ct===a)return this.bh[b];return null};var e=0,
h=!1;f.prototype.yv=function(){this.dg&&(e=this.dg.Rw(this.nt))};f.prototype.Lo=function(){var a=e,b=0,d=0,g=!0,c,n,d=0;for(c=this.bh.length;d<c;d++){n=this.bh[d];var q=n.mh;if(!q||0>=q)q=5E4;a+=q;n.src&&(n.complete||n.loaded)&&!n.Ro?b+=q:g=!1}g&&this.tw&&this.dg&&(h||(this.dg.Zw(),h=!0),d=this.dg.gv(),b+=d,d<e&&(g=!1));this.qd=0==a?1:b/a;return g};var n=!1;f.prototype.go=function(){if(this.ma||this.j){var a=this.ma||this.zn;this.rb&&this.Tq();this.qd=0;this.Xp=-1;var b=this;if(this.Lo()&&(4!==this.Ue||
n))this.zv();else{var e=Date.now()-this.el;if(a){var g=this.width,h=this.height,c=this.devicePixelRatio;if(3>this.Ue&&(this.nd||500<=e&&this.Xp!=this.qd)){a.clearRect(0,0,g,h);var e=g/2,h=h/2,g=0===this.Ue&&this.Te.sk.complete,q=40*c,f=0,k=80*c,v;if(g){var y=this.Te.sk,k=y.width*c;v=y.height*c;q=k/2;f=v/2;a.drawImage(y,P(e-q),P(h-f),k,v)}1>=this.Ue?(e=P(e-q)+.5,h=P(h+(f+(g?12*c:0)))+.5,a.fillStyle=d?"red":"DodgerBlue",a.fillRect(e,h,Math.floor(k*this.qd),6*c),a.strokeStyle="black",a.strokeRect(e,
h,k,6*c),a.strokeStyle="white",a.strokeRect(e-1*c,h-1*c,k+2*c,8*c)):2===this.Ue&&(a.font=this.od?"12pt ArialMT":"12pt Arial",a.fillStyle=d?"#f00":"#999",a.By="middle",c=Math.round(100*this.qd)+"%",g=a.measureText?a.measureText(c):null,a.fillText(c,e-(g?g.width:0)/2,h));this.Xp=this.qd}else if(4===this.Ue){this.eu(a);m?m(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.nd?10:100)}}};var y=-1,F="undefined"===typeof cr_is_preview?200:0,D=!0,q=!1,v=0,E=
0,z="undefined"===typeof cr_is_preview?3E3:0,C=null,Q=null,H=0;f.prototype.eu=function(a){if(!n){for(var b=Math.ceil(this.width),e=Math.ceil(this.height),c=this.Te.sk,g=this.Te.sw,h=this.Te.mx,f=0;4>f;++f)if(!c[f].complete||!g[f].complete||!h[f].complete)return;0===H&&(y=Date.now());var f=Date.now(),k=!1,l=a,m,r;D||q?(a.clearRect(0,0,b,e),C&&C.width===b&&C.height===e||(C=document.createElement("canvas"),C.width=b,C.height=e,Q=C.getContext("2d")),l=Q,k=!0,D&&1===H&&(y=Date.now())):a.globalAlpha=1;
l.fillStyle="#333333";l.fillRect(0,0,b,e);256<this.ph?(m=Fa(.22*e,105,.6*b),r=.25*m,l.drawImage(p(g,m),.5*b-m/2,.2*e-r/2,m,r),r=m=Math.min(.395*e,.95*b),l.drawImage(p(c,m),.5*b-m/2,.485*e-r/2,m,r),m=Fa(.22*e,105,.6*b),r=.25*m,l.drawImage(p(h,m),.5*b-m/2,.868*e-r/2,m,r),l.fillStyle="#3C3C3C",m=b,r=Math.max(.005*e,2),l.fillRect(0,.8*e-r/2,m,r),l.fillStyle=d?"red":"#E0FF65",m=b*this.qd,l.fillRect(.5*b-m/2,.8*e-r/2,m,r)):(r=m=.55*e,l.drawImage(p(c,m),.5*b-m/2,.45*e-r/2,m,r),l.fillStyle="#3C3C3C",m=b,
r=Math.max(.005*e,2),l.fillRect(0,.85*e-r/2,m,r),l.fillStyle=d?"red":"#E0FF65",m=b*this.qd,l.fillRect(.5*b-m/2,.85*e-r/2,m,r));k&&(D?a.globalAlpha=0===H?0:Math.min((f-y)/300,1):q&&(a.globalAlpha=Math.max(1-(f-E)/300,0)),a.drawImage(C,0,0,b,e));D&&300<=f-y&&2<=H&&(D=!1,v=f);!D&&f-v>=z&&!q&&1<=this.qd&&(q=!0,E=f);if(q&&f-E>=300+F||"undefined"!==typeof cr_is_preview&&1<=this.qd&&500>Date.now()-y)n=!0,q=D=!1,this.Te=Q=C=null;++H}};f.prototype.zv=function(){this.rb&&(this.canvas.parentNode.removeChild(this.rb),
this.rb=this.zn=null);this.el=Date.now();this.If=Za();var a,b,d;if(this.po)for(a=0,b=this.q.length;a<b;a++)d=this.q[a],d.B||d.Pm||!d.wa.Pe||d.ea();else this.Df=!1;a=0;for(b=this.oc.length;a<b;a++)this.oc[a].Et();2<=this.Xb&&(a=this.eb/this.cb,b=this.width/this.height,this.jh=2!==this.Xb&&b>a||2===this.Xb&&b<a?this.height/this.cb:this.width/this.eb);this.mp?this.Xm[this.mp].$n():this.oc[0].$n();this.po||(this.pk=1,this.trigger(X.prototype.i.Eo,null));navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.q.length;a<b;a++)d=this.q[a],d.cw&&d.cw();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Pa(!1);this.Zb&&AppMobi.webview.execute("onGameReady();")};f.prototype.Pa=function(a,b,d){if(this.ha){var e=Za();if(d||!this.Mh||a){a||(m?this.Gn=m(this.Hr):this.bo=setTimeout(this.Hr,this.tg?1:16));b=b||e;var c=this.Xb;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.Id)||this.Kh)&&0<this.wf&&(c=this.wf);if(0<c){var c=window.innerWidth,g=window.innerHeight;this.Vh===c&&this.Uh===g||this.setSize(c,g)}this.kb||(d?(this.Lj||(this.im=jQuery(this.canvas).css("margin")||"0",this.Lj=!0),this.Fh||this.Ne||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Lj?(this.Fh||this.Ne||jQuery(this.canvas).css("margin",this.im),
this.im="",this.Lj=!1,0===this.Xb&&this.setSize(Math.round(this.Gq/this.devicePixelRatio),Math.round(this.Fq/this.devicePixelRatio),!0)):(this.Gq=this.width,this.Fq=this.height));this.Df&&(d=this.Lo(),this.pk=this.qd,d&&(this.Df=!1,this.qd=1,this.trigger(X.prototype.i.Eo,null)));this.Yv(b);!this.na&&!this.nd||this.Tm||this.Hi||a||(this.na=!1,this.j?this.jb():this.vc(),this.Gi&&(this.canvas&&this.canvas.toDataURL&&(this.wr=this.canvas.toDataURL(this.Gi[0],this.Gi[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.wr),
this.trigger(X.prototype.i.Ds,null)),this.Gi=null));this.wy||(this.Xg++,this.vf++,this.Qj++);this.ki+=Za()-e}}};f.prototype.Yv=function(a){var b,d,e,c,g,h,n,q;1E3<=a-this.If&&(this.If+=1E3,1E3<=a-this.If&&(this.If=a),this.hm=this.Qj,this.Qj=0,this.Ql=this.ki,this.ki=0);0!==this.kk&&(b=a-this.kk,0>b&&(b=0),this.Je=b/1E3,.5<this.Je?this.Je=0:this.Je>1/this.vq&&(this.Je=1/this.vq));this.kk=a;this.rf=this.Je*this.Yf;this.$a.add(this.rf);this.re.add(this.Je);a=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement||this.Kh)&&!this.Id;2<=this.Xb||a&&0<this.wf?(b=this.eb/this.cb,d=this.width/this.height,e=this.Xb,a&&0<this.wf&&(e=this.wf),this.jh=2!==e&&d>b||2===e&&d<b?this.height/this.cb:this.width/this.eb,this.ha&&(this.ha.Qn(this.ha.scrollX),this.ha.Rn(this.ha.scrollY))):this.jh=this.Cf?this.devicePixelRatio:1;this.xb();this.Cc++;this.Qd.Iw();this.Cc--;this.xb();this.Cc++;d=this.Eq.Rd();a=0;for(b=d.length;a<b;a++)d[a].zy();a=0;for(b=this.q.length;a<b;a++)if(h=
this.q[a],!h.B&&(h.Ga.length||h.Fa.length))for(d=0,e=h.c.length;d<e;d++)for(n=h.c[d],c=0,g=n.M.length;c<g;c++)n.M[c].Pa();a=0;for(b=this.q.length;a<b;a++)if(h=this.q[a],!h.B&&(h.Ga.length||h.Fa.length))for(d=0,e=h.c.length;d<e;d++)for(n=h.c[d],c=0,g=n.M.length;c<g;c++)q=n.M[c],q.Uq&&q.Uq();d=this.qn.Rd();a=0;for(b=d.length;a<b;a++)d[a].Pa();this.Cc--;this.Av();for(a=0;this.Ud&&10>a++;)this.ep(this.Ud);a=0;for(b=this.Zd.length;a<b;a++)this.Zd[a].Cm=!1;this.ha.tf&&this.ha.tf.Ta();T(this.wi);this.Cc++;
a=0;for(b=this.q.length;a<b;a++)if(h=this.q[a],!h.B&&(h.Ga.length||h.Fa.length))for(d=0,e=h.c.length;d<e;d++)for(n=h.c[d],c=0,g=n.M.length;c<g;c++)q=n.M[c],q.hl&&q.hl();d=this.rn.Rd();a=0;for(b=d.length;a<b;a++)d[a].hl();this.Cc--};f.prototype.Of=function(){var a,b,d,e,c,h,g,n,q;a=0;for(b=this.q.length;a<b;a++)if(g=this.q[a],!g.B)for(d=0,e=g.c.length;d<e;d++)if(n=g.c[d],n.Of&&n.Of(),n.M)for(c=0,h=n.M.length;c<h;c++)q=n.M[c],q.Of&&q.Of()};f.prototype.ep=function(a){var b=this.ha;this.ha.$w();var d,
e,c;if(this.j)for(d=0,e=this.q.length;d<e;d++)c=this.q[d],c.B||!c.Oi||c.global&&0!==c.c.length||-1!==a.Dh.indexOf(c)||c.Oi();b==a&&T(this.Qd.ic);T(this.wi);this.cr(!0);a.$n();this.cr(!1);this.na=!0;this.xb()};f.prototype.cr=function(a){var b,d,e,c,h,g,n,q,f;b=0;for(d=this.Ga.length;b<d;b++)e=this.Ga[b],a?e.oi&&e.oi():e.pi&&e.pi();b=0;for(d=this.q.length;b<d;b++)if(e=this.q[b],e.global||e.wa.al)for(c=0,h=e.c.length;c<h;c++)if(g=e.c[c],a?g.oi&&g.oi():g.pi&&g.pi(),g.M)for(n=0,q=g.M.length;n<q;n++)f=
g.M[n],a?f.oi&&f.oi():f.pi&&f.pi()};f.prototype.il=function(a){this.qn.add(a)};f.prototype.bx=function(a){this.rn.add(a)};f.prototype.vh=function(a){return a&&-1!==a.mi?this.Je*a.mi:this.rf};f.prototype.vc=function(){this.ha.vc(this.ma);this.Zb&&this.ma.present()};f.prototype.jb=function(){this.va&&(this.sf=1,this.ha.Ie(this.j));this.ha.jb(this.j);this.j.vw()};f.prototype.yl=function(a){a&&this.Aj.push(a)};f.prototype.Cw=function(a){Ea(this.Aj,a)};f.prototype.pg=function(a){a=a.toString();return this.ie.hasOwnProperty(a)?
this.ie[a]:null};var x=[];f.prototype.ue=function(a){var b,d;b=a.type.name;var e=null;if(this.qf.hasOwnProperty(b)){if(e=this.qf[b],e.contains(a))return}else e=x.length?x.pop():new ca,this.qf[b]=e;e.add(a);this.Me=!0;if(a.Jb)for(b=0,d=a.siblings.length;b<d;b++)this.ue(a.siblings[b]);this.Om&&e.$g.push(a);this.Nm||(this.Cc++,this.trigger(Object.getPrototypeOf(a.type.wa).i.Fs,a),this.Cc--)};f.prototype.xb=function(){if(this.Me){var a,b,d,e,c,g;this.Om=!0;d=0;for(c=this.ld.length;d<c;++d)for(a=this.ld[d],
b=a.type,b.c.push(a),e=0,g=b.Fa.length;e<g;++e)b.Fa[e].c.push(a),b.Fa[e].Vg=!0;T(this.ld);this.ws();Va(this.qf);this.Me=this.Om=!1}};f.prototype.ws=function(){for(var a in this.qf)this.qf.hasOwnProperty(a)&&this.cs(this.qf[a])};f.prototype.cs=function(a){var b=a.Rd(),d=b[0].type,e,c,g,h,n,q;ab(d.c,a);d.Vg=!0;0===d.c.length&&(d.ej=!1);e=0;for(c=d.Fa.length;e<c;++e)q=d.Fa[e],ab(q.c,a),q.Vg=!0;e=0;for(c=this.Qd.ic.length;e<c;++e)if(n=this.Qd.ic[e],n.Ob.hasOwnProperty(d.index)&&ab(n.Ob[d.index].be,a),
!d.B)for(g=0,h=d.Fa.length;g<h;++g)q=d.Fa[g],n.Ob.hasOwnProperty(q.index)&&ab(n.Ob[q.index].be,a);if(n=b[0].k){if(n.Kc)for(g=n.c,e=0,c=g.length;e<c;++e)h=g[e],a.contains(h)&&(h.qa(),n.sb.update(h,h.ac,null),h.ac.set(0,0,-1,-1));ab(n.c,a);n.Bi(0)}for(e=0;e<b.length;++e)this.bs(b[e],d);a.clear();x.push(a);this.na=!0};f.prototype.bs=function(a,b){var d,e,c;d=0;for(e=this.Aj.length;d<e;++d)this.Aj[d](a);a.Fe&&b.pj.update(a,a.Fe,null);(d=a.k)&&d.Qg(a,!0);if(a.M)for(d=0,e=a.M.length;d<e;++d)c=a.M[d],c.Nf&&
c.Nf(),c.behavior.wk.remove(a);this.Eq.remove(a);this.qn.remove(a);this.rn.remove(a);a.Nf&&a.Nf();this.ie.hasOwnProperty(a.uid.toString())&&delete this.ie[a.uid.toString()];this.zk--;100>b.xj.length&&b.xj.push(a)};f.prototype.Rl=function(a,b,d,e){if(a.B){var c=P(Math.random()*a.Ig.length);return this.Rl(a.Ig[c],b,d,e)}return a.Pc?this.Ge(a.Pc,b,!1,d,e,!1):null};var K=[];f.prototype.Ge=function(a,b,d,e,c,g){var h,n,q,f;if(!a)return null;var k=this.q[a[1]],v=k.wa.Pe;if(this.Df&&v&&!k.Pm||v&&!this.j&&
11===a[0][11])return null;var y=b;v||(b=null);var m;k.xj.length?(m=k.xj.pop(),m.Hc=!0,k.wa.ua.call(m,k)):(m=new k.wa.ua(k),m.Hc=!1);!d||g||this.ie.hasOwnProperty(a[2].toString())?m.uid=this.ni++:m.uid=a[2];this.ie[m.uid.toString()]=m;m.Xq=this.Aq++;m.Af=k.c.length;h=0;for(n=this.ld.length;h<n;++h)this.ld[h].type===k&&m.Af++;m.yh=Eb;m.toString=Fb;q=a[3];if(m.Hc)Va(m.u);else{m.u={};if("undefined"!==typeof cr_is_preview)for(m.Gp=[],m.Gp.length=q.length,h=0,n=q.length;h<n;h++)m.Gp[h]=q[h][1];m.Za=[];
m.Za.length=q.length}h=0;for(n=q.length;h<n;h++)m.Za[h]=q[h][0];if(v){var l=a[0];m.x=ia(e)?l[0]:e;m.y=ia(c)?l[1]:c;m.z=l[2];m.width=l[3];m.height=l[4];m.depth=l[5];m.m=l[6];m.opacity=l[7];m.Hb=l[8];m.Ib=l[9];m.yb=l[10];h=l[11];!this.j&&k.S.length&&(m.yb=h);m.lh=ib(m.yb);this.A&&jb(m,m.yb,this.A);if(m.Hc){h=0;for(n=l[12].length;h<n;h++)for(q=0,f=l[12][h].length;q<f;q++)m.Ha[h][q]=l[12][h][q];m.pa.set(0,0,0,0);m.Fe.set(0,0,-1,-1);m.ac.set(0,0,-1,-1);m.zb.cf(m.pa);T(m.El)}else{m.Ha=l[12].slice(0);h=
0;for(n=m.Ha.length;h<n;h++)m.Ha[h]=l[12][h].slice(0);m.ka=[];m.we=[];m.we.length=k.S.length;m.pa=new ta(0,0,0,0);m.Fe=new ta(0,0,-1,-1);m.ac=new ta(0,0,-1,-1);m.zb=new ua;m.El=[];m.C=Ib;m.kt=Jb;m.Fb=Kb;m.qa=Lb;m.Vr=Mb;m.oo=Nb;m.Hd=Ob}m.Xf=!1;m.hx=0;m.gx=0;m.cx=null;14===l.length&&(m.Xf=!0,m.hx=l[13][0],m.gx=l[13][1],m.cx=l[13][2]);h=0;for(n=k.S.length;h<n;h++)m.we[h]=!0;m.me=!0;m.wd=Pb;m.wd();m.Wr=!!m.ka.length;m.jj=!0;m.Kl=!0;k.cj=!0;m.visible=!0;m.mi=-1;m.k=b;m.yd=b.c.length;m.sf=0;"undefined"===
typeof m.U&&(m.U=null);this.na=m.Vd=!0}var r;T(K);h=0;for(n=k.Fa.length;h<n;h++)K.push.apply(K,k.Fa[h].Ga);K.push.apply(K,k.Ga);if(m.Hc)for(h=0,n=K.length;h<n;h++){var C=K[h];r=m.M[h];r.Hc=!0;C.behavior.ua.call(r,C,m);l=a[4][h];q=0;for(f=l.length;q<f;q++)r.H[q]=l[q];r.ea();C.behavior.wk.add(m)}else for(m.M=[],h=0,n=K.length;h<n;h++)C=K[h],r=new C.behavior.ua(C,m),r.Hc=!1,r.H=a[4][h].slice(0),r.ea(),m.M.push(r),C.behavior.wk.add(m);l=a[5];if(m.Hc)for(h=0,n=l.length;h<n;h++)m.H[h]=l[h];else m.H=l.slice(0);
this.ld.push(m);this.Me=!0;b&&(b.ih(m,!0),1!==b.Uc||1!==b.Vc)&&(k.ej=!0);this.zk++;if(k.Jb){if(m.Jb=!0,m.Hc?T(m.siblings):m.siblings=[],!d&&!g){h=0;for(n=k.jc.length;h<n;h++)if(k.jc[h]!==k){if(!k.jc[h].Pc)return null;m.siblings.push(this.Ge(k.jc[h].Pc,y,!1,v?m.x:e,v?m.y:c,!0))}h=0;for(n=m.siblings.length;h<n;h++)for(m.siblings[h].siblings.push(m),q=0;q<n;q++)h!==q&&m.siblings[h].siblings.push(m.siblings[q])}}else m.Jb=!1,m.siblings=null;m.ea();h=0;for(n=m.M.length;h<n;h++)m.M[h].rw&&m.M[h].rw();return m};
f.prototype.Uj=function(a){var b,d;b=0;for(d=this.ha.V.length;b<d;b++){var e=this.ha.V[b];if(lb(e.name,a))return e}return null};f.prototype.ng=function(a){a=P(a);0>a&&(a=0);a>=this.ha.V.length&&(a=this.ha.V.length-1);return this.ha.V[a]};f.prototype.av=function(a){return ja(a)?this.ng(a):this.Uj(a.toString())};f.prototype.Ol=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Z().ja=!0};f.prototype.ti=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].ti()};f.prototype.Mk=function(a){var b,d;b=0;
for(d=a.length;b<d;b++)a[b].Mk()};f.prototype.Rf=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].Rf()};f.prototype.Sr=function(a){if(a.cj){var b,d,e=a.c;b=0;for(d=e.length;b<d;++b)e[b].oo();e=this.ld;b=0;for(d=e.length;b<d;++b)e[b].type===a&&e[b].oo();a.cj=!1}};f.prototype.mm=function(a,b,d,e){var h,c,g=a?1!==a.Uc||1!==a.Vc:!1;if(b.B)for(a=0,h=b.Ig.length;a<h;++a)c=b.Ig[a],g||c.ej?Ba(e,c.c):(this.Sr(c),c.pj.Ok(d,e));else g||b.ej?Ba(e,b.c):(this.Sr(b),b.pj.Ok(d,e))};f.prototype.um=function(a,b,
d,e){var h,c;h=0;for(c=b.length;h<c;++h)this.mm(a,b[h],d,e)};f.prototype.kv=function(a,b,d){var e=this.Br;e&&this.um(a,e.xk,b,d)};f.prototype.$u=function(a,b,d){var e=this.Rp;e&&this.um(a,e.xk,b,d)};f.prototype.ax=function(a,b,d){var e=a.Z(),h,c,g,n,q,f;if(e.ja)for(e.ja=!1,T(e.c),h=0,n=a.c.length;h<n;h++)g=a.c[h],g.qa(),q=g.k.Eb(b,d,!0),f=g.k.Eb(b,d,!1),g.Fb(q,f)&&e.c.push(g);else{h=c=0;for(n=e.c.length;h<n;h++)g=e.c[h],g.qa(),q=g.k.Eb(b,d,!0),f=g.k.Eb(b,d,!1),g.Fb(q,f)&&(e.c[c]=e.c[h],c++);e.c.length=
c}a.ed();return e.Bm()};f.prototype.Jc=function(a,b){if(!(a&&b&&a!==b&&a.Vd&&b.Vd))return!1;a.qa();b.qa();var d=a.k,e=b.k,h,c,g,n,q,f,k,m;if(d===e||d.Uc===e.Uc&&e.Vc===e.Vc&&d.scale===e.scale&&d.m===e.m&&d.zd===e.zd){if(!a.pa.Hv(b.pa)||!a.zb.Hp(b.zb)||a.Xf&&b.Xf)return!1;if(a.Xf)return this.Fr(a,b);if(b.Xf)return this.Fr(b,a);k=a.U&&!a.U.Oe();h=b.U&&!b.U.Oe();if(!k&&!h)return!0;k?(a.U.Ce(a.width,a.height,a.m),k=a.U):(this.ud.bf(a.zb,a.x,a.y,a.width,a.height),k=this.ud);h?(b.U.Ce(b.width,b.height,
b.m),m=b.U):(this.ud.bf(b.zb,b.x,b.y,b.width,b.height),m=this.ud);return k.Eh(m,b.x-a.x,b.y-a.y)}k=a.U&&!a.U.Oe();h=b.U&&!b.U.Oe();k?(a.U.Ce(a.width,a.height,a.m),this.ud.or(a.U)):this.ud.bf(a.zb,a.x,a.y,a.width,a.height);k=this.ud;h?(b.U.Ce(b.width,b.height,b.m),this.ao.or(b.U)):this.ao.bf(b.zb,b.x,b.y,b.width,b.height);m=this.ao;h=0;for(c=k.Xc;h<c;h++)g=2*h,n=g+1,q=k.Sa[g],f=k.Sa[n],k.Sa[g]=d.Kb(q+a.x,f+a.y,!0),k.Sa[n]=d.Kb(q+a.x,f+a.y,!1);k.qa();h=0;for(c=m.Xc;h<c;h++)g=2*h,n=g+1,q=m.Sa[g],f=m.Sa[n],
m.Sa[g]=e.Kb(q+b.x,f+b.y,!0),m.Sa[n]=e.Kb(q+b.x,f+b.y,!1);m.qa();return k.Eh(m,0,0)};var G=new ua;new ta(0,0,0,0);var V=[];f.prototype.Fr=function(a,b){var d,e,h,c,g=b.pa,n=a.x,q=a.y;a.rp(g,V);var f=b.U&&!b.U.Oe();d=0;for(e=V.length;d<e;++d)if(h=V[d],c=h.Zq,g.Iv(c,n,q)&&(G.cf(c),G.offset(n,q),G.Hp(b.zb)))if(f)if(b.U.Ce(b.width,b.height,b.m),h.Qf){if(h.Qf.Eh(b.U,b.x-(n+c.left),b.y-(q+c.top)))return T(V),!0}else{if(this.ud.bf(G,0,0,c.right-c.left,c.bottom-c.top),this.ud.Eh(b.U,b.x,b.y))return T(V),
!0}else if(h.Qf){if(this.ud.bf(b.zb,0,0,b.width,b.height),h.Qf.Eh(this.ud,-(n+c.left),-(q+c.top)))return T(V),!0}else return T(V),!0;T(V);return!1};f.prototype.Or=function(a,b){if(!b)return!1;var d,e,h,c,g;d=0;for(e=a.Ga.length;d<e;d++)if(a.Ga[d].behavior instanceof b)return!0;if(!a.B)for(d=0,e=a.Fa.length;d<e;d++)for(g=a.Fa[d],h=0,c=g.Ga.length;h<c;h++)if(g.Ga[h].behavior instanceof b)return!0;return!1};f.prototype.jo=function(a){return this.Or(a,ec.Ox)};f.prototype.ko=function(a){return this.Or(a,
ec.Px)};var L=[];f.prototype.tc=function(a){var b,d,e;a.qa();this.kv(a.k,a.pa,L);b=0;for(d=L.length;b<d;++b)if(e=L[b],e.u.solidEnabled&&this.Jc(a,e))return T(L),e;T(L);return null};var N=[];f.prototype.ff=function(a,b){var d=null;b&&(d=N,T(d));a.qa();this.$u(a.k,a.pa,L);var e,h,c;e=0;for(h=L.length;e<h;++e)if(c=L[e],c.u.jumpthruEnabled&&this.Jc(a,c))if(b)d.push(c);else return T(L),c;T(L);return d};f.prototype.rd=function(a,b,d,e,h,c){e=e||50;var g=a.x,n=a.y,q,f=null,k=null;for(q=0;q<e;q++)if(a.x=
g+b*q,a.y=n+d*q,a.C(),!this.Jc(a,f)&&((f=this.tc(a))&&(k=f),!f&&(h&&(c?f=this.Jc(a,c)?c:null:f=this.ff(a),f&&(k=f)),!f)))return k&&this.En(a,b,d,k),!0;a.x=g;a.y=n;a.C();return!1};f.prototype.En=function(a,b,d,e){var h=2,c,g=!1;c=!1;for(var n=a.x,q=a.y;16>=h;)c=1/h,h*=2,a.x+=b*c*(g?1:-1),a.y+=d*c*(g?1:-1),a.C(),this.Jc(a,e)?c=g=!0:(c=g=!1,n=a.x,q=a.y);c&&(a.x=n,a.y=q,a.C())};f.prototype.yw=function(a,b){var d=ia(b)?100:b,e=0,h=a.x,c=a.y,g=0,n=0,q=0,f=this.tc(a);if(!f)return!0;for(;e<=d;){switch(g){case 0:n=
0;q=-1;e++;break;case 1:n=1;q=-1;break;case 2:n=1;q=0;break;case 3:q=n=1;break;case 4:n=0;q=1;break;case 5:n=-1;q=1;break;case 6:n=-1;q=0;break;case 7:q=n=-1}g=(g+1)%8;a.x=P(h+n*e);a.y=P(c+q*e);a.C();if(!this.Jc(a,f)&&(f=this.tc(a),!f))return!0}a.x=h;a.y=c;a.C();return!1};f.prototype.vi=function(a,b){a.Vd&&b.Vd&&this.wi.push([a,b])};f.prototype.zt=function(a,b){var d,e,h;d=0;for(e=this.wi.length;d<e;d++)if(h=this.wi[d],h[0]==a&&h[1]==b||h[0]==b&&h[1]==a)return!0;return!1};var I=-1;f.prototype.trigger=
function(a,b,d){if(!this.ha)return!1;var e=this.ha.tf;if(!e)return!1;var h=!1,c,g,n;I++;var q=e.Vl;g=0;for(n=q.length;g<n;++g)c=this.Lr(a,b,q[g],d),h=h||c;c=this.Lr(a,b,e,d);I--;return h||c};f.prototype.Lr=function(a,b,d,e){var h=!1,c,g,n,q;if(b)for(n=this.fo(a,b,b.type.name,d,e),h=h||n,q=b.type.Fa,c=0,g=q.length;c<g;++c)n=this.fo(a,b,q[c].name,d,e),h=h||n;else n=this.fo(a,b,"system",d,e),h=h||n;return h};f.prototype.fo=function(a,b,d,e,h){var c,g=!1,n=!1,n="undefined"!==typeof h,q=(n?e.ip:e.Mr)[d];
if(!q)return g;var f=null;e=0;for(c=q.length;e<c;++e)if(q[e].method==a){f=q[e].th;break}if(!f)return g;var k;n?k=f[h]:k=f;if(!k)return null;e=0;for(c=k.length;e<c;e++)a=k[e][0],h=k[e][1],n=this.Lu(b,d,a,h),g=g||n;return g};f.prototype.Lu=function(a,b,d,e){var h,c,g=!1;this.ho++;var n=this.Xa().Gb;n&&this.ti(n.df);var q=1<this.ho;this.ti(d.df);q&&this.xw();var f=this.Nk(d);f.Gb=d;a&&(h=this.types[b].Z(),h.ja=!1,T(h.c),h.c[0]=a,this.types[b].ed());a=!0;if(d.parent){b=f.Er;for(h=d.parent;h;)b.push(h),
h=h.parent;b.reverse();h=0;for(c=b.length;h<c;h++)if(!b[h].Kw()){a=!1;break}}a&&(this.vf++,d.Tc?d.Jw(e):d.Ta(),g=g||f.Hf);this.Hk();q&&this.qw();this.Rf(d.df);n&&this.Rf(n.df);this.Me&&0===this.Cc&&0===I&&!this.Qm&&this.xb();this.ho--;return g};f.prototype.Tj=function(){var a=this.Xa();return a.Gb.gb[a.Va]};f.prototype.Kv=function(){return 0===this.Xa().Va};f.prototype.Vu=function(){var a=this.Xa();return a.Gb.Lc[a.Rb]};f.prototype.xw=function(){this.rk++;this.rk>=this.jn.length&&this.jn.push([])};
f.prototype.qw=function(){this.rk--};f.prototype.sp=function(){return this.jn[this.rk]};f.prototype.Nk=function(a){this.Ej++;this.Ej>=this.Zl.length&&this.Zl.push(new Qb);var b=this.Xa();b.reset(a);return b};f.prototype.Hk=function(){this.Ej--};f.prototype.Xa=function(){return this.Zl[this.Ej]};f.prototype.tp=function(a,b){for(var d,e,h,c,g,n;b;){d=0;for(e=b.Zc.length;d<e;d++)if(n=b.Zc[d],n instanceof Rb&&lb(a,n.name))return n;b=b.parent}d=0;for(e=this.Zd.length;d<e;d++)for(g=this.Zd[d],h=0,c=g.Ke.length;h<
c;h++)if(n=g.Ke[h],n instanceof Rb&&lb(a,n.name))return n;return null};f.prototype.up=function(a){var b,d;b=0;for(d=this.oc.length;b<d;b++)if(this.oc[b].ca===a)return this.oc[b];return null};f.prototype.Wj=function(a){var b,d;b=0;for(d=this.q.length;b<d;b++)if(this.q[b].ca===a)return this.q[b];return null};f.prototype.Xu=function(a){var b,d;b=0;for(d=this.ze.length;b<d;b++)if(this.ze[b].ca===a)return this.ze[b];return null};f.prototype.Kt=function(a,b){this.Gi=[a,b];this.na=!0};f.prototype.Av=function(){var a=
this,d=this.Uk,e=this.fe,h=this.ai,g=!1;this.tr&&(g=!0,d="__c2_continuouspreview",this.tr=!1);if(d.length){this.xb();e=this.Ow();if(l()&&!this.nd)c(d,e,function(){ea("Saved state to IndexedDB storage ("+e.length+" bytes)");a.fe=e;a.trigger(X.prototype.i.wl,null);a.fe="";g&&b()},function(h){try{localStorage.setItem("__c2save_"+d,e),ea("Saved state to WebStorage ("+e.length+" bytes)"),a.fe=e,a.trigger(X.prototype.i.wl,null),a.fe="",g&&b()}catch(c){ea("Failed to save game state: "+h+"; "+c)}});else try{localStorage.setItem("__c2save_"+
d,e),ea("Saved state to WebStorage ("+e.length+" bytes)"),a.fe=e,this.trigger(X.prototype.i.wl,null),a.fe="",g&&b()}catch(n){ea("Error saving to WebStorage: "+n)}this.Bb=this.ai=this.Uk=""}if(h.length){if(l()&&!this.nd)k(h,function(b){b?(a.Bb=b,ea("Loaded state from IndexedDB storage ("+a.Bb.length+" bytes)")):(a.Bb=localStorage.getItem("__c2save_"+h)||"",ea("Loaded state from WebStorage ("+a.Bb.length+" bytes)"));a.Hi=!1;a.Bb.length||a.trigger(X.prototype.i.ul,null)},function(){a.Bb=localStorage.getItem("__c2save_"+
h)||"";ea("Loaded state from WebStorage ("+a.Bb.length+" bytes)");a.Hi=!1;a.Bb.length||a.trigger(X.prototype.i.ul,null)});else{try{this.Bb=localStorage.getItem("__c2save_"+h)||"",ea("Loaded state from WebStorage ("+this.Bb.length+" bytes)")}catch(q){this.Bb=""}this.Hi=!1;a.Bb.length||a.trigger(X.prototype.i.ul,null)}this.Uk=this.ai=""}this.Bb.length&&(this.xb(),this.Xv(this.Bb),this.fe=this.Bb,this.trigger(X.prototype.i.Ls,null),this.Bb=this.fe="")};f.prototype.Ow=function(){var b,d,e,h,c,g,n,q={c2save:!0,
version:1,rt:{time:this.$a.ba,walltime:this.re.ba,timescale:this.Yf,tickcount:this.Xg,execcount:this.vf,next_uid:this.ni,running_layout:this.ha.ca,start_time_offset:Date.now()-this.el},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(d=this.q.length;b<d;b++)if(c=this.q[b],!c.B&&!this.jo(c)){g={instances:[]};Ua(c.u)&&(g.ex=a(c.u));e=0;for(h=c.c.length;e<h;e++)g.instances.push(this.Pn(c.c[e]));q.types[c.ca.toString()]=g}b=0;for(d=this.oc.length;b<d;b++)e=this.oc[b],q.layouts[e.ca.toString()]=
e.Cb();h=q.events.groups;b=0;for(d=this.ze.length;b<d;b++)e=this.ze[b],h[e.ca.toString()]=this.Ah[e.zh].qg;d=q.events.cnds;for(n in this.Ee)this.Ee.hasOwnProperty(n)&&(b=this.Ee[n],Ua(b.u)&&(d[n]={ex:a(b.u)}));d=q.events.acts;for(n in this.xe)this.xe.hasOwnProperty(n)&&(b=this.xe[n],Ua(b.u)&&(d[n]={ex:a(b.u)}));d=q.events.vars;for(n in this.ah)this.ah.hasOwnProperty(n)&&(b=this.ah[n],b.gk||b.parent&&!b.Ph||(d[n]=b.data));q.system=this.Qd.Cb();return JSON.stringify(q)};f.prototype.$q=function(){var a,
b,d,e,h,c;this.ie={};a=0;for(b=this.q.length;a<b;a++)if(d=this.q[a],!d.B)for(e=0,h=d.c.length;e<h;e++)c=d.c[e],this.ie[c.uid.toString()]=c};f.prototype.Xv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.Ih=!0;var b=a.rt;this.$a.reset();this.$a.ba=b.time;this.re.reset();this.re.ba=b.walltime||0;this.Yf=b.timescale;this.Xg=b.tickcount;this.vf=b.execcount;this.el=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.ha.ca)if(d=this.up(d))this.ep(d);else return;var e,h,c,g,n,
q,f;q=a.types;for(h in q)if(q.hasOwnProperty(h)&&(g=this.Wj(parseInt(h,10)))&&!g.B&&!this.jo(g)){q[h].ex?g.u=q[h].ex:Va(g.u);n=g.c;c=q[h].instances;d=0;for(e=na(n.length,c.length);d<e;d++)this.nk(n[d],c[d]);d=c.length;for(e=n.length;d<e;d++)this.ue(n[d]);d=n.length;for(e=c.length;d<e;d++){n=null;if(g.wa.Pe&&(n=this.ha.Vj(c[d].w.l),!n))continue;n=this.Ge(g.Pc,n,!1,0,0,!0);this.nk(n,c[d])}g.Vg=!0}this.xb();this.$q();e=a.layouts;for(h in e)e.hasOwnProperty(h)&&(d=this.up(parseInt(h,10)))&&d.$b(e[h]);
e=a.events.groups;for(h in e)e.hasOwnProperty(h)&&(d=this.Xu(parseInt(h,10)))&&this.Ah[d.zh]&&this.Ah[d.zh].kr(e[h]);d=a.events.cnds;for(h in this.Ee)this.Ee.hasOwnProperty(h)&&(d.hasOwnProperty(h)?this.Ee[h].u=d[h].ex:this.Ee[h].u={});d=a.events.acts;for(h in this.xe)this.xe.hasOwnProperty(h)&&(d.hasOwnProperty(h)?this.xe[h].u=d[h].ex:this.xe[h].u={});d=a.events.vars;for(h in d)d.hasOwnProperty(h)&&this.ah.hasOwnProperty(h)&&(this.ah[h].data=d[h]);this.ni=b.next_uid;this.Ih=!1;d=0;for(e=this.Kj.length;d<
e;++d)n=this.Kj[d],this.trigger(Object.getPrototypeOf(n.type.wa).i.kf,n);T(this.Kj);this.Qd.$b(a.system);d=0;for(e=this.q.length;d<e;d++)if(g=this.q[d],!g.B&&!this.jo(g))for(h=0,a=g.c.length;h<a;h++){n=g.c[h];if(g.Jb)for(q=n.yh(),T(n.siblings),b=0,c=g.jc.length;b<c;b++)f=g.jc[b],g!==f&&n.siblings.push(f.c[q]);n.Bd&&n.Bd();if(n.M)for(b=0,c=n.M.length;b<c;b++)q=n.M[b],q.Bd&&q.Bd()}this.na=!0}};f.prototype.Pn=function(b,d){var e,h,c,n,g;n=b.type;c=n.wa;var q={};d?q.c2=!0:q.uid=b.uid;Ua(b.u)&&(q.ex=a(b.u));
if(b.Za&&b.Za.length)for(q.ivs={},e=0,h=b.Za.length;e<h;e++)q.ivs[b.type.Lm[e].toString()]=b.Za[e];if(c.Pe){c={x:b.x,y:b.y,w:b.width,h:b.height,l:b.k.ca,zi:b.Hd()};0!==b.m&&(c.a=b.m);1!==b.opacity&&(c.o=b.opacity);.5!==b.Hb&&(c.hX=b.Hb);.5!==b.Ib&&(c.hY=b.Ib);0!==b.yb&&(c.bm=b.yb);b.visible||(c.v=b.visible);b.Vd||(c.ce=b.Vd);-1!==b.mi&&(c.mts=b.mi);if(n.S.length)for(c.fx=[],e=0,h=n.S.length;e<h;e++)g=n.S[e],c.fx.push({name:g.name,active:b.we[g.index],params:b.Ha[g.index]});q.w=c}if(b.M&&b.M.length)for(q.behs=
{},e=0,h=b.M.length;e<h;e++)n=b.M[e],n.Cb&&(q.behs[n.type.ca.toString()]=n.Cb());b.Cb&&(q.data=b.Cb());return q};f.prototype.Zu=function(a,b){var d,e;d=0;for(e=a.Lm.length;d<e;d++)if(a.Lm[d]===b)return d;return-1};f.prototype.Uu=function(a,b){var d,e;d=0;for(e=a.M.length;d<e;d++)if(a.M[d].type.ca===b)return d;return-1};f.prototype.nk=function(a,b,d){var e,h,c,n,g;g=a.type;n=g.wa;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.u=b.ex:Va(a.u);if(h=b.ivs)for(e in h)h.hasOwnProperty(e)&&(c=this.Zu(g,parseInt(e,
10)),0>c||c>=a.Za.length||(a.Za[c]=h[e]));if(n.Pe){c=b.w;a.k.ca!==c.l&&(h=a.k,a.k=this.ha.Vj(c.l),a.k?(h.Qg(a,!0),a.k.ih(a,!0),a.C(),a.k.Bi(0)):(a.k=h,d||this.ue(a)));a.x=c.x;a.y=c.y;a.width=c.w;a.height=c.h;a.yd=c.zi;a.m=c.hasOwnProperty("a")?c.a:0;a.opacity=c.hasOwnProperty("o")?c.o:1;a.Hb=c.hasOwnProperty("hX")?c.hX:.5;a.Ib=c.hasOwnProperty("hY")?c.hY:.5;a.visible=c.hasOwnProperty("v")?c.v:!0;a.Vd=c.hasOwnProperty("ce")?c.ce:!0;a.mi=c.hasOwnProperty("mts")?c.mts:-1;a.yb=c.hasOwnProperty("bm")?
c.bm:0;a.lh=ib(a.yb);this.A&&jb(a,a.yb,this.A);a.C();if(c.hasOwnProperty("fx"))for(d=0,h=c.fx.length;d<h;d++)n=g.om(c.fx[d].name),0>n||(a.we[n]=c.fx[d].active,a.Ha[n]=c.fx[d].params);a.wd()}if(g=b.behs)for(e in g)g.hasOwnProperty(e)&&(d=this.Uu(a,parseInt(e,10)),0>d||a.M[d].$b(g[e]));b.data&&a.$b(b.data)};f.prototype.jp=function(a,b,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,d)},d)};f.prototype.Mu=function(a,b){this.jp("data.js",function(d){var e=
new FileReader;e.onload=function(b){a(b.target.result)};e.onerror=b;e.readAsText(d)},b)};f.prototype.kp=function(a,b,d){this.jp(a,function(a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsArrayBuffer(a)},d)};f.prototype.Nu=function(a,b,d){this.kp(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},d)};f.prototype.lr=function(a,b){this.Nh?this.Nu(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Sb=function(a){return new f(document.getElementById(a))};
Tb=function(a,b){return new f({dc:!0,width:a,height:b})};window.cr_createRuntime=Sb;window.cr_createDCRuntime=Tb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.No=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,p){var l=window.cr_getC2Runtime();l&&l.Kt(f,p)};
window.cr_sizeCanvas=function(f,p){if(0!==f&&0!==p){var l=window.cr_getC2Runtime();l&&l.setSize(f,p)}};window.cr_setSuspended=function(f){var p=window.cr_getC2Runtime();p&&p.setSuspended(f)};
(function(){function f(a,b){this.b=a;this.tf=null;this.scrollX=this.b.eb/2;this.scrollY=this.b.cb/2;this.scale=1;this.m=0;this.lg=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Pr=b[3];this.rr=b[4];this.ca=b[5];var h=b[6],c,g;this.V=[];this.Dh=[];c=0;for(g=h.length;c<g;c++){var f=new Ub(this,h[c]);f.Cq=c;this.V.push(f)}h=b[7];this.Bf=[];c=0;for(g=h.length;c<g;c++){var f=h[c],k=this.b.q[f[1]];k.Pc||(k.Pc=f);this.Bf.push(f);-1===this.Dh.indexOf(k)&&this.Dh.push(k)}this.S=[];this.ka=[];this.me=
!0;this.Ha=[];c=0;for(g=b[8].length;c<g;c++)this.S.push({id:b[8][c][0],name:b[8][c][1],Ua:-1,Wc:!1,fb:!0,index:c}),this.Ha.push(b[8][c][2].slice(0));this.wd();this.je=new ta(0,0,1,1);this.Hn=new ta(0,0,1,1);this.Ye={}}function p(a,b){return a.yd-b.yd}function l(a,b){this.bb=a;this.b=a.b;this.c=[];this.scale=1;this.m=0;this.Xd=!1;this.pe=new ta(0,0,0,0);this.Ir=new ua;this.za=this.ta=this.Aa=this.ra=0;this.Zf=!1;this.te=-1;this.Pl=0;this.name=b[0];this.index=b[1];this.ca=b[2];this.visible=b[3];this.fd=
b[4];this.vd=b[5];this.Uc=b[6];this.Vc=b[7];this.opacity=b[8];this.Pj=b[9];this.Kc=b[10];this.zd=b[11];this.yb=b[12];this.fu=b[13];this.lh="source-over";this.Ab=this.Db=0;this.sb=null;this.ge=r();this.td=!0;this.Dg=new ta(0,0,-1,-1);this.ob=new ta(0,0,-1,-1);this.Kc&&(this.sb=new hb(this.b.eb,this.b.cb));this.Md=!1;var h=b[14],c,g;this.Cr=[];this.Bc=[];this.oh=[];c=0;for(g=h.length;c<g;c++){var f=h[c],k=this.b.q[f[1]];k.Pc||(k.Pc=f,k.Jt=this.index);this.Bc.push(f);-1===this.bb.Dh.indexOf(k)&&this.bb.Dh.push(k)}za(this.Cr,
this.Bc);this.S=[];this.ka=[];this.me=!0;this.Ha=[];c=0;for(g=b[15].length;c<g;c++)this.S.push({id:b[15][c][0],name:b[15][c][1],Ua:-1,Wc:!1,fb:!0,index:c}),this.Ha.push(b[15][c][2].slice(0));this.wd();this.je=new ta(0,0,1,1);this.Hn=new ta(0,0,1,1)}function r(){return a.length?a.pop():[]}function c(b){T(b);a.push(b)}f.prototype.Nw=function(a){var b=a.type.ca.toString();this.Ye.hasOwnProperty(b)||(this.Ye[b]=[]);this.Ye[b].push(this.b.Pn(a))};f.prototype.yp=function(){var a=this.V[0];return!a.vd&&
1===a.opacity&&!a.Pj&&a.visible};f.prototype.wd=function(){T(this.ka);this.me=!0;var a,b,h;a=0;for(b=this.S.length;a<b;a++)h=this.S[a],h.fb&&(this.ka.push(h),h.Wc||(this.me=!1))};f.prototype.nm=function(a){var b,h,c;b=0;for(h=this.S.length;b<h;b++)if(c=this.S[b],c.name===a)return c;return null};var k=[],b=!0;f.prototype.$n=function(){this.rr&&(this.tf=this.b.$l[this.rr],this.tf.lo());this.b.ha=this;this.scrollX=this.b.eb/2;this.scrollY=this.b.cb/2;var a,e,h,c,g,f,m;a=0;for(h=this.b.q.length;a<h;a++)if(e=
this.b.q[a],!e.B)for(g=e.c,e=0,c=g.length;e<c;e++)if(f=g[e],f.k){var q=f.k.Cq;q>=this.V.length&&(q=this.V.length-1);f.k=this.V[q];-1===f.k.c.indexOf(f)&&f.k.c.push(f);f.k.Zf=!0}if(!b)for(a=0,h=this.V.length;a<h;++a)this.V[a].c.sort(p);T(k);this.qt();a=0;for(h=this.V.length;a<h;a++)f=this.V[a],f.Ft(),f.ol();g=!1;if(!this.lg){for(m in this.Ye)if(this.Ye.hasOwnProperty(m)&&(e=this.b.Wj(parseInt(m,10)))&&!e.B&&this.b.ko(e)){c=this.Ye[m];a=0;for(h=c.length;a<h;a++){f=null;if(e.wa.Pe&&(f=this.Vj(c[a].w.l),
!f))continue;f=this.b.Ge(e.Pc,f,!1,0,0,!0);this.b.nk(f,c[a]);g=!0;k.push(f)}T(c)}a=0;for(h=this.V.length;a<h;a++)this.V[a].c.sort(p),this.V[a].Zf=!0}g&&(this.b.xb(),this.b.$q());for(a=0;a<k.length;a++)if(f=k[a],f.type.Jb)for(h=f.yh(),e=0,c=f.type.jc.length;e<c;e++)m=f.type.jc[e],f.type!==m&&(m.c.length>h?f.siblings.push(m.c[h]):m.Pc&&(g=this.b.Ge(m.Pc,f.k,!0,f.x,f.y,!0),this.b.xb(),m.ml(),f.siblings.push(g),k.push(g)));a=0;for(h=this.Bf.length;a<h;a++)this.b.Ge(this.Bf[a],null,!0);this.b.Ud=null;
this.b.xb();if(this.b.ma&&!this.b.kb)for(a=0,h=this.b.q.length;a<h;a++)m=this.b.q[a],!m.B&&m.c.length&&m.Kk&&m.Kk(this.b.ma);if(this.b.Ih)za(this.b.Kj,k);else for(a=0,h=k.length;a<h;a++)f=k[a],this.b.trigger(Object.getPrototypeOf(f.type.wa).i.kf,f);T(k);this.b.Ih||this.b.trigger(X.prototype.i.Do,null);this.lg=!1};f.prototype.Et=function(){var a,b,h,c,g;b=a=0;for(h=this.Bf.length;a<h;a++)c=this.Bf[a],g=this.b.q[c[1]],g.global?g.Jb||this.b.Ge(c,null,!0):(this.Bf[b]=c,b++);ya(this.Bf,b)};f.prototype.$w=
function(){this.b.Ih||this.b.trigger(X.prototype.i.Ks,null);this.b.Nm=!0;T(this.b.Qd.ic);var a,e,h,c,g,f;if(!this.lg)for(a=0,e=this.V.length;a<e;a++)for(this.V[a].no(),g=this.V[a].c,h=0,c=g.length;h<c;h++)f=g[h],f.type.global||this.b.ko(f.type)&&this.Nw(f);a=0;for(e=this.V.length;a<e;a++){g=this.V[a].c;h=0;for(c=g.length;h<c;h++)f=g[h],f.type.global||this.b.ue(f);this.b.xb();T(g);this.V[a].Zf=!0}a=0;for(e=this.b.q.length;a<e;a++)if(g=this.b.q[a],!(g.global||g.wa.Pe||g.wa.al||g.B)){h=0;for(c=g.c.length;h<
c;h++)this.b.ue(g.c[h]);this.b.xb()}b=!1;this.b.Nm=!1};new ta(0,0,0,0);f.prototype.vc=function(a){var b,h=a,c=!1,g=!this.b.wc;g&&(this.b.mk||(this.b.mk=document.createElement("canvas"),b=this.b.mk,b.width=this.b.K,b.height=this.b.J,this.b.Zp=b.getContext("2d"),c=!0),b=this.b.mk,h=this.b.Zp,b.width!==this.b.K&&(b.width=this.b.K,c=!0),b.height!==this.b.J&&(b.height=this.b.J,c=!0),c&&(h.webkitImageSmoothingEnabled=this.b.O,h.mozImageSmoothingEnabled=this.b.O,h.msImageSmoothingEnabled=this.b.O,h.imageSmoothingEnabled=
this.b.O));h.globalAlpha=1;h.globalCompositeOperation="source-over";this.b.Al&&!this.yp()&&h.clearRect(0,0,this.b.K,this.b.J);var f,k,c=0;for(f=this.V.length;c<f;c++)k=this.V[c],k.visible&&0<k.opacity&&11!==k.yb&&(k.c.length||!k.vd)?k.vc(h):k.ol();g&&a.drawImage(b,0,0,this.b.width,this.b.height)};f.prototype.Ie=function(a){a.jr(!0);this.b.Ra||(this.b.Ra=a.kc(this.b.K,this.b.J,this.b.O));if(this.b.Ra.kd!==this.b.K||this.b.Ra.jd!==this.b.J)a.deleteTexture(this.b.Ra),this.b.Ra=a.kc(this.b.K,this.b.J,
this.b.O);a.Yc(this.b.Ra);this.b.wc||a.Uf(this.b.K,this.b.J);var b,c;for(b=this.V.length-1;0<=b;--b)c=this.V[b],c.visible&&1===c.opacity&&c.me&&0===c.yb&&(c.c.length||!c.vd)?c.Ie(a):c.ol();a.jr(!1)};f.prototype.jb=function(a){var b=0<this.ka.length||this.b.Zg||!this.b.wc||this.b.va;if(b){this.b.Ra||(this.b.Ra=a.kc(this.b.K,this.b.J,this.b.O));if(this.b.Ra.kd!==this.b.K||this.b.Ra.jd!==this.b.J)a.deleteTexture(this.b.Ra),this.b.Ra=a.kc(this.b.K,this.b.J,this.b.O);a.Yc(this.b.Ra);this.b.wc||a.Uf(this.b.K,
this.b.J)}else this.b.Ra&&(a.Yc(null),a.deleteTexture(this.b.Ra),this.b.Ra=null);this.b.Al&&!this.yp()&&a.clear(0,0,0,0);var c,g,f;c=0;for(g=this.V.length;c<g;c++)f=this.V[c],f.visible&&0<f.opacity&&(f.c.length||!f.vd)?f.jb(a):f.ol();b&&(0===this.ka.length||1===this.ka.length&&this.b.wc?(1===this.ka.length?(b=this.ka[0].index,a.fc(this.ka[0].Ua),a.Sg(null,1/this.b.K,1/this.b.J,0,0,1,1,this.scale,this.m,0,0,this.b.K/2,this.b.J/2,this.b.$a.ba,this.Ha[b]),a.Lk(this.ka[0].Ua)&&(this.b.na=!0)):a.fc(0),
this.b.wc||a.Uf(this.b.width,this.b.height),a.Yc(null),a.ir(!1),a.le(1),a.Oa(this.b.Ra),a.fr(),a.Nd(),a.xd(),b=this.b.width/2,c=this.b.height/2,a.Ze(-b,c,b,c,b,-c,-b,-c),a.Oa(null),a.ir(!0)):this.In(a,null,null,null))};f.prototype.xh=function(){return 0<this.ka.length||this.b.Zg||!this.b.wc||this.b.va?this.b.Ra:null};f.prototype.vp=function(){var a=this.V[0].Ac(),b,c,g;b=1;for(c=this.V.length;b<c;b++)g=this.V[b],(0!==g.Uc||0!==g.Vc)&&g.Ac()<a&&(a=g.Ac());return a};f.prototype.Qn=function(a){if(!this.Pr){var b=
1/this.vp()*this.b.K/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.na=!0)};f.prototype.Rn=function(a){if(!this.Pr){var b=1/this.vp()*this.b.J/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.na=!0)};f.prototype.qt=function(){this.Qn(this.scrollX);this.Rn(this.scrollY)};f.prototype.In=function(a,b,c,g){var f=c?c.ka:b?b.ka:this.ka,k=1,m=0,q=0,v=0,l=this.b.K,r=this.b.J;c?(k=c.k.Ac(),m=c.k.Ka(),q=c.k.ra,v=c.k.ta,l=c.k.Aa,
r=c.k.za):b&&(k=b.Ac(),m=b.Ka(),q=b.ra,v=b.ta,l=b.Aa,r=b.za);var C=this.b.jm,p,H,x,K,G=0,V=1,L,N=this.b.K,I=this.b.J,t=N/2,u=I/2,w=b?b.je:this.je,B=b?b.Hn:this.Hn,R=0,aa=0,M=0,J=0,O=N,ga=N,S=I,ra=I,ha=x=0;K=c?c.k.Ka():0;if(c){p=0;for(H=f.length;p<H;p++)x+=a.hv(f[p].Ua),ha+=a.iv(f[p].Ua);J=c.pa;R=b.Kb(J.left,J.top,!0,!0);M=b.Kb(J.left,J.top,!1,!0);O=b.Kb(J.right,J.bottom,!0,!0);S=b.Kb(J.right,J.bottom,!1,!0);0!==K&&(p=b.Kb(J.right,J.top,!0,!0),H=b.Kb(J.right,J.top,!1,!0),aa=b.Kb(J.left,J.bottom,!0,
!0),J=b.Kb(J.left,J.bottom,!1,!0),K=Math.min(R,O,p,aa),O=Math.max(R,O,p,aa),R=K,K=Math.min(M,S,H,J),S=Math.max(M,S,H,J),M=K);R-=x;M-=ha;O+=x;S+=ha;B.left=R/N;B.top=1-M/I;B.right=O/N;B.bottom=1-S/I;aa=R=P(R);J=M=P(M);ga=O=qa(O);ra=S=qa(S);aa-=x;J-=ha;ga+=x;ra+=ha;0>R&&(R=0);0>M&&(M=0);O>N&&(O=N);S>I&&(S=I);0>aa&&(aa=0);0>J&&(J=0);ga>N&&(ga=N);ra>I&&(ra=I);w.left=R/N;w.top=1-M/I;w.right=O/N;w.bottom=1-S/I}else w.left=B.left=0,w.top=B.top=0,w.right=B.right=1,w.bottom=B.bottom=1;ha=c&&(a.si(f[0].Ua)||
0!==x||0!==ha||1!==c.opacity||c.type.wa.xq)||b&&!c&&1!==b.opacity;a.fr();if(ha){C[G]||(C[G]=a.kc(N,I,this.b.O));if(C[G].kd!==N||C[G].jd!==I)a.deleteTexture(C[G]),C[G]=a.kc(N,I,this.b.O);a.fc(0);a.Yc(C[G]);L=ra-J;a.clearRect(aa,I-J-L,ga-aa,L);c?c.jb(a):(a.Oa(this.b.ab),a.le(b.opacity),a.Nd(),a.translate(-t,-u),a.xd(),a.sd(R,S,O,S,O,M,R,M,w));B.left=B.top=0;B.right=B.bottom=1;c&&(K=w.top,w.top=w.bottom,w.bottom=K);G=1;V=0}a.le(1);x=f.length-1;var La=a.Dn(f[x].Ua)||!b&&!c&&!this.b.wc,va=0;p=0;for(H=
f.length;p<H;p++){C[G]||(C[G]=a.kc(N,I,this.b.O));if(C[G].kd!==N||C[G].jd!==I)a.deleteTexture(C[G]),C[G]=a.kc(N,I,this.b.O);a.fc(f[p].Ua);va=f[p].index;a.Lk(f[p].Ua)&&(this.b.na=!0);0!=p||ha?(a.Sg(g,1/N,1/I,B.left,B.top,B.right,B.bottom,k,m,q,v,(q+l)/2,(v+r)/2,this.b.$a.ba,c?c.Ha[va]:b?b.Ha[va]:this.Ha[va]),a.Oa(null),p!==x||La?(a.Yc(C[G]),L=ra-J,K=I-J-L,a.clearRect(aa,K,ga-aa,L)):(c?a.$e(c.Db,c.Ab):b&&a.$e(b.Db,b.Ab),a.Yc(g)),a.Oa(C[V]),a.Nd(),a.translate(-t,-u),a.xd(),a.sd(R,S,O,S,O,M,R,M,w),p!==
x||La||a.Oa(null)):(a.Yc(C[G]),L=ra-J,K=I-J-L,a.clearRect(aa,K,ga-aa,L),c?(a.Sg(g,1/c.width,1/c.height,B.left,B.top,B.right,B.bottom,k,m,q,v,(q+l)/2,(v+r)/2,this.b.$a.ba,c.Ha[va]),c.jb(a)):(a.Sg(g,1/N,1/I,0,0,1,1,k,m,q,v,(q+l)/2,(v+r)/2,this.b.$a.ba,b?b.Ha[va]:this.Ha[va]),a.Oa(b?this.b.ab:this.b.Ra),a.Nd(),a.translate(-t,-u),a.xd(),a.sd(R,S,O,S,O,M,R,M,w)),B.left=B.top=0,B.right=B.bottom=1,c&&!La&&(K=S,S=M,M=K));G=0===G?1:0;V=0===G?1:0}La&&(a.fc(0),c?a.$e(c.Db,c.Ab):b?a.$e(b.Db,b.Ab):this.b.wc||
(a.Uf(this.b.width,this.b.height),t=this.b.width/2,u=this.b.height/2,M=R=0,O=this.b.width,S=this.b.height),a.Yc(g),a.Oa(C[V]),a.Nd(),a.translate(-t,-u),a.xd(),c&&1===f.length&&!ha?a.sd(R,M,O,M,O,S,R,S,w):a.sd(R,S,O,S,O,M,R,M,w),a.Oa(null))};f.prototype.Vj=function(a){var b,c;b=0;for(c=this.V.length;b<c;b++)if(this.V[b].ca===a)return this.V[b];return null};f.prototype.Cb=function(){var a,b,c,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.m,w:this.width,h:this.height,fv:this.lg,persist:this.Ye,
fx:[],layers:{}};a=0;for(b=this.S.length;a<b;a++)c=this.S[a],g.fx.push({name:c.name,active:c.fb,params:this.Ha[c.index]});a=0;for(b=this.V.length;a<b;a++)c=this.V[a],g.layers[c.ca.toString()]=c.Cb();return g};f.prototype.$b=function(a){var b,c,g,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.m=a.a;this.width=a.w;this.height=a.h;this.Ye=a.persist;"undefined"!==typeof a.fv&&(this.lg=a.fv);var k=a.fx;b=0;for(c=k.length;b<c;b++)if(g=this.nm(k[b].name))g.fb=k[b].active,this.Ha[g.index]=k[b].params;
this.wd();b=a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Vj(parseInt(f,10)))&&a.$b(b[f])};Gb=f;l.prototype.wd=function(){T(this.ka);this.me=!0;var a,b,c;a=0;for(b=this.S.length;a<b;a++)c=this.S[a],c.fb&&(this.ka.push(c),c.Wc||(this.me=!1))};l.prototype.nm=function(a){var b,c,g;b=0;for(c=this.S.length;b<c;b++)if(g=this.S[b],g.name===a)return g;return null};l.prototype.Ft=function(){var a,b,c,g,f,m;b=a=0;for(c=this.Bc.length;a<c;a++){g=this.Bc[a];f=this.b.q[g[1]];m=this.b.ko(f);f=!0;if(!m||this.bb.lg){g=
this.b.Ge(g,this,!0);if(!g)continue;k.push(g);g.type.global&&(f=!1,this.oh.push(g.uid))}f&&(this.Bc[b]=this.Bc[a],b++)}this.Bc.length=b;this.b.xb();!this.b.j&&this.S.length&&(this.yb=this.fu);this.lh=ib(this.yb);this.b.A&&jb(this,this.yb,this.b.A);this.td=!0};l.prototype.Qg=function(a,b){var c=Da(this.c,a);0>c||(b&&this.Kc&&a.ac&&a.ac.right>=a.ac.left&&(a.qa(),this.sb.update(a,a.ac,null),a.ac.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(xa(this.c,c),this.Bi(c)),this.td=!0)};l.prototype.ih=function(a,
b){a.yd=this.c.length;this.c.push(a);b&&this.Kc&&a.ac&&a.C();this.td=!0};l.prototype.uw=function(a){this.c.unshift(a);this.Bi(0)};l.prototype.bw=function(a,b,c){var g=a.Hd();b=b.Hd();xa(this.c,g);g<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Bi(g<b?g:b)};l.prototype.Bi=function(a){-1===this.te?this.te=a:a<this.te&&(this.te=a);this.td=this.Zf=!0};l.prototype.no=function(){if(this.Zf){-1===this.te&&(this.te=0);var a,b,c;if(this.Kc)for(a=this.te,b=this.c.length;a<b;++a)c=
this.c[a],c.yd=a,this.sb.Zv(c.ac);else for(a=this.te,b=this.c.length;a<b;++a)this.c[a].yd=a;this.Zf=!1;this.te=-1}};l.prototype.Ac=function(a){return this.bv()*(this.b.wc||a?this.b.jh:1)};l.prototype.bv=function(){return(this.scale*this.bb.scale-1)*this.zd+1};l.prototype.Ka=function(){return this.Xd?0:Ia(this.bb.m+this.m)};var a=[],m=[],g=[];l.prototype.rm=function(){this.no();this.sb.Ok(this.ra,this.ta,this.Aa,this.za,g);if(!g.length)return r();if(1===g.length){var a=r();za(a,g[0]);T(g);return a}for(var b=
!0;1<g.length;){for(var a=g,h=void 0,f=void 0,k=void 0,l=void 0,p=void 0,h=0,f=a.length;h<f-1;h+=2){var k=a[h],l=a[h+1],p=r(),q=k,v=l,E=p,z=0,C=0,Q=0,H=q.length,x=v.length,K=void 0,G=void 0;for(E.length=H+x;z<H&&C<x;++Q)K=q[z],G=v[C],K.yd<G.yd?(E[Q]=K,++z):(E[Q]=G,++C);for(;z<H;++z,++Q)E[Q]=q[z];for(;C<x;++C,++Q)E[Q]=v[C];b||(c(k),c(l));m.push(p)}1===f%2&&(b?(k=r(),za(k,a[f-1]),m.push(k)):m.push(a[f-1]));za(a,m);T(m);b=!1}a=g[0];T(g);return a};l.prototype.vc=function(a){this.Md=this.Pj||1!==this.opacity||
0!==this.yb;var b=this.b.canvas,g=a,f=!1;this.Md&&(this.b.lk||(this.b.lk=document.createElement("canvas"),b=this.b.lk,b.width=this.b.K,b.height=this.b.J,this.b.Yp=b.getContext("2d"),f=!0),b=this.b.lk,g=this.b.Yp,b.width!==this.b.K&&(b.width=this.b.K,f=!0),b.height!==this.b.J&&(b.height=this.b.J,f=!0),f&&(g.webkitImageSmoothingEnabled=this.b.O,g.mozImageSmoothingEnabled=this.b.O,g.msImageSmoothingEnabled=this.b.O,g.imageSmoothingEnabled=this.b.O),this.vd&&g.clearRect(0,0,this.b.K,this.b.J));g.globalAlpha=
1;g.globalCompositeOperation="source-over";this.vd||(g.fillStyle="rgb("+this.fd[0]+","+this.fd[1]+","+this.fd[2]+")",g.fillRect(0,0,this.b.K,this.b.J));g.save();this.Xd=!0;var f=this.Eb(0,0,!0,!0),k=this.Eb(0,0,!1,!0);this.Xd=!1;this.b.Gc&&(f=Math.round(f),k=Math.round(k));this.Rk(f,k,g);var m=this.Ac();g.scale(m,m);g.translate(-f,-k);this.Kc?(this.ob.left=this.sb.Pb(this.ra),this.ob.top=this.sb.Qb(this.ta),this.ob.right=this.sb.Pb(this.Aa),this.ob.bottom=this.sb.Qb(this.za),this.td||!this.ob.sh(this.Dg)?
(c(this.ge),f=this.rm(),this.td=!1,this.Dg.eg(this.ob)):f=this.ge):f=this.c;for(var l,q=null,k=0,m=f.length;k<m;++k)l=f[k],l!==q&&(this.au(l,g),q=l);this.Kc&&(this.ge=f);g.restore();this.Md&&(a.globalCompositeOperation=this.lh,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};l.prototype.au=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var c=a.pa;c.right<this.ra||c.bottom<this.ta||c.left>this.Aa||c.top>this.za||(b.globalCompositeOperation=a.lh,a.vc(b))}};l.prototype.ol=function(){this.Xd=
!0;var a=this.Eb(0,0,!0,!0),b=this.Eb(0,0,!1,!0);this.Xd=!1;this.b.Gc&&(a=Math.round(a),b=Math.round(b));this.Rk(a,b,null)};l.prototype.Rk=function(a,b,c){var g=this.Ac();this.ra=a;this.ta=b;this.Aa=a+1/g*this.b.K;this.za=b+1/g*this.b.J;a=this.Ka();0!==a&&(c&&(c.translate(this.b.K/2,this.b.J/2),c.rotate(-a),c.translate(this.b.K/-2,this.b.J/-2)),this.pe.set(this.ra,this.ta,this.Aa,this.za),this.pe.offset((this.ra+this.Aa)/-2,(this.ta+this.za)/-2),this.Ir.pr(this.pe,a),this.Ir.Qo(this.pe),this.pe.offset((this.ra+
this.Aa)/2,(this.ta+this.za)/2),this.ra=this.pe.left,this.ta=this.pe.top,this.Aa=this.pe.right,this.za=this.pe.bottom)};l.prototype.Ie=function(a){if(this.Md=this.Pj){this.b.ab||(this.b.ab=a.kc(this.b.K,this.b.J,this.b.O));if(this.b.ab.kd!==this.b.K||this.b.ab.jd!==this.b.J)a.deleteTexture(this.b.ab),this.b.ab=a.kc(this.b.K,this.b.J,this.b.O);a.Yc(this.b.ab)}this.Xd=!0;var b=this.Eb(0,0,!0,!0),g=this.Eb(0,0,!1,!0);this.Xd=!1;this.b.Gc&&(b=Math.round(b),g=Math.round(g));this.Rk(b,g,null);b=this.Ac();
a.Nd();a.scale(b,b);a.Mn(-this.Ka());a.translate((this.ra+this.Aa)/-2,(this.ta+this.za)/-2);a.xd();this.Kc?(this.ob.left=this.sb.Pb(this.ra),this.ob.top=this.sb.Qb(this.ta),this.ob.right=this.sb.Pb(this.Aa),this.ob.bottom=this.sb.Qb(this.za),this.td||!this.ob.sh(this.Dg)?(c(this.ge),b=this.rm(),this.td=!1,this.Dg.eg(this.ob)):b=this.ge):b=this.c;for(var f,k=null,g=b.length-1;0<=g;--g)f=b[g],f!==k&&(this.cu(b[g],a),k=f);this.Kc&&(this.ge=b);this.vd||(this.Pl=this.b.sf++,a.Wk(this.Pl),a.hr(1,1,1),a.np(),
a.Ew())};l.prototype.jb=function(a){var b=0,g=0;if(this.Md=this.Pj||1!==this.opacity||0<this.ka.length||0!==this.yb){this.b.ab||(this.b.ab=a.kc(this.b.K,this.b.J,this.b.O));if(this.b.ab.kd!==this.b.K||this.b.ab.jd!==this.b.J)a.deleteTexture(this.b.ab),this.b.ab=a.kc(this.b.K,this.b.J,this.b.O);a.Yc(this.b.ab);this.vd&&a.clear(0,0,0,0)}this.vd||(this.b.va?(a.Wk(this.Pl),a.hr(this.fd[0]/255,this.fd[1]/255,this.fd[2]/255),a.np(),a.Tw()):a.clear(this.fd[0]/255,this.fd[1]/255,this.fd[2]/255,1));this.Xd=
!0;var f=this.Eb(0,0,!0,!0),b=this.Eb(0,0,!1,!0);this.Xd=!1;this.b.Gc&&(f=Math.round(f),b=Math.round(b));this.Rk(f,b,null);f=this.Ac();a.Nd();a.scale(f,f);a.Mn(-this.Ka());a.translate((this.ra+this.Aa)/-2,(this.ta+this.za)/-2);a.xd();this.Kc?(this.ob.left=this.sb.Pb(this.ra),this.ob.top=this.sb.Qb(this.ta),this.ob.right=this.sb.Pb(this.Aa),this.ob.bottom=this.sb.Qb(this.za),this.td||!this.ob.sh(this.Dg)?(c(this.ge),b=this.rm(),this.td=!1,this.Dg.eg(this.ob)):b=this.ge):b=this.c;var k,m,l=null,g=0;
for(k=b.length;g<k;++g)m=b[g],m!==l&&(this.bu(b[g],a),l=m);this.Kc&&(this.ge=b);this.Md&&(b=this.ka.length?this.ka[0].Ua:0,g=this.ka.length?this.ka[0].index:0,0===this.ka.length||1===this.ka.length&&!a.Dn(b)&&1===this.opacity?(1===this.ka.length?(a.fc(b),a.Sg(this.bb.xh(),1/this.b.K,1/this.b.J,0,0,1,1,f,this.Ka(),this.ra,this.ta,(this.ra+this.Aa)/2,(this.ta+this.za)/2,this.b.$a.ba,this.Ha[g]),a.Lk(b)&&(this.b.na=!0)):a.fc(0),a.Yc(this.bb.xh()),a.le(this.opacity),a.Oa(this.b.ab),a.$e(this.Db,this.Ab),
a.Nd(),a.xd(),f=this.b.K/2,b=this.b.J/2,a.Ze(-f,b,f,b,f,-b,-f,-b),a.Oa(null)):this.bb.In(a,this,null,this.bb.xh()))};l.prototype.bu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var c=a.pa;c.right<this.ra||c.bottom<this.ta||c.left>this.Aa||c.top>this.za||(b.Wk(a.sf),a.Wr?this.du(a,b):(b.fc(0),b.$e(a.Db,a.Ab),a.jb(b)))}};l.prototype.cu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.qa();var c=a.pa;c.right<this.ra||c.bottom<this.ta||c.left>this.Aa||c.top>this.za||(a.sf=this.b.sf++,
0===a.yb&&1===a.opacity&&a.me&&a.Ie&&(b.Wk(a.sf),a.Ie(b)))}};l.prototype.du=function(a,b){var c=a.ka[0].Ua,g=a.ka[0].index,f=this.Ac();if(1!==a.ka.length||b.Dn(c)||b.ww(c)||(a.m||a.k.Ka())&&b.si(c)||1!==a.opacity||a.type.wa.xq)this.bb.In(b,this,a,this.Md?this.b.ab:this.bb.xh()),b.Nd(),b.scale(f,f),b.Mn(-this.Ka()),b.translate((this.ra+this.Aa)/-2,(this.ta+this.za)/-2),b.xd();else{b.fc(c);b.$e(a.Db,a.Ab);b.Lk(c)&&(this.b.na=!0);var k=0,m=0,q=0,l=0;b.si(c)&&(c=a.pa,k=this.Kb(c.left,c.top,!0,!0),m=this.Kb(c.left,
c.top,!1,!0),q=this.Kb(c.right,c.bottom,!0,!0),c=this.Kb(c.right,c.bottom,!1,!0),k=k/windowWidth,m=1-m/windowHeight,q=q/windowWidth,l=1-c/windowHeight);b.Sg(this.Md?this.b.ab:this.bb.xh(),1/a.width,1/a.height,k,m,q,l,f,this.Ka(),this.ra,this.ta,(this.ra+this.Aa)/2,(this.ta+this.za)/2,this.b.$a.ba,a.Ha[g]);a.jb(b)}};l.prototype.Eb=function(a,b,c,g){var f=this.b.devicePixelRatio;this.b.Cf&&(a*=f,b*=f);var f=this.b.Oq,k=this.b.Pq,f=(this.bb.scrollX-f)*this.Uc+f,k=(this.bb.scrollY-k)*this.Vc+k,m=f,q=
k,l=1/this.Ac(!g);g?(m-=this.b.K*l/2,q-=this.b.J*l/2):(m-=this.b.width*l/2,q-=this.b.height*l/2);m+=a*l;q+=b*l;b=this.Ka();0!==b&&(m-=f,q-=k,a=Math.cos(b),b=Math.sin(b),g=m*a-q*b,q=q*a+m*b,m=g+f,q+=k);return c?m:q};l.prototype.Kb=function(a,b,c,g){var f=this.b.Oq,k=this.b.Pq,m=(this.bb.scrollX-f)*this.Uc+f,q=(this.bb.scrollY-k)*this.Vc+k,k=m,f=q,l=this.Ka();if(0!==l){a-=m;b-=q;var r=Math.cos(-l),l=Math.sin(-l),p=a*r-b*l;b=b*r+a*l;a=p+m;b+=q}m=1/this.Ac(!g);g?(k-=this.b.K*m/2,f-=this.b.J*m/2):(k-=
this.b.width*m/2,f-=this.b.height*m/2);k=(a-k)/m;f=(b-f)/m;a=this.b.devicePixelRatio;this.b.Cf&&!g&&(k/=a,f/=a);return c?k:f};l.prototype.Cb=function(){var a,b,c,g={s:this.scale,a:this.m,vl:this.ra,vt:this.ta,vr:this.Aa,vb:this.za,v:this.visible,bc:this.fd,t:this.vd,px:this.Uc,py:this.Vc,o:this.opacity,zr:this.zd,fx:[],cg:this.oh,instances:[]};a=0;for(b=this.S.length;a<b;a++)c=this.S[a],g.fx.push({name:c.name,active:c.fb,params:this.Ha[c.index]});return g};l.prototype.$b=function(a){var b,c,g;this.scale=
a.s;this.m=a.a;this.ra=a.vl;this.ta=a.vt;this.Aa=a.vr;this.za=a.vb;this.visible=a.v;this.fd=a.bc;this.vd=a.t;this.Uc=a.px;this.Vc=a.py;this.opacity=a.o;this.zd=a.zr;this.oh=a.cg||[];za(this.Bc,this.Cr);var f=new ca;b=0;for(g=this.oh.length;b<g;++b)f.add(this.oh[b]);c=b=0;for(g=this.Bc.length;b<g;++b)f.contains(this.Bc[b][2])||(this.Bc[c]=this.Bc[b],++c);ya(this.Bc,c);c=a.fx;b=0;for(g=c.length;b<g;b++)if(a=this.nm(c[b].name))a.fb=c[b].active,this.Ha[a.index]=c[b].params;this.wd();this.c.sort(p);this.Zf=
!0};Ub=l})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function p(a,b){return a.index-b.index}function l(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(p);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);e=y[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function r(a,b){this.b=a;this.Mr={};this.ip={};this.Cm=!1;this.Cp=new ca;this.Vl=[];this.Bl=[];this.name=b[0];var c=b[1];this.Ke=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Ep(c[d],null,this.Ke)}function c(a){this.type=a;this.c=[];this.Y=[];this.ja=!0}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.df=[];this.zp=this.jl=this.eo=this.bk=this.group=this.Ar=!1;this.gb=[];this.Lc=[];this.Zc=[];this.zh="";this.qg=this.bk=this.group=!1;this.qj=null;c[1]&&(this.zh=c[1][1].toLowerCase(),
this.group=!0,this.bk=!!c[1][0],this.qj=[],this.qg=this.bk,this.b.ze.push(this),this.b.Ah[this.zh]=this);this.Tc=c[2];this.ca=c[4];this.group||(this.b.Oo[this.ca.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Vb(this,d[a]);e.index=a;this.gb.push(e);this.Jo(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Wb(this,d[a]),e.index=a,this.Lc.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Ep(c[a],this,this.Zc);this.hk=!1;this.gb.length&&(this.hk=null==this.gb[0].type&&
this.gb[0].pb==X.prototype.i.ks)}function b(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Jb))for(c=0,d=a.jc.length;c<d;c++)e=a.jc[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.uc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ia=[];this.u={};this.index=-1;this.gh=!1;this.pb=this.b.ve(b[1]);this.trigger=0<b[3];this.hp=2===b[3];this.Jd=b[4];this.ck=b[5];this.Sv=b[6];this.ca=b[7];this.b.Ee[this.ca.toString()]=this;-1===b[0]?(this.type=null,this.Ta=this.On,this.nf=null,this.hd=-1):
(this.type=this.b.q[b[0]],this.Ta=this.Sv?this.Lw:this.Nn,b[2]?(this.nf=this.type.Sj(b[2]),this.hd=this.type.lm(b[2])):(this.nf=null,this.hd=-1),this.uc.parent&&this.uc.parent.Xk());this.hp&&(this.Ta=this.Mw);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Xb(this,e[c]);this.W.push(g)}this.Ia.length=e.length}}function m(a,b){this.uc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ia=[];this.u={};this.index=-1;this.gh=!1;this.pb=this.b.ve(b[1]);-1===b[0]?(this.type=null,this.Ta=
this.On,this.nf=null,this.hd=-1):(this.type=this.b.q[b[0]],this.Ta=this.Nn,b[2]?(this.nf=this.type.Sj(b[2]),this.hd=this.type.lm(b[2])):(this.nf=null,this.hd=-1));this.ca=b[3];this.b.xe[this.ca.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Xb(this,e[c]);this.W.push(g)}this.Ia.length=e.length}}function g(){D++;F.length===D&&F.push(new Yb);return F[D]}function d(a,b){this.Ba=a;this.uc=a.uc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Fd=null;this.ne=0;this.get=
null;this.Yo=0;this.bb=null;this.key=0;this.object=null;this.index=0;this.Qi=this.Vf=this.Qi=this.Vf=this.lp=this.uf=this.Ri=null;this.ad=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Fd=new Zb(this,b[1]);this.ne=0;this.get=this.pv;break;case 1:this.Fd=new Zb(this,b[1]);this.ne=0;this.get=this.qv;break;case 5:this.Fd=new Zb(this,b[1]);this.ne=0;this.get=this.uv;break;case 3:case 8:this.Yo=b[1];this.get=this.nv;break;case 6:this.bb=this.b.Xm[b[1]];this.get=this.vv;break;case 9:this.key=b[1];this.get=
this.tv;break;case 4:this.object=this.b.q[b[1]];this.get=this.wv;this.uc.Jo(this.object);this.Ba instanceof Wb?this.uc.Xk():this.uc.parent&&this.uc.parent.Xk();break;case 10:this.index=b[1];a.type.B?(this.get=this.rv,this.ad=!0):this.get=this.sv;break;case 11:this.Ri=b[1];this.uf=null;this.get=this.ov;break;case 2:case 12:this.lp=b[1];this.get=this.mv;break;case 13:for(this.get=this.xv,this.Vf=[],this.Qi=[],c=1,d=b.length;c<d;c++)e=new Xb(this.Ba,b[c]),this.Vf.push(e),this.Qi.push(0)}}function e(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.name=c[1];this.Gm=c[3];this.Ph=!!c[4];this.gk=!!c[5];this.ca=c[6];this.b.ah[this.ca.toString()]=this;this.data=this.Gm;this.parent?(this.Lf=this.Ph||this.gk?-1:this.b.Yw++,this.b.mt.push(this)):(this.Lf=-1,this.b.lt.push(this))}function h(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ya=[];this.Ch=null;this.Ev=c[1];this.fb=!0}function n(){this.Er=[];this.reset(null)}var y=[];r.prototype.toString=function(){return this.name};r.prototype.Ep=
function(a,b,c){switch(a[0]){case 0:a=new $b(this,b,a);if(a.Tc)for(c.push(a),c=0,b=a.gb.length;c<b;c++)a.gb[c].trigger&&this.Fp(a,c);else a.Pp()?this.Fp(a,0):c.push(a);break;case 1:a=new Rb(this,b,a);c.push(a);break;case 2:a=new ac(this,b,a),c.push(a)}};r.prototype.Na=function(){var a,b;a=0;for(b=this.Ke.length;a<b;a++)this.Ke[a].Na(a<b-1&&this.Ke[a+1].hk)};r.prototype.lo=function(){T(this.Vl);T(this.Bl);this.Io(this);T(this.Bl)};r.prototype.Io=function(a){var b,c,d,e,g=a.Vl,f=a.Bl,h=this.Cp.Rd();
b=0;for(c=h.length;b<c;++b)d=h[b],e=d.Ch,!d.fb||a===e||-1<f.indexOf(e)||(f.push(e),e.Io(a),g.push(e))};r.prototype.Ta=function(a){this.b.Ay||(this.Cm=!0,a||(this.b.Qm=!0));var b,c;b=0;for(c=this.Ke.length;b<c;b++){var d=this.Ke[b];d.Ta();this.b.Ol(d.ya);this.b.Me&&this.b.xb()}a||(this.b.Qm=!1)};r.prototype.Fp=function(a,b){a.Tc||this.b.ll.push(a);var c,d,e=a.gb[b],g;e.type?g=e.type.name:g="system";var f=(c=e.hp)?this.ip:this.Mr;f[g]||(f[g]=[]);g=f[g];f=e.pb;if(c){if(e.W.length&&(e=e.W[0],1===e.type&&
2===e.Fd.type)){e=e.Fd.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].th;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,th:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].th.push([a,b]);return}Z&&f===Z.prototype.i.bg?g.unshift({method:f,th:[[a,b]]}):g.push({method:f,th:[[a,b]]})}};Hb=r;c.prototype.Bm=function(){return this.ja?this.type.c.length:this.c.length};c.prototype.zc=function(){return this.ja?this.type.c:this.c};c.prototype.ri=
function(a){a&&(a.b.Xa().Gb.Tc?(this.ja&&(T(this.c),za(this.Y,a.type.c),this.ja=!1),a=this.Y.indexOf(a),-1!==a&&(this.c.push(this.Y[a]),this.Y.splice(a,1))):(this.ja=!1,T(this.c),this.c[0]=a))};qb=c;window._c2hh_="6359F364D3882A8A8A13DC019095AB7BEC974D6A";k.prototype.Na=function(a){var b,c=this.parent;if(this.group)for(this.jl=!0;c;){if(!c.group){this.jl=!1;break}c=c.parent}this.eo=!this.Pp()&&(!this.parent||this.parent.group&&this.parent.jl);this.zp=!!a;this.df=this.ya.slice(0);for(c=this.parent;c;){a=
0;for(b=c.ya.length;a<b;a++)this.it(c.ya[a]);c=c.parent}this.ya=l(this.ya);this.df=l(this.df);a=0;for(b=this.gb.length;a<b;a++)this.gb[a].Na();a=0;for(b=this.Lc.length;a<b;a++)this.Lc[a].Na();a=0;for(b=this.Zc.length;a<b;a++)this.Zc[a].Na(a<b-1&&this.Zc[a+1].hk)};k.prototype.kr=function(a){if(this.qg!==!!a){this.qg=!!a;var b;a=0;for(b=this.qj.length;a<b;++a)this.qj[a].Rr();0<b&&this.b.ha.tf&&this.b.ha.tf.lo()}};k.prototype.Jo=function(a){b(a,this.ya)};k.prototype.it=function(a){b(a,this.df)};k.prototype.Xk=
function(){this.Ar=!0;this.parent&&this.parent.Xk()};k.prototype.Pp=function(){return this.gb.length?this.gb[0].trigger:!1};k.prototype.Ta=function(){var a,b,c=!1,d=this.b,e=this.b.Xa();e.Gb=this;var g=this.gb;this.hk||(e.Xl=!1);if(this.Tc){0===g.length&&(c=!0);e.Va=0;for(a=g.length;e.Va<a;e.Va++)b=g[e.Va],b.trigger||(b=b.Ta())&&(c=!0);(e.Hf=c)&&this.Sk()}else{e.Va=0;for(a=g.length;e.Va<a;e.Va++)if(b=g[e.Va].Ta(),!b){e.Hf=!1;this.eo&&d.Me&&d.xb();return}e.Hf=!0;this.Sk()}this.hu(e)};k.prototype.hu=
function(a){a.Hf&&this.zp&&(a.Xl=!0);this.eo&&this.b.Me&&this.b.xb()};k.prototype.Jw=function(a){this.b.Xa().Gb=this;this.gb[a].Ta()&&(this.Sk(),this.b.Xa().Hf=!0)};k.prototype.Sk=function(){var a=this.b.Xa(),b;a.Rb=0;for(b=this.Lc.length;a.Rb<b;a.Rb++)if(this.Lc[a.Rb].Ta())return;this.dr()};k.prototype.Gw=function(){var a=this.b.Xa(),b;for(b=this.Lc.length;a.Rb<b;a.Rb++)if(this.Lc[a.Rb].Ta())return;this.dr()};k.prototype.dr=function(){if(this.Zc.length){var a,b,c,d,e=this.Zc.length-1;this.b.Nk(this);
if(this.Ar)for(a=0,b=this.Zc.length;a<b;a++)c=this.Zc[a],(d=!this.jl||!this.group&&a<e)&&this.b.Mk(c.ya),c.Ta(),d?this.b.Rf(c.ya):this.b.Ol(c.ya);else for(a=0,b=this.Zc.length;a<b;a++)this.Zc[a].Ta();this.b.Hk()}};k.prototype.Kw=function(){var a=this.b.Xa();a.Gb=this;var b=!1,c;a.Va=0;for(c=this.gb.length;a.Va<c;a.Va++)if(this.gb[a.Va].Ta())b=!0;else if(!this.Tc)return!1;return this.Tc?b:!0};k.prototype.Hw=function(){this.b.vf++;var a=this.b.Xa().Va,b=this.b.Nk(this);if(!this.Tc)for(b.Va=a+1,a=this.gb.length;b.Va<
a;b.Va++)if(!this.gb[b.Va].Ta()){this.b.Hk();return}this.Sk();this.b.Hk()};k.prototype.Mv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.gb[b].type===a.type)return!1;return!0};$b=k;a.prototype.Na=function(){var a,b,c;a=0;for(b=this.W.length;a<b;a++)c=this.W[a],c.Na(),c.ad&&(this.gh=!0)};a.prototype.Mw=function(){return!0};a.prototype.On=function(){var a,b;a=0;for(b=this.W.length;a<b;a++)this.Ia[a]=this.W[a].get();return Ta(this.pb.apply(this.b.Qd,this.Ia),this.ck)};a.prototype.Lw=
function(){var a,b;a=0;for(b=this.W.length;a<b;a++)this.Ia[a]=this.W[a].get();a=this.pb.apply(this.nf?this.nf:this.type,this.Ia);this.type.ed();return a};a.prototype.Nn=function(){var a,b,c,d,e,g,f,h,k=this.type,n=k.Z(),m=this.uc.Tc&&!this.trigger;b=0;var l=k.Jb,r=k.B,p=k.$d,t=this.hd,y=-1<t,w=this.gh,B=this.W,F=this.Ia,D=this.ck,M=this.pb,J;if(w)for(b=0,e=B.length;b<e;++b)g=B[b],g.ad||(F[b]=g.get(0));else for(b=0,e=B.length;b<e;++b)F[b]=B[b].get(0);if(n.ja){T(n.c);T(n.Y);J=k.c;a=0;for(d=J.length;a<
d;++a){h=J[a];if(w)for(b=0,e=B.length;b<e;++b)g=B[b],g.ad&&(F[b]=g.get(a));y?(b=0,r&&(b=h.type.kg[p]),b=M.apply(h.M[t+b],F)):b=M.apply(h,F);(f=Ta(b,D))?n.c.push(h):m&&n.Y.push(h)}k.finish&&k.finish(!0);n.ja=!1;k.ed();return n.Bm()}c=0;J=(f=m&&!this.uc.Mv(this))?n.Y:n.c;var O=!1;a=0;for(d=J.length;a<d;++a){h=J[a];if(w)for(b=0,e=B.length;b<e;++b)g=B[b],g.ad&&(F[b]=g.get(a));y?(b=0,r&&(b=h.type.kg[p]),b=M.apply(h.M[t+b],F)):b=M.apply(h,F);if(Ta(b,D))if(O=!0,f){if(n.c.push(h),l)for(b=0,e=h.siblings.length;b<
e;b++)g=h.siblings[b],g.type.Z().c.push(g)}else{J[c]=h;if(l)for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Z().c[c]=g;c++}else if(f){J[c]=h;if(l)for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Z().Y[c]=g;c++}else if(m&&(n.Y.push(h),l))for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Z().Y.push(g)}ya(J,c);if(l)for(r=k.jc,a=0,d=r.length;a<d;a++)h=r[a].Z(),f?ya(h.Y,c):ya(h.c,c);c=O;if(f&&!O)for(a=0,d=n.c.length;a<d;a++){h=n.c[a];if(w)for(b=0,e=B.length;b<e;b++)g=B[b],
g.ad&&(F[b]=g.get(a));b=y?M.apply(h.M[t],F):M.apply(h,F);if(Ta(b,D)){O=!0;break}}k.finish&&k.finish(c||m);return m?O:n.Bm()};Vb=a;m.prototype.Na=function(){var a,b,c;a=0;for(b=this.W.length;a<b;a++)c=this.W[a],c.Na(),c.ad&&(this.gh=!0)};m.prototype.On=function(){var a=this.b,b,c,d=this.W,e=this.Ia;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.pb.apply(a.Qd,e)};m.prototype.Nn=function(){var a=this.type,b=this.hd,c=a.$d,d=this.gh,e=this.W,g=this.Ia,f=this.pb,h=a.Z().zc(),a=a.B,k=-1<b,n,m,l,
r,p,t;if(d)for(m=0,r=e.length;m<r;++m)p=e[m],p.ad||(g[m]=p.get(0));else for(m=0,r=e.length;m<r;++m)g[m]=e[m].get(0);n=0;for(l=h.length;n<l;++n){t=h[n];if(d)for(m=0,r=e.length;m<r;++m)p=e[m],p.ad&&(g[m]=p.get(n));k?(m=0,a&&(m=t.type.kg[c]),f.apply(t.M[b+m],g)):f.apply(t,g)}return!1};Wb=m;var F=[],D=-1;d.prototype.Na=function(){var a,b;if(11===this.type)this.uf=this.b.tp(this.Ri,this.uc.parent);else if(13===this.type)for(a=0,b=this.Vf.length;a<b;a++)this.Vf[a].Na();this.Fd&&this.Fd.Na()};d.prototype.$v=
function(a){this.ad||!a||a.wa.al||(this.ad=!0)};d.prototype.nr=function(){this.ad=!0};d.prototype.pv=function(a){this.ne=a||0;a=g();this.Fd.get(a);D--;return a.data};d.prototype.qv=function(a){this.ne=a||0;a=g();this.Fd.get(a);D--;return A(a.data)?a.data:""};d.prototype.wv=function(){return this.object};d.prototype.nv=function(){return this.Yo};d.prototype.uv=function(a){this.ne=a||0;a=g();this.Fd.get(a);D--;return a.lb()?this.b.ng(a.data):this.b.Uj(a.data)};d.prototype.vv=function(){return this.bb};
d.prototype.tv=function(){return this.key};d.prototype.sv=function(){return this.index};d.prototype.rv=function(a){a=a||0;var b=this.Ba.type,c=null,c=b.Z(),d=c.zc();if(d.length)c=d[a%d.length].type;else if(c.Y.length)c=c.Y[a%c.Y.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.Ij[b.$d]};d.prototype.ov=function(){return this.uf};d.prototype.mv=function(){return this.lp};d.prototype.xv=function(){var a,b;a=0;for(b=this.Vf.length;a<b;a++)this.Qi[a]=this.Vf[a].get();
return this.Qi};Xb=d;e.prototype.Na=function(){this.ya=l(this.ya)};e.prototype.Uw=function(a){var b=this.b.sp();this.parent&&!this.Ph&&b?(this.Lf>=b.length&&(b.length=this.Lf+1),b[this.Lf]=a):this.data=a};e.prototype.lv=function(){var a=this.b.sp();return!this.parent||this.Ph||!a||this.gk?this.data:this.Lf>=a.length||"undefined"===typeof a[this.Lf]?this.Gm:a[this.Lf]};e.prototype.Ta=function(){!this.parent||this.Ph||this.gk||this.Uw(this.Gm)};Rb=e;h.prototype.toString=function(){return"include:"+
this.Ch.toString()};h.prototype.Na=function(){this.Ch=this.b.$l[this.Ev];this.sheet.Cp.add(this);this.ya=l(this.ya);for(var a=this.parent;a;)a.group&&a.qj.push(this),a=a.parent;this.Rr()};h.prototype.Ta=function(){this.parent&&this.b.ti(this.b.q);this.Ch.Cm||this.Ch.Ta(!0);this.parent&&this.b.Rf(this.b.q)};h.prototype.Rr=function(){for(var a=this.parent;a;){if(a.group&&!a.qg){this.fb=!1;return}a=a.parent}this.fb=!0};ac=h;n.prototype.reset=function(a){this.Gb=a;this.Rb=this.Va=0;T(this.Er);this.Xl=
this.Hf=!1};Qb=n})();
(function(){function f(b,a){this.Ba=b;this.b=b.b;this.type=a[0];this.get=[this.yu,this.uu,this.Hu,this.Ku,this.ju,this.Iu,this.Cu,this.ru,this.Bu,this.Gu,this.ku,this.Fu,this.su,this.Du,this.zu,this.Au,this.vu,this.wu,this.qu,this.Ju,this.Eu,this.xu,this.pu,this.tu][this.type];var c=null;this.he=this.W=this.Ia=this.pb=this.gl=this.second=this.first=this.value=null;this.hd=-1;this.md=null;this.Xr=-1;this.uf=this.Ri=null;this.Rg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Zb(b,a[1]);break;case 18:this.first=new Zb(b,a[1]);this.second=new Zb(b,a[2]);this.gl=new Zb(b,a[3]);break;case 19:this.pb=this.b.ve(a[1]);this.pb!==X.prototype.Ea.random&&this.pb!==X.prototype.Ea.At||this.Ba.nr();this.Ia=[];this.W=[];3===a.length?(c=a[2],this.Ia.length=c.length+1):this.Ia.length=1;break;case 20:this.he=this.b.q[a[1]];this.hd=-1;this.pb=this.b.ve(a[2]);this.Rg=a[3];dc.Function&&this.pb===dc.Function.prototype.Ea.wx&&this.Ba.nr();a[4]?this.md=new Zb(b,a[4]):this.md=null;this.Ia=
[];this.W=[];6===a.length?(c=a[5],this.Ia.length=c.length+1):this.Ia.length=1;break;case 21:this.he=this.b.q[a[1]];this.Rg=a[2];a[3]?this.md=new Zb(b,a[3]):this.md=null;this.Xr=a[4];break;case 22:this.he=this.b.q[a[1]];this.he.Sj(a[2]);this.hd=this.he.lm(a[2]);this.pb=this.b.ve(a[3]);this.Rg=a[4];a[5]?this.md=new Zb(b,a[5]):this.md=null;this.Ia=[];this.W=[];7===a.length?(c=a[6],this.Ia.length=c.length+1):this.Ia.length=1;break;case 23:this.Ri=a[1],this.uf=null}this.Ba.$v(this.he);4<=this.type&&17>=
this.type&&(this.first=new Zb(b,a[1]),this.second=new Zb(b,a[2]));if(c){var g,d;g=0;for(d=c.length;g<d;g++)this.W.push(new Zb(b,c[g]))}}function p(){++k;c.length===k&&c.push(new Yb);return c[k]}function l(b,a,c){var g,d;g=0;for(d=b.length;g<d;++g)b[g].get(c),a[g+1]=c.data}function r(b,a){this.type=b||bc.ag;this.data=a||0;this.Mf=null;this.type==bc.ag&&(this.data=Math.floor(this.data))}f.prototype.Na=function(){23===this.type&&(this.uf=this.Ba.b.tp(this.Ri,this.Ba.uc.parent));this.first&&this.first.Na();
this.second&&this.second.Na();this.gl&&this.gl.Na();this.md&&this.md.Na();if(this.W){var b,a;b=0;for(a=this.W.length;b<a;b++)this.W[b].Na()}};var c=[],k=-1;f.prototype.Ju=function(b){var a=this.W,c=this.Ia;c[0]=b;b=p();l(a,c,b);--k;this.pb.apply(this.b.Qd,c)};f.prototype.Eu=function(b){var a=this.he,c=this.Ia,g=this.W,d=this.md,e=this.pb,f=this.Ba.ne,n=a.Z(),r=n.zc();if(!r.length)if(n.Y.length)r=n.Y;else{this.Rg?b.rc(""):b.xa(0);return}c[0]=b;b.Mf=a;b=p();l(g,c,b);d&&(d.get(b),b.lb()&&(f=b.data,r=
a.c));--k;a=r.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);e.apply(r[f],c)};f.prototype.pu=function(b){var a=this.he,c=this.Ia,g=this.W,d=this.md,e=this.hd,f=this.pb,n=this.Ba.ne,r=a.Z(),F=r.zc();if(!F.length)if(r.Y.length)F=r.Y;else{this.Rg?b.rc(""):b.xa(0);return}c[0]=b;b.Mf=a;b=p();l(g,c,b);d&&(d.get(b),b.lb()&&(n=b.data,F=a.c));--k;g=F.length;if(n>=g||n<=-g)n%=g;0>n&&(n+=g);n=F[n];F=0;a.B&&(F=n.type.kg[a.$d]);f.apply(n.M[e+F],c)};f.prototype.xu=function(b){var a=this.md,c=this.he,g=this.Xr,d=this.Ba.ne,
e=c.Z(),f=e.zc();if(!f.length)if(e.Y.length)f=e.Y;else{this.Rg?b.rc(""):b.xa(0);return}if(a){e=p();a.get(e);if(e.lb()){d=e.data;f=c.c;0!==f.length&&(d%=f.length,0>d&&(d+=f.length));d=c.pm(d);c=d.Za[g];A(c)?b.rc(c):b.I(c);--k;return}--k}a=f.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=f[d];f=0;c.B&&(f=d.type.Ij[c.$d]);c=d.Za[g+f];A(c)?b.rc(c):b.I(c)};f.prototype.yu=function(b){b.type=bc.ag;b.data=this.value};f.prototype.uu=function(b){b.type=bc.$f;b.data=this.value};f.prototype.Hu=function(b){b.type=bc.String;
b.data=this.value};f.prototype.Ku=function(b){this.first.get(b);b.lb()&&(b.data=-b.data)};f.prototype.ju=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data+=a.data,a.wg()&&b.Gg());--k};f.prototype.Iu=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data-=a.data,a.wg()&&b.Gg());--k};f.prototype.Cu=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data*=a.data,a.wg()&&b.Gg());--k};f.prototype.ru=function(b){this.first.get(b);
var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data/=a.data,b.Gg());--k};f.prototype.Bu=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data%=a.data,a.wg()&&b.Gg());--k};f.prototype.Gu=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data=Math.pow(b.data,a.data),a.wg()&&b.Gg());--k};f.prototype.ku=function(b){this.first.get(b);var a=p();this.second.get(a);a.zg()||b.zg()?this.mu(b,a):this.lu(b,a);--k};f.prototype.mu=function(b,a){b.zg()&&
a.zg()?this.ou(b,a):this.nu(b,a)};f.prototype.ou=function(b,a){b.data+=a.data};f.prototype.nu=function(b,a){b.zg()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.rc(b.data.toString()+a.data)};f.prototype.lu=function(b,a){b.xa(b.data&&a.data?1:0)};f.prototype.Fu=function(b){this.first.get(b);var a=p();this.second.get(a);b.lb()&&a.lb()&&(b.data||a.data?b.xa(1):b.xa(0));--k};f.prototype.qu=function(b){this.first.get(b);b.data?this.second.get(b):this.gl.get(b)};f.prototype.su=function(b){this.first.get(b);
var a=p();this.second.get(a);b.xa(b.data===a.data?1:0);--k};f.prototype.Du=function(b){this.first.get(b);var a=p();this.second.get(a);b.xa(b.data!==a.data?1:0);--k};f.prototype.zu=function(b){this.first.get(b);var a=p();this.second.get(a);b.xa(b.data<a.data?1:0);--k};f.prototype.Au=function(b){this.first.get(b);var a=p();this.second.get(a);b.xa(b.data<=a.data?1:0);--k};f.prototype.vu=function(b){this.first.get(b);var a=p();this.second.get(a);b.xa(b.data>a.data?1:0);--k};f.prototype.wu=function(b){this.first.get(b);
var a=p();this.second.get(a);b.xa(b.data>=a.data?1:0);--k};f.prototype.tu=function(b){var a=this.uf.lv();ja(a)?b.I(a):b.rc(a)};Zb=f;r.prototype.wg=function(){return this.type===bc.$f};r.prototype.lb=function(){return this.type===bc.ag||this.type===bc.$f};r.prototype.zg=function(){return this.type===bc.String};r.prototype.Gg=function(){this.wg()||(this.zg()&&(this.data=parseFloat(this.data)),this.type=bc.$f)};r.prototype.xa=function(b){this.type=bc.ag;this.data=Math.floor(b)};r.prototype.I=function(b){this.type=
bc.$f;this.data=b};r.prototype.rc=function(b){this.type=bc.String;this.data=b};r.prototype.Vw=function(b){ja(b)?(this.type=bc.$f,this.data=b):A(b)?(this.type=bc.String,this.data=b.toString()):(this.type=bc.ag,this.data=0)};Yb=r;bc={ag:0,$f:1,String:2}})();function X(f){this.b=f;this.ic=[]}
X.prototype.Cb=function(){var f={},p,l,r,c,k,b,a,m;f.waits=[];var g=f.waits,d;p=0;for(l=this.ic.length;p<l;p++){b=this.ic[p];d={t:b.time,st:b.ur,s:b.Yn,ev:b.ig.ca,sm:[],sols:{}};b.ig.Lc[b.Rb]&&(d.act=b.ig.Lc[b.Rb].ca);r=0;for(c=b.ya.length;r<c;r++)d.sm.push(b.ya[r].ca);for(k in b.Ob)if(b.Ob.hasOwnProperty(k)){a=this.b.q[parseInt(k,10)];m={sa:b.Ob[k].Tk,insts:[]};r=0;for(c=b.Ob[k].be.length;r<c;r++)m.insts.push(b.Ob[k].be[r].uid);d.sols[a.ca.toString()]=m}g.push(d)}return f};
X.prototype.$b=function(f){f=f.waits;var p,l,r,c,k,b,a,m,g,d,e;T(this.ic);p=0;for(l=f.length;p<l;p++)if(b=f[p],m=this.b.Oo[b.ev.toString()]){g=-1;r=0;for(c=m.Lc.length;r<c;r++)if(m.Lc[r].ca===b.act){g=r;break}if(-1!==g){a={Ob:{},ya:[],Wl:!1};a.time=b.t;a.ur=b.st||"";a.Yn=!!b.s;a.ig=m;a.Rb=g;r=0;for(c=b.sm.length;r<c;r++)(m=this.b.Wj(b.sm[r]))&&a.ya.push(m);for(k in b.sols)if(b.sols.hasOwnProperty(k)&&(m=this.b.Wj(parseInt(k,10)))){g=b.sols[k];d={Tk:g.sa,be:[]};r=0;for(c=g.insts.length;r<c;r++)(e=
this.b.pg(g.insts[r]))&&d.be.push(e);a.Ob[m.index.toString()]=d}this.ic.push(a)}}};
(function(){function f(){}function p(){}function l(){}var r=X.prototype;f.prototype.Do=function(){return!0};f.prototype.Ks=function(){return!0};f.prototype.ls=function(b){var a=this.b.Tj(),c=a.u.Every_lastTime||0,g=this.b.$a.ba;"undefined"===typeof a.u.Every_seconds&&(a.u.Every_seconds=b);var d=a.u.Every_seconds;if(g>=c+d)return a.u.Every_lastTime=c+d,g>=a.u.Every_lastTime+.04&&(a.u.Every_lastTime=g),a.u.Every_seconds=b,!0;g<c-.1&&(a.u.Every_lastTime=g);return!1};f.prototype.rs=function(b){return(b=
this.b.Ah[b.toLowerCase()])&&b.qg};f.prototype.ks=function(){var b=this.b.Xa();return b.Xl?!1:!b.Hf};f.prototype.Eo=function(){return!0};f.prototype.Ds=function(){return!0};f.prototype.wl=function(){return!0};f.prototype.Ls=function(){return!0};f.prototype.ul=function(){return!0};f.prototype.$r=function(b,a,c){return Oa(U(b),U(c))<=U(a)};f.prototype.qs=function(b,a){return Qa(U(b),U(a))};f.prototype.ps=function(b,a,c){b=Ka(b);a=Ka(a);c=Ka(c);return Qa(c,a)?Qa(b,a)&&!Qa(b,c):!(!Qa(b,a)&&Qa(b,c))};
r.i=new f;p.prototype.ns=function(b){this.b.Df||this.b.Ud||(this.b.Ud=b)};p.prototype.As=function(b){if(!this.b.Df&&!this.b.Ud){var a=this.b.oc.indexOf(this.b.ha);if(!b||0!==a)if(b||a!==this.b.oc.length-1)this.b.Ud=this.b.oc[a+(b?-1:1)]}};p.prototype.gs=function(b,a,c,g){if(a&&b&&(a=this.b.Rl(b,a,c,g))){this.b.Cc++;var d;this.b.trigger(Object.getPrototypeOf(b.wa).i.kf,a);if(a.Jb)for(c=0,g=a.siblings.length;c<g;c++)d=a.siblings[c],this.b.trigger(Object.getPrototypeOf(d.type.wa).i.kf,d);this.b.Cc--;
b=b.Z();b.ja=!1;T(b.c);b.c[0]=a;if(a.Jb)for(c=0,g=a.siblings.length;c<g;c++)d=a.siblings[c],b=d.type.Z(),b.ja=!1,T(b.c),b.c[0]=d}};p.prototype.Ws=function(b,a){b&&b.visible!==a&&(b.visible=a,this.b.na=!0)};p.prototype.Vs=function(b,a){b&&(a=Fa(a/100,0,1),b.opacity!==a&&(b.opacity=a,this.b.na=!0))};var c=[],k=[];p.prototype.et=function(b){if(!(0>b)){var a,f,g,d=this.b.Xa(),e;c.length?e=c.pop():e={Ob:{},ya:[]};e.Wl=!1;e.time=this.b.$a.ba+b;e.ur="";e.Yn=!1;e.ig=d.Gb;e.Rb=d.Rb+1;b=0;for(a=this.b.q.length;b<
a;b++)g=this.b.q[b],f=g.Z(),f.ja&&-1===d.Gb.ya.indexOf(g)||(e.ya.push(g),g=void 0,k.length?g=k.pop():g={be:[]},g.Tk=!1,g.Tk=f.ja,za(g.be,f.c),e.Ob[b.toString()]=g);this.ic.push(e);return!0}};p.prototype.Qs=function(){if(!this.b.Df&&!this.b.Ud&&this.b.ha){this.b.Ud=this.b.ha;var b,a,c;b=0;for(a=this.b.ze.length;b<a;b++)c=this.b.ze[b],c.kr(c.bk)}};p.prototype.Rs=function(b){this.b.Uk=b};p.prototype.ys=function(b){this.b.ai=b};r.T=new p;l.prototype["int"]=function(b,a){A(a)?(b.xa(parseInt(a,10)),isNaN(b.data)&&
(b.data=0)):b.xa(a)};l.prototype["float"]=function(b,a){A(a)?(b.I(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.I(a)};l.prototype.random=function(b,a,c){void 0===c?b.I(Math.random()*a):b.I(Math.random()*(c-a)+a)};l.prototype.sqrt=function(b,a){b.I(Math.sqrt(a))};l.prototype.abs=function(b,a){b.I(Math.abs(a))};l.prototype.round=function(b,a){b.xa(Math.round(a))};l.prototype.floor=function(b,a){b.xa(Math.floor(a))};l.prototype.ceil=function(b,a){b.xa(Math.ceil(a))};l.prototype.sin=function(b,a){b.I(Math.sin(U(a)))};
l.prototype.cos=function(b,a){b.I(Math.cos(U(a)))};l.prototype.tan=function(b,a){b.I(Math.tan(U(a)))};l.prototype.asin=function(b,a){b.I(Ga(Math.asin(a)))};l.prototype.acos=function(b,a){b.I(Ga(Math.acos(a)))};l.prototype.atan=function(b,a){b.I(Ga(Math.atan(a)))};l.prototype.exp=function(b,a){b.I(Math.exp(a))};l.prototype.log10=function(b,a){b.I(Math.log(a)/Math.LN10)};l.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,g,d;c=2;for(g=arguments.length;c<g;c++)d=arguments[c],
"number"===typeof d&&a<d&&(a=d);b.I(a)};l.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var c,g,d;c=2;for(g=arguments.length;c<g;c++)d=arguments[c],"number"===typeof d&&a>d&&(a=d);b.I(a)};l.prototype.rf=function(b){b.I(this.b.rf)};l.prototype.Yf=function(b){b.I(this.b.Yf)};l.prototype.time=function(b){b.I(this.b.$a.ba)};l.prototype.Xg=function(b){b.xa(this.b.Xg)};l.prototype.zk=function(b){b.xa(this.b.zk)};l.prototype.hm=function(b){b.xa(this.b.hm)};l.prototype.m=function(b,
a,c,g,d){b.I(Ga(Na(a,c,g,d)))};l.prototype.Uv=function(b,a){var c=this.b.av(a);c?b.I(100*c.opacity):b.I(0)};l.prototype.Wv=function(b){b.xa(this.b.ha.width)};l.prototype.Vv=function(b){b.xa(this.b.ha.height)};l.prototype.left=function(b,a,c){b.rc(A(a)?a.substr(0,c):"")};l.prototype.right=function(b,a,c){b.rc(A(a)?a.substr(a.length-c):"")};l.prototype.replace=function(b,a,c,g){A(a)&&A(c)&&A(g)?b.rc(a.replace(new RegExp(eb(c),"gi"),g)):b.rc(A(a)?a:"")};l.prototype.trim=function(b,a){b.rc(A(a)?a.trim():
"")};l.prototype.At=function(b){var a=P(Math.random()*(arguments.length-1));b.Vw(arguments[a+1])};l.prototype.Ql=function(b){b.I(this.b.Ql/1E3)};l.prototype.pk=function(b){b.I(this.b.pk)};r.Ea=new l;r.Iw=function(){var b,a,f,g,d,e,h=this.b.Xa();b=0;for(f=this.ic.length;b<f;b++){g=this.ic[b];if(-1===g.time){if(!g.Yn)continue}else if(g.time>this.b.$a.ba)continue;h.Gb=g.ig;h.Rb=g.Rb;h.Va=0;for(a in g.Ob)g.Ob.hasOwnProperty(a)&&(d=this.b.q[parseInt(a,10)].Z(),e=g.Ob[a],d.ja=e.Tk,za(d.c,e.be),d=e,T(d.be),
k.push(d));g.ig.Gw();this.b.Ol(g.ya);g.Wl=!0}a=b=0;for(f=this.ic.length;b<f;b++)g=this.ic[b],this.ic[a]=g,g.Wl?(Va(g.Ob),T(g.ya),c.push(g)):a++;ya(this.ic,a)}})();
(function(){pb=function(f,l){var r=f[1],c=f[3],k=f[4],b=f[5],a=f[6],m=f[7],g=f[8];l.i||(l.i={});l.T||(l.T={});l.Ea||(l.Ea={});var d=l.i,e=l.T,h=l.Ea;c&&(d.ds=function(a,b){return cc(this.x,a,b)},d.es=function(a,b){return cc(this.y,a,b)},d.Fx=function(){var a=this.k;this.qa();var b=this.pa;return!(b.right<a.ra||b.bottom<a.ta||b.left>a.Aa||b.top>a.za)},d.Gx=function(){this.qa();var a=this.pa,b=this.b.ha;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.Rx=function(a,b,c){var d=this.Z(),
e=d.zc();if(!e.length)return!1;var g=e[0],f=g,h=Sa(g.x,g.y,b,c),k,m,l;k=1;for(m=e.length;k<m;k++)if(g=e[k],l=Sa(g.x,g.y,b,c),0===a&&l<h||1===a&&l>h)h=l,f=g;d.ri(f);return!0},e.ly=function(a){this.x!==a&&(this.x=a,this.C())},e.my=function(a){this.y!==a&&(this.y=a,this.C())},e.gy=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.C()},e.hy=function(a,b){var c=a.cv(this);if(c){var d;c.wh?(d=c.wh(b,!0),c=c.wh(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.C()}},e.Lx=
function(a){0!==a&&(this.x+=Math.cos(this.m)*a,this.y+=Math.sin(this.m)*a,this.C())},e.Kx=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.C())},h.Go=function(a){a.I(this.x)},h.Ho=function(a){a.I(this.y)},h.rf=function(a){a.I(this.b.vh(this))});k&&(d.Ax=function(a,b){return cc(this.width,a,b)},d.xx=function(a,b){return cc(this.height,a,b)},e.ky=function(a){this.width!==a&&(this.width=a,this.C())},e.cy=function(a){this.height!==a&&(this.height=a,this.C())},e.iy=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.C()},h.gt=function(a){a.I(this.width)},h.os=function(a){a.I(this.height)},h.tx=function(a){this.qa();a.I(this.pa.left)},h.vx=function(a){this.qa();a.I(this.pa.top)},h.ux=function(a){this.qa();a.I(this.pa.right)},h.rx=function(a){this.qa();a.I(this.pa.bottom)});b&&(d.$r=function(a,b){return Oa(this.m,U(b))<=U(a)},d.qs=function(a){return Qa(this.m,U(a))},d.ps=function(a,b){var c=Ka(a),d=Ka(b),e=Ia(this.m);return Qa(d,c)?Qa(e,c)&&
!Qa(e,d):!(!Qa(e,c)&&Qa(e,d))},e.Zx=function(a){a=U(Ha(a));isNaN(a)||this.m===a||(this.m=a,this.C())},e.Vx=function(a){0===a||isNaN(a)||(this.m+=U(a),this.m=Ia(this.m),this.C())},e.Wx=function(a){0===a||isNaN(a)||(this.m-=U(a),this.m=Ia(this.m),this.C())},e.Xx=function(a,b){var c=Pa(this.m,U(b),U(a));isNaN(c)||this.m===c||(this.m=c,this.C())},e.Yx=function(a,b,c){a=Pa(this.m,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.m===a||(this.m=a,this.C())},e.jy=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.m===c||(this.m=c,this.C())},h.qx=function(a){a.I(Ja(this.m))});r||(d.yx=function(a,b,c){return cc(this.Za[a],b,c)},d.Dx=function(a){return this.Za[a]},d.Sx=function(a,b){var c=this.Z(),d=c.zc();if(!d.length)return!1;var e=d[0],g=e,f=e.Za[b],h,k,m;h=1;for(k=d.length;h<k;h++)if(e=d[h],m=e.Za[b],0===a&&m<f||1===a&&m>f)f=m,g=e;c.ri(g);return!0},d.Qx=function(a){var b,c,d,e,g;if(this.b.Tj().ck){g=this.Z();if(g.ja)for(g.ja=!1,T(g.c),T(g.Y),d=this.c,b=0,c=d.length;b<c;b++)e=d[b],
e.uid===a?g.Y.push(e):g.c.push(e);else{d=b=0;for(c=g.c.length;b<c;b++)e=g.c[b],g.c[d]=e,e.uid===a?g.Y.push(e):d++;ya(g.c,d)}this.ed();return!!g.c.length}e=this.b.pg(a);if(!e)return!1;g=this.Z();if(!g.ja&&-1===g.c.indexOf(e))return!1;if(this.B)for(a=e.type.Fa,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.ri(e),this.ed(),!0}else if(e.type===this)return g.ri(e),this.ed(),!0;return!1},d.kf=function(){return!0},d.Fs=function(){return!0},e.ey=function(a,b){var c=this.Za;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):
A(c[a])&&(c[a]=A(b)?b:b.toString())},e.ox=function(a,b){var c=this.Za;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):A(c[a])&&(c[a]=A(b)?c[a]+b:c[a]+b.toString())},e.ny=function(a,b){var c=this.Za;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},e.$x=function(a,b){this.Za[a]=b?1:0},e.oy=function(a){this.Za[a]=1-this.Za[a]},e.hs=function(){this.b.ue(this)},e.xs||(e.xs=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.nk(this,b,!0);this.Bd&&this.Bd();if(this.M)for(a=0,b=this.M.length;a<
b;++a)c=this.M[a],c.Bd&&c.Bd()}),h.Bx=function(a){var b=a.Mf.c.length,c,d,e;c=0;for(d=this.b.ld.length;c<d;c++)e=this.b.ld[c],a.Mf.B?0<=e.type.Fa.indexOf(a.Mf)&&b++:e.type===a.Mf&&b++;a.xa(b)},h.Ux=function(a){a.xa(a.Mf.Z().zc().length)},h.qy=function(a){a.xa(this.uid)},h.Cx=function(a){a.xa(this.yh())},h.as||(h.as=function(a){a.rc(JSON.stringify(this.b.Pn(this,!0)))}));a&&(d.Hx=function(){return this.visible},e.Zs=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.na=!0)},d.zx=function(a,b){return cc(kb(100*
this.opacity),a,b)},e.fy=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.na=!0)},h.Opacity=function(a){a.I(kb(100*this.opacity))});m&&(d.Ex=function(a){return a?this.k===a:!1},d.Tx=function(a){var b=this.Z(),c=b.zc();if(!c.length)return!1;var d=c[0],e=d,g,f;g=1;for(f=c.length;g<f;g++)if(d=c[g],0===a){if(d.k.index>e.k.index||d.k.index===e.k.index&&d.Hd()>e.Hd())e=d}else if(d.k.index<e.k.index||d.k.index===e.k.index&&d.Hd()<e.Hd())e=d;b.ri(e);return!0},e.zs=function(){var a=
this.k,b=a.c;b.length&&b[b.length-1]===this||(a.Qg(this,!1),a.ih(this,!1),this.b.na=!0)},e.Mx=function(){var a=this.k,b=a.c;b.length&&b[0]===this||(a.Qg(this,!1),a.uw(this),this.b.na=!0)},e.Nx=function(a){a&&a!=this.k&&(this.k.Qg(this,!0),this.k=a,a.ih(this,!0),this.b.na=!0)},e.ty=function(a,b){var c=0===a;if(b){var d=b.Wu(this);d&&d.uid!==this.uid&&(this.k.index!==d.k.index&&(this.k.Qg(this,!0),this.k=d.k,d.k.ih(this,!0)),this.k.bw(this,d,c),this.b.na=!0)}},h.Jx=function(a){a.xa(this.k.Cq)},h.Ix=
function(a){a.rc(this.k.name)},h.ry=function(a){a.xa(this.Hd())});g&&(e.ay=function(a,b){if(this.b.j){var c=this.type.om(b);if(!(0>c)){var d=1===a;this.we[c]!==d&&(this.we[c]=d,this.wd(),this.b.na=!0)}}},e.by=function(a,b,c){if(this.b.j){var d=this.type.om(a);0>d||(a=this.type.S[d],d=this.Ha[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.j.jv(a.Ua,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.fb&&(this.b.na=!0))))}})};Ib=function(){this.Kl=this.jj=!0;this.type.cj=!0;this.b.na=!0;var f,l,r=this.El;f=0;for(l=
r.length;f<l;++f)r[f](this);this.k.Kc&&this.qa()};Jb=function(f){f&&this.El.push(f)};Lb=function(){if(this.jj){var f=this.pa,l=this.zb;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Hb*this.width,-this.Ib*this.height);this.m?(f.offset(-this.x,-this.y),l.pr(f,this.m),l.offset(this.x,this.y),l.Qo(f)):l.cf(f);f.normalize();this.jj=!1;this.Vr()}};var f=new ta(0,0,0,0);Mb=function(){if(this.k.Kc){var p=this.k.sb,l=this.pa;f.set(p.Pb(l.left),p.Qb(l.top),p.Pb(l.right),p.Qb(l.bottom));
this.ac.sh(f)||(this.ac.right<this.ac.left?p.update(this,null,f):p.update(this,this.ac,f),this.ac.eg(f),this.k.td=!0)}};Nb=function(){if(this.Kl&&this.Vd){this.qa();var p=this.type.pj,l=this.pa;f.set(p.Pb(l.left),p.Qb(l.top),p.Pb(l.right),p.Qb(l.bottom));this.Fe.sh(f)||(this.Fe.right<this.Fe.left?p.update(this,null,f):p.update(this,this.Fe,f),this.Fe.eg(f),this.Kl=!1)}};Kb=function(f,l){return this.pa.Fb(f,l)&&this.zb.Fb(f,l)?this.U&&!this.U.Oe()?(this.U.Ce(this.width,this.height,this.m),this.U.Fb(f-
this.x,l-this.y)):!0:!1};Eb=function(){this.type.ml();return this.Af};Ob=function(){this.k.no();return this.yd};Pb=function(){T(this.ka);var f,l,r,c=!0;f=0;for(l=this.we.length;f<l;f++)this.we[f]&&(r=this.type.S[f],this.ka.push(r),r.Wc||(c=!1));this.Wr=!!this.ka.length;this.me=c};Fb=function(){return"Inst"+this.Xq};sb=function(f){if(f&&f.Jb&&f.type!=this){var l,r,c;l=0;for(r=f.siblings.length;l<r;l++)if(c=f.siblings[l],c.type==this)return c}f=this.Z().zc();return f.length?f[0]:null};tb=function(f){var l=
this.Z().zc();return l.length?l[f.yh()%l.length]:null};rb=function(){if(this.Vg&&!this.B){var f,l;f=0;for(l=this.c.length;f<l;f++)this.c[f].Af=f;var r=f,c=this.b.ld;f=0;for(l=c.length;f<l;++f)c[f].type===this&&(c[f].Af=r++);this.Vg=!1}};Cb=function(f){if(f<this.c.length)return this.c[f];f-=this.c.length;var l=this.b.ld,r,c;r=0;for(c=l.length;r<c;++r)if(l[r].type===this){if(0===f)return l[r];--f}return null};ub=function(){return this.oe[this.Dd]};vb=function(){this.Dd++;this.Dd===this.oe.length?this.oe.push(new qb(this)):
(this.oe[this.Dd].ja=!0,T(this.oe[this.Dd].Y))};wb=function(){this.Dd++;this.Dd===this.oe.length&&this.oe.push(new qb(this));var f=this.oe[this.Dd],l=this.oe[this.Dd-1];l.ja?(f.ja=!0,T(f.Y)):(f.ja=!1,za(f.c,l.c),za(f.Y,l.Y))};xb=function(){this.Dd--};yb=function(f){var l,r,c,k,b,a=0;if(!this.B)for(l=0,r=this.Fa.length;l<r;l++)for(b=this.Fa[l],c=0,k=b.Ga.length;c<k;c++){if(f===b.Ga[c].name)return this.u.lastBehIndex=a,b.Ga[c];a++}l=0;for(r=this.Ga.length;l<r;l++){if(f===this.Ga[l].name)return this.u.lastBehIndex=
a,this.Ga[l];a++}return null};zb=function(f){return this.Sj(f)?this.u.lastBehIndex:-1};Ab=function(f){var l,r;l=0;for(r=this.S.length;l<r;l++)if(this.S[l].name===f)return l;return-1};Bb=function(){if(this.Jb&&!this.B){var f,l,r,c,k,b,a;this.ml();b=this.Z();var m=b.ja,g=(f=this.b.Xa())&&f.Gb&&f.Gb.Tc;f=0;for(l=this.jc.length;f<l;f++)if(k=this.jc[f],k!==this&&(k.ml(),a=k.Z(),a.ja=m,!m)){T(a.c);r=0;for(c=b.c.length;r<c;++r)a.c[r]=k.pm(b.c[r].Af);if(g)for(T(a.Y),r=0,c=b.Y.length;r<c;++r)a.Y[r]=k.pm(b.Y[r].Af)}}};
Db=function(){return"Type"+this.ca};cc=function(f,l,r){if("undefined"===typeof f||"undefined"===typeof r)return!1;switch(l){case 0:return f===r;case 1:return f!==r;case 2:return f<r;case 3:return f<=r;case 4:return f>r;case 5:return f>=r;default:return!1}}})();
var lc={overlay:{src:"precision mediump float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nfront.r = back.r < 0.5 ? 2.0 * back.r * front.r : 2.0 * (front.r + back.r * front.a - back.r * front.r) - front.a;\nfront.g = back.g < 0.5 ? 2.0 * back.g * front.g : 2.0 * (front.g + back.g * front.a - back.g * front.g) - front.a;\nfront.b = back.b < 0.5 ? 2.0 * back.b * front.b : 2.0 * (front.b + back.b * front.a - back.b * front.b) - front.a;\nfront *= back.a;\ngl_FragColor = front;\n}",Fj:0,
Gj:0,Sl:!0,Wc:!1,Cl:!1,W:[]}};function oc(f){this.b=f}
(function(){function f(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function p(a){a=a.toLowerCase();return W.hasOwnProperty(a)&&W[a].length?W[a][0].yc():t.destination}function l(){return t.createGain?t.createGain():t.createGainNode()}function r(a){return t.createDelay?t.createDelay(a):t.createDelayNode(a)}function c(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function k(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||0,b,c-b)}function b(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function a(a,b,c,d,e,g){this.type="filter";this.pd=[a,b,c,d,e,g];this.da=l();this.R=l();this.R.gain.value=g;this.N=l();this.N.gain.value=1-g;this.Qa=t.createBiquadFilter();this.Qa.type="number"===typeof this.Qa.type?a:Ac[a];this.Qa.frequency.value=b;this.Qa.detune&&(this.Qa.detune.value=c);this.Qa.Q.value=d;this.Qa.gain.value=e;this.da.connect(this.Qa);this.da.connect(this.N);this.Qa.connect(this.R)}function m(a,b,c){this.type="delay";this.pd=[a,b,c];this.da=l();this.R=l();this.R.gain.value=c;this.N=
l();this.N.gain.value=1-c;this.li=l();this.Qc=r(a);this.Qc.delayTime.value=a;this.yj=l();this.yj.gain.value=b;this.da.connect(this.li);this.da.connect(this.N);this.li.connect(this.R);this.li.connect(this.Qc);this.Qc.connect(this.yj);this.yj.connect(this.li)}function g(a,b,c,d){this.type="convolve";this.pd=[b,c,d];this.da=l();this.R=l();this.R.gain.value=c;this.N=l();this.N.gain.value=1-c;this.pf=t.createConvolver();a&&(this.pf.normalize=b,this.pf.buffer=a);this.da.connect(this.pf);this.da.connect(this.N);
this.pf.connect(this.R)}function d(a,b,d,e,g){this.type="flanger";this.pd=[a,b,d,e,g];this.da=l();this.N=l();this.N.gain.value=1-g/2;this.R=l();this.R.gain.value=g/2;this.Jj=l();this.Jj.gain.value=e;this.Qc=r(a+b);this.Qc.delayTime.value=a;this.nb=t.createOscillator();this.nb.frequency.value=d;this.pc=l();this.pc.gain.value=b;this.da.connect(this.Qc);this.da.connect(this.N);this.Qc.connect(this.R);this.Qc.connect(this.Jj);this.Jj.connect(this.Qc);this.nb.connect(this.pc);this.pc.connect(this.Qc.delayTime);
c(this.nb)}function e(a,b,d,e,g,f){this.type="phaser";this.pd=[a,b,d,e,g,f];this.da=l();this.N=l();this.N.gain.value=1-f/2;this.R=l();this.R.gain.value=f/2;this.Qa=t.createBiquadFilter();this.Qa.type="number"===typeof this.Qa.type?7:"allpass";this.Qa.frequency.value=a;this.Qa.detune&&(this.Qa.detune.value=b);this.Qa.Q.value=d;this.nb=t.createOscillator();this.nb.frequency.value=g;this.pc=l();this.pc.gain.value=e;this.da.connect(this.Qa);this.da.connect(this.N);this.Qa.connect(this.R);this.nb.connect(this.pc);
this.pc.connect(this.Qa.frequency);c(this.nb)}function h(a){this.type="gain";this.pd=[a];this.fa=l();this.fa.gain.value=a}function n(a,b){this.type="tremolo";this.pd=[a,b];this.fa=l();this.fa.gain.value=1-b/2;this.nb=t.createOscillator();this.nb.frequency.value=a;this.pc=l();this.pc.gain.value=b/2;this.nb.connect(this.pc);this.pc.connect(this.fa.gain);c(this.nb)}function y(a,b){this.type="ringmod";this.pd=[a,b];this.da=l();this.R=l();this.R.gain.value=b;this.N=l();this.N.gain.value=1-b;this.yi=l();
this.yi.gain.value=0;this.nb=t.createOscillator();this.nb.frequency.value=a;this.nb.connect(this.yi.gain);c(this.nb);this.da.connect(this.yi);this.da.connect(this.N);this.yi.connect(this.R)}function F(a,b,c,d,e){this.type="distortion";this.pd=[a,b,c,d,e];this.da=l();this.Jk=l();this.Ik=l();this.Pw(c,Math.pow(10,d/20));this.R=l();this.R.gain.value=e;this.N=l();this.N.gain.value=1-e;this.pl=t.createWaveShaper();this.wj=new Float32Array(65536);this.Su(a,b);this.pl.wj=this.wj;this.da.connect(this.Jk);
this.da.connect(this.N);this.Jk.connect(this.pl);this.pl.connect(this.Ik);this.Ik.connect(this.R)}function D(a,b,c,d,e){this.type="compressor";this.pd=[a,b,c,d,e];this.fa=t.createDynamicsCompressor();try{this.fa.threshold.value=a,this.fa.knee.value=b,this.fa.ratio.value=c,this.fa.attack.value=d,this.fa.release.value=e}catch(g){}}function q(a,b){this.type="analyser";this.pd=[a,b];this.fa=t.createAnalyser();this.fa.fftSize=a;this.fa.smoothingTimeConstant=b;this.Qu=new Float32Array(this.fa.frequencyBinCount);
this.sr=new Uint8Array(a);this.qi=0}function v(){this.P=null;this.ok=0;this.ef=[];this.nn=this.jk=this.ik=0}function E(a,b){this.src=a;this.aa=I;this.Rc=b;this.bj=!1;var c=this;this.mn=this.yn=null;this.Og=[];this.Vk=0;this.ro=this.Hj=this.Dr=this.Ek=!1;1===I&&b&&!mb&&(this.aa=0,this.yn=l());this.Td=this.la=null;var d;switch(this.aa){case 0:this.la=new Audio;this.la.crossOrigin="anonymous";this.la.addEventListener("canplaythrough",function(){c.ro=!0});1===I&&t.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&
(this.Dr=!0,this.la.addEventListener("canplay",function(){c.mn||(c.mn=t.createMediaElementSource(c.la),c.mn.connect(c.yn))}));this.la.autoplay=!1;this.la.yy="auto";this.la.src=a;break;case 1:G.Nh?G.kp(a,function(a){c.Td=a;c.cp()},function(){c.Hj=!0}):(d=new XMLHttpRequest,d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){c.Td=d.response;c.cp()},d.onerror=function(){c.Hj=!0},d.send());break;case 2:this.la=!0;break;case 3:this.la=!0}}function z(a,b){var c=this;this.tag=b;this.ec=this.Gd=
!0;this.src=a.src;this.buffer=a;this.aa=I;this.Rc=a.Rc;this.playbackRate=1;this.sg=!0;this.mc=this.Ic=!1;this.cc=0;this.Oh=this.xg=this.Jd=!1;this.volume=1;this.wn=function(a){if(!c.mc&&!c.Ic){var b=this;b||(b=a.target);b===c.aj&&(c.sg=!0,c.ec=!0,L=c.tag,G.trigger(oc.prototype.i.$i,V))}};this.aj=null;this.ug=1===aa&&!this.Rc||2===aa;this.Jg=1;this.startTime=this.ug?G.$a.ba:G.re.ba;this.Ma=this.Wa=null;this.Kd=!1;this.La=null;this.Lq=this.Kq=this.Jq=this.Iq=this.Nq=this.Mq=0;this.e=null;var d=!1;1!==
this.aa||0!==this.buffer.aa||this.buffer.Dr||(this.aa=0);switch(this.aa){case 0:this.Rc?(this.e=a.la,d=!a.bj,a.bj=!0):(this.e=new Audio,this.e.crossOrigin="anonymous",this.e.autoplay=!1,this.e.src=a.la.src,d=!0);d&&this.e.addEventListener("ended",function(){L=c.tag;c.ec=!0;G.trigger(oc.prototype.i.$i,V)});break;case 1:this.Wa=l();this.Wa.connect(p(b));1===this.buffer.aa?a.la&&(this.e=t.createBufferSource(),this.e.buffer=a.la,this.e.connect(this.Wa)):(this.e=this.buffer.la,this.buffer.yn.connect(this.Wa),
this.buffer.bj||(this.buffer.bj=!0,this.buffer.la.addEventListener("ended",function(){L=c.tag;c.ec=!0;G.trigger(oc.prototype.i.$i,V)})));break;case 2:this.e=new window.Media(N+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.sg=!0,c.ec=!0,L=c.tag,G.trigger(oc.prototype.i.$i,V))});break;case 3:this.e=!0}}function C(a){T(Ca);if(a.length){var b,c,d;b=0;for(c=w.length;b<c;b++)d=w[b],lb(a,d.tag)&&Ca.push(d)}else B&&!B.zf()&&(T(Ca),Ca[0]=B)}function Q(a,b){W.hasOwnProperty(a)?W[a].push(b):
W[a]=[b];var c,d,e,g,f=t.destination;if(W.hasOwnProperty(a)&&(e=W[a],e.length))for(f=e[0].yc(),c=0,d=e.length;c<d;c++)g=e[c],c+1===d?g.Nc(t.destination):g.Nc(e[c+1].yc());C(a);c=0;for(d=Ca.length;c<d;c++)Ca[c].zw(f);Y&&Ma===a&&(Y.disconnect(),Y.connect(f))}function H(){}function x(){}var K=oc.prototype;K.Ca=function(a){this.wa=a;this.b=a.b};K.Ca.prototype.ea=function(){};var G=null,V=null,L="",N="",I=0,t=null,u=[],w=[],B=null,R=!1,aa=0,M=!1,J=1,O=0,ga=0,S=!1,ra=1,ha=1,La=10,va=1E4,uc=1,Y=null,Ma=
"",Aa=!1,Wa=[],mb=!1,W={},Ac="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");a.prototype.Nc=function(a){this.R.disconnect();this.R.connect(a);this.N.disconnect();this.N.connect(a)};a.prototype.remove=function(){this.da.disconnect();this.Qa.disconnect();this.R.disconnect();this.N.disconnect()};a.prototype.yc=function(){return this.da};m.prototype.Nc=function(a){this.R.disconnect();this.R.connect(a);this.N.disconnect();this.N.connect(a)};m.prototype.remove=function(){this.da.disconnect();
this.li.disconnect();this.Qc.disconnect();this.yj.disconnect();this.R.disconnect();this.N.disconnect()};m.prototype.yc=function(){return this.da};g.prototype.Nc=function(a){this.R.disconnect();this.R.connect(a);this.N.disconnect();this.N.connect(a)};g.prototype.remove=function(){this.da.disconnect();this.pf.disconnect();this.R.disconnect();this.N.disconnect()};g.prototype.yc=function(){return this.da};d.prototype.Nc=function(a){this.N.disconnect();this.N.connect(a);this.R.disconnect();this.R.connect(a)};
d.prototype.remove=function(){this.da.disconnect();this.Qc.disconnect();this.nb.disconnect();this.pc.disconnect();this.N.disconnect();this.R.disconnect();this.Jj.disconnect()};d.prototype.yc=function(){return this.da};e.prototype.Nc=function(a){this.N.disconnect();this.N.connect(a);this.R.disconnect();this.R.connect(a)};e.prototype.remove=function(){this.da.disconnect();this.Qa.disconnect();this.nb.disconnect();this.pc.disconnect();this.N.disconnect();this.R.disconnect()};e.prototype.yc=function(){return this.da};
h.prototype.Nc=function(a){this.fa.disconnect();this.fa.connect(a)};h.prototype.remove=function(){this.fa.disconnect()};h.prototype.yc=function(){return this.fa};n.prototype.Nc=function(a){this.fa.disconnect();this.fa.connect(a)};n.prototype.remove=function(){this.nb.disconnect();this.pc.disconnect();this.fa.disconnect()};n.prototype.yc=function(){return this.fa};y.prototype.Nc=function(a){this.R.disconnect();this.R.connect(a);this.N.disconnect();this.N.connect(a)};y.prototype.remove=function(){this.nb.disconnect();
this.yi.disconnect();this.da.disconnect();this.R.disconnect();this.N.disconnect()};y.prototype.yc=function(){return this.da};F.prototype.Pw=function(a,b){.01>a&&(a=.01);this.Jk.gain.value=a;this.Ik.gain.value=Math.pow(1/a,.6)*b};F.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};F.prototype.Su=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,g=0;32768>g;++g)e=g/32768,e=this.shape(e,c,d),this.wj[32768+g]=e,this.wj[32768-
g-1]=-e};F.prototype.Nc=function(a){this.R.disconnect();this.R.connect(a);this.N.disconnect();this.N.connect(a)};F.prototype.remove=function(){this.da.disconnect();this.Jk.disconnect();this.pl.disconnect();this.Ik.disconnect();this.R.disconnect();this.N.disconnect()};F.prototype.yc=function(){return this.da};D.prototype.Nc=function(a){this.fa.disconnect();this.fa.connect(a)};D.prototype.remove=function(){this.fa.disconnect()};D.prototype.yc=function(){return this.fa};q.prototype.Pa=function(){this.fa.getFloatFrequencyData(this.Qu);
this.fa.getByteTimeDomainData(this.sr);for(var a=this.fa.fftSize,b=0,c=this.qi=0,d=0;b<a;b++)d=(this.sr[b]-128)/128,0>d&&(d=-d),this.qi<d&&(this.qi=d),c+=d*d;this.qi=f(this.qi);f(Math.sqrt(c/a))};q.prototype.Nc=function(a){this.fa.disconnect();this.fa.connect(a)};q.prototype.remove=function(){this.fa.disconnect()};q.prototype.yc=function(){return this.fa};v.prototype.Ai=function(a){if(this.P=a)this.ik=this.P.x,this.jk=this.P.y;T(this.ef)};v.prototype.$j=function(){return!!this.P};v.prototype.Pa=function(a){this.P&&
0!==a&&(this.nn=Na(this.ik,this.jk,this.P.x,this.P.y),a=Sa(this.ik,this.jk,this.P.x,this.P.y)/a,4>this.ef.length||this.ef.shift(),this.ef.push(a),this.ik=this.P.x,this.jk=this.P.y)};v.prototype.Xj=function(){if(!this.ef.length)return 0;var a,b,c=0;a=0;for(b=this.ef.length;a<b;a++)c+=this.ef[a];return c/this.ef.length};v.prototype.vm=function(){return Math.cos(this.nn)*this.Xj()};v.prototype.wm=function(){return Math.sin(this.nn)*this.Xj()};var vc=!1;E.prototype.Aw=function(){var a,b,c,d;c=a=0;for(b=
w.length;a<b;++a)d=w[a],w[c]=d,d.buffer===this?d.stop():++c;w.length=c;this.Td=this.la=null};E.prototype.cp=function(){if(!this.la&&this.Td){var a=this;if(t.decodeAudioData)t.decodeAudioData(this.Td,function(b){a.la=b;a.Td=null;var c,d,e;if(ia(a.Fk)||M)ia(a.rj)||(c=a.rj.pf,c.normalize=a.Bq,c.buffer=b);else if(a.Og.length){c=0;for(d=a.Og.length;c<d;c++){b=a.Og[c];e=new z(a,b.Gr);e.Tn(!0);if("undefined"!==typeof b.Dq&&(b.P=G.pg(b.Dq),!b.P))continue;if(b.P){var g=Ra(b.P.x,b.P.y,-b.P.k.Ka(),O,ga,!0),
f=Ra(b.P.x,b.P.y,-b.P.k.Ka(),O,ga,!1);e.Sn(g,f,Ga(b.P.m-b.P.k.Ka()),b.Dm,b.pn,b.sn);e.Ai(b.P)}else e.Sn(b.x,b.y,b.ht,b.Dm,b.pn,b.sn);e.play(a.kn,a.qo,a.Vk);a.Ek&&e.pause();w.push(e)}T(a.Og)}else e=new z(a,a.Fk||""),e.play(a.kn,a.qo,a.Vk),a.Ek&&e.pause(),w.push(e)},function(){a.Hj=!0});else if(this.la=t.createBuffer(this.Td,!1),this.Td=null,ia(this.Fk)||M)ia(this.rj)||(b=this.rj.pf,b.normalize=this.Bq,b.buffer=this.la);else{var b=new z(this,this.Fk);b.play(this.kn,this.qo,this.Vk);this.Ek&&b.pause();
w.push(b)}}};E.prototype.Jp=function(){switch(this.aa){case 0:var a=4<=this.la.readyState;a&&(this.ro=!0);return a||this.ro;case 1:return!!this.Td||!!this.la;case 2:return!0;case 3:return!0}return!1};E.prototype.Nv=function(){switch(this.aa){case 0:return this.Jp();case 1:return!!this.la;case 2:return!0;case 3:return!0}return!1};E.prototype.Cv=function(){switch(this.aa){case 0:return!!this.la.error;case 1:return this.Hj}return!1};z.prototype.zf=function(){switch(this.aa){case 0:return this.e.ended;
case 1:return 1===this.buffer.aa?!this.Gd&&!this.ec&&this.e.loop||this.mc?!1:this.sg:this.e.ended;case 2:return this.sg;case 3:!0}return!0};z.prototype.yt=function(){return this.Gd||this.ec?!0:this.zf()};z.prototype.Tn=function(a){1===I&&(!this.Kd&&a?this.Wa&&(this.Ma||(this.Ma=t.createPanner(),this.Ma.panningModel="number"===typeof this.Ma.panningModel?ra:["equalpower","HRTF","soundfield"][ra],this.Ma.distanceModel="number"===typeof this.Ma.distanceModel?ha:["linear","inverse","exponential"][ha],
this.Ma.refDistance=La,this.Ma.maxDistance=va,this.Ma.rolloffFactor=uc),this.Wa.disconnect(),this.Wa.connect(this.Ma),this.Ma.connect(p(this.tag)),this.Kd=!0):this.Kd&&!a&&this.Wa&&(this.Ma.disconnect(),this.Wa.disconnect(),this.Wa.connect(p(this.tag)),this.Kd=!1))};z.prototype.Sn=function(a,b,c,d,e,g){this.Kd&&1===I&&(this.Ma.setPosition(a,b,0),this.Ma.setOrientation(Math.cos(U(c)),Math.sin(U(c)),0),this.Ma.coneInnerAngle=d,this.Ma.coneOuterAngle=e,this.Ma.coneOuterGain=g,this.Mq=a,this.Nq=b,this.Iq=
c,this.Jq=d,this.Kq=e,this.Lq=g)};z.prototype.Ai=function(a){this.Kd&&1===I&&(this.La||(this.La=new v),this.La.Ai(a))};z.prototype.Pa=function(a){if(this.Kd&&1===I&&this.La&&this.La.$j()&&this.Lh()){this.La.Pa(a);a=this.La.P;var b=Ra(a.x,a.y,-a.k.Ka(),O,ga,!0),c=Ra(a.x,a.y,-a.k.Ka(),O,ga,!1);this.Ma.setPosition(b,c,0);b=0;"undefined"!==typeof this.La.P.m&&(b=a.m-a.k.Ka(),this.Ma.setOrientation(Math.cos(b),Math.sin(b),0));b=Ra(this.La.vm(),this.La.wm(),-a.k.Ka(),0,0,!0);c=Ra(this.La.vm(),this.La.wm(),
-a.k.Ka(),0,0,!1);this.Ma.setVelocity(b,c,0)}};z.prototype.play=function(a,b,d,e){var g=this.e;this.Jd=a;this.volume=b;d=d||0;e=e||0;switch(this.aa){case 0:1!==g.playbackRate&&(g.playbackRate=1);g.volume!==b*J&&(g.volume=b*J);g.loop!==a&&(g.loop=a);g.muted&&(g.muted=!1);if(g.currentTime!==d)try{g.currentTime=d}catch(f){}if(this.Rc&&Aa&&!G.lc)Wa.push(this);else try{this.e.play()}catch(h){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",h)}break;
case 1:this.muted=!1;this.Jg=1;if(1===this.buffer.aa)this.Wa.gain.value=b*J,this.Gd||(this.e=t.createBufferSource(),this.e.buffer=this.buffer.la,this.e.connect(this.Wa)),this.e.onended=this.wn,this.aj=this.e,this.e.loop=a,this.sg=!1,0===d?c(this.e,e):k(this.e,d,this.xf(),e);else{1!==g.playbackRate&&(g.playbackRate=1);g.loop!==a&&(g.loop=a);g.volume=b*J;if(g.currentTime!==d)try{g.currentTime=d}catch(m){}this.Rc&&Aa&&!G.lc?Wa.push(this):g.play()}break;case 2:(!this.Gd&&this.ec||0!==d)&&g.seekTo(d);
g.play();this.sg=!1;break;case 3:G.Zb?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.ug?G.$a.ba:G.re.ba)-d;this.mc=this.ec=this.Gd=!1};z.prototype.stop=function(){switch(this.aa){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.aa?b(this.e):this.e.paused||this.e.pause();break;case 2:this.e.stop();break;case 3:G.Zb&&AppMobi.context.stopSound(this.src)}this.ec=!0;this.mc=!1};z.prototype.pause=function(){if(!(this.Gd||
this.ec||this.zf()||this.mc)){switch(this.aa){case 0:this.e.paused||this.e.pause();break;case 1:1===this.buffer.aa?(this.cc=this.qm(!0),this.Jd&&(this.cc=this.cc%this.xf()),this.mc=!0,b(this.e)):this.e.paused||this.e.pause();break;case 2:this.e.pause();break;case 3:G.Zb&&AppMobi.context.stopSound(this.src)}this.mc=!0}};z.prototype.Fw=function(){if(!(this.Gd||this.ec||this.zf())&&this.mc){switch(this.aa){case 0:this.e.play();break;case 1:1===this.buffer.aa?(this.e=t.createBufferSource(),this.e.buffer=
this.buffer.la,this.e.connect(this.Wa),this.e.onended=this.wn,this.aj=this.e,this.e.loop=this.Jd,this.Wa.gain.value=J*this.volume*this.Jg,this.nl(),this.startTime=(this.ug?G.$a.ba:G.re.ba)-this.cc/(this.playbackRate||.001),k(this.e,this.cc,this.xf())):this.e.play();break;case 2:this.e.play();break;case 3:G.Zb&&AppMobi.context.resumeSound(this.src)}this.mc=!1}};z.prototype.seek=function(a){if(!(this.Gd||this.ec||this.zf()))switch(this.aa){case 0:try{this.e.currentTime=a}catch(b){}break;case 1:if(1===
this.buffer.aa)this.mc?this.cc=a:(this.pause(),this.cc=a,this.Fw());else try{this.e.currentTime=a}catch(c){}break;case 3:G.Zb&&AppMobi.context.seekSound(this.src,a)}};z.prototype.zw=function(a){1===this.aa&&(this.Kd?(this.Ma.disconnect(),this.Ma.connect(a)):(this.Wa.disconnect(),this.Wa.connect(a)))};z.prototype.xf=function(){var a=0;switch(this.aa){case 0:"undefined"!==typeof this.e.duration&&(a=this.e.duration);break;case 1:a=this.buffer.la.duration;break;case 2:a=this.e.getDuration();break;case 3:G.Zb&&
(a=AppMobi.context.getDurationSound(this.src))}return a};z.prototype.qm=function(a){var b=this.xf(),c=0;switch(this.aa){case 0:"undefined"!==typeof this.e.currentTime&&(c=this.e.currentTime);break;case 1:if(1===this.buffer.aa){if(this.mc)return this.cc;c=(this.ug?G.$a.ba:G.re.ba)-this.startTime}else"undefined"!==typeof this.e.currentTime&&(c=this.e.currentTime);break;case 3:G.Zb&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.Jd&&c>b&&(c=b);return c};z.prototype.Lh=
function(){return!this.mc&&!this.Gd&&!this.ec&&!this.zf()};z.prototype.Xw=function(){return!this.Gd&&!this.ec&&!this.zf()};z.prototype.ix=function(){var a=this.volume*J;isFinite(a)||(a=0);switch(this.aa){case 0:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case 1:1===this.buffer.aa?this.Wa.gain.value=a*this.Jg:"undefined"!==typeof this.e.volume&&this.e.volume!==a&&(this.e.volume=a)}};z.prototype.Bj=function(a){switch(this.aa){case 0:this.e.muted!==!!a&&(this.e.muted=
!!a);break;case 1:1===this.buffer.aa?(this.Jg=a?0:1,this.Wa.gain.value=J*this.volume*this.Jg):this.e.muted!==!!a&&(this.e.muted=!!a)}};z.prototype.Qw=function(){this.xg=!0;this.Bj(this.xg||this.Oh)};z.prototype.mr=function(a){this.Oh=!!a;this.Bj(this.xg||this.Oh)};z.prototype.nl=function(){var a=this.playbackRate;this.ug&&(a*=G.Yf);switch(this.aa){case 0:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case 1:1===this.buffer.aa?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==
a&&(this.e.playbackRate=a)}};z.prototype.Sw=function(a){switch(this.aa){case 0:a?this.Lh()?(this.Ic=!0,this.e.pause()):this.Ic=!1:this.Ic&&(this.e.play(),this.Ic=!1);break;case 1:a?this.Lh()?(this.Ic=!0,1===this.buffer.aa?(this.cc=this.qm(!0),this.Jd&&(this.cc=this.cc%this.xf()),b(this.e)):this.e.pause()):this.Ic=!1:this.Ic&&(1===this.buffer.aa?(this.e=t.createBufferSource(),this.e.buffer=this.buffer.la,this.e.connect(this.Wa),this.e.onended=this.wn,this.aj=this.e,this.e.loop=this.Jd,this.Wa.gain.value=
J*this.volume*this.Jg,this.nl(),this.startTime=(this.ug?G.$a.ba:G.re.ba)-this.cc/(this.playbackRate||.001),k(this.e,this.cc,this.xf())):this.e.play(),this.Ic=!1);break;case 2:a?this.Lh()?(this.e.pause(),this.Ic=!0):this.Ic=!1:this.Ic&&(this.Ic=!1,this.e.play())}};K.ua=function(a){this.type=a;G=this.b=a.b;V=this;this.Lb=null;this.$h=-600;this.b.Nh&&(mb=!0);!(this.b.Qh||this.b.dk&&(this.b.Fh||this.b.ek))||this.b.Gh||this.b.kb||this.b.Mm||mb||(Aa=!0);t=null;"undefined"!==typeof AudioContext?(I=1,t=new AudioContext):
"undefined"!==typeof webkitAudioContext&&(I=1,t=new webkitAudioContext);this.b.Qh&&t&&(t.close&&t.close(),"undefined"!==typeof AudioContext?t=new AudioContext:"undefined"!==typeof webkitAudioContext&&(t=new webkitAudioContext));Aa&&document.addEventListener("touchend",function(){if(!vc&&t){if(!S&&t.createBuffer){var a=t.createBuffer(1,220,22050),b=t.createBufferSource();b.buffer=a;b.connect(t.destination);c(b)}vc=!0}var d;if(Aa){if(!M)for(a=0,b=Wa.length;a<b;++a)d=Wa[a],d.ec||d.mc||d.e.play();T(Wa)}},
!0);1!==I&&(this.b.Id&&"undefined"!==typeof window.Media?I=2:this.b.Ip&&(I=3));2===I&&(N=location.href,a=N.lastIndexOf("/"),-1<a&&(N=N.substr(0,a+1)),N=N.replace("file://",""));if(this.b.Ov&&this.b.Pv&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.ue(this);else{if(this.b.Zb)R=this.b.dk;else try{R=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(b){R=!1}this.b.il(this)}};
var pa=K.ua.prototype;pa.ea=function(){this.b.dg=this;aa=this.H[0];this.ke=this.H[1];this.ow=0!==this.H[2];this.zq=0;ra=this.H[3];ha=this.H[4];this.$h=-this.H[5];La=this.H[6];va=this.H[7];uc=this.H[8];this.Lb=new v;var a=this.b.K||this.b.width,b=this.b.J||this.b.height;1===I&&("undefined"!==typeof t.listener.dopplerFactor&&(t.listener.dopplerFactor=0),t.listener.setPosition(a/2,b/2,this.$h),t.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Y&&Y.disconnect();Ma=b.toLowerCase();
Y=t.createMediaStreamSource(a);Y.connect(p(Ma))});this.b.jt(function(a){V.kw(a)});var c=this;this.b.yl(function(a){c.tn(a)})};pa.tn=function(a){var b,c,d;b=0;for(c=w.length;b<c;b++)d=w[b],d.La&&d.La.P===a&&(d.La.P=null,d.Kd&&d.Lh()&&d.Jd&&d.stop());this.Lb.P===a&&(this.Lb.P=null)};pa.Cb=function(){var a={silent:M,masterVolume:J,listenerZ:this.$h,listenerUid:this.Lb.$j()?this.Lb.P.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,g,f,h;c=0;for(d=w.length;c<d;c++)e=w[c],!e.Xw()||3===this.ke||e.Rc&&1===
this.ke||!e.Rc&&2===this.ke||(g=e.qm(),e.Jd&&(g=g%e.xf()),g={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Rc,playbackTime:g,volume:e.volume,looping:e.Jd,muted:e.xg,playbackRate:e.playbackRate,paused:e.mc,resume_position:e.cc},e.Kd&&(g.pan={},h=g.pan,e.La&&e.La.$j()?h.objUid=e.La.P.uid:(h.x=e.Mq,h.y=e.Nq,h.a=e.Iq),h.ia=e.Jq,h.oa=e.Kq,h.og=e.Lq),b.push(g));b=a.effects;for(f in W)if(W.hasOwnProperty(f)){e=[];c=0;for(d=W[f].length;c<d;c++)e.push({type:W[f][c].type,params:W[f][c].pd});b[f]=e}return a};
var Xa=[];pa.$b=function(b){var c=b.silent;J=b.masterVolume;this.$h=b.listenerZ;this.Lb.Ai(null);var f=b.listenerUid;-1!==f&&(this.Lb.ok=f,Xa.push(this.Lb));var f=b.playing,k,l,r,t,p,C,u,H,B,x,G;if(3!==this.ke)for(k=0,l=w.length;k<l;k++)B=w[k],B.Rc&&1===this.ke||(B.Rc||2!==this.ke)&&B.stop();for(p in W)if(W.hasOwnProperty(p))for(k=0,l=W[p].length;k<l;k++)W[p][k].remove();Va(W);for(p in b.effects)if(b.effects.hasOwnProperty(p))for(C=b.effects[p],k=0,l=C.length;k<l;k++)switch(r=C[k].type,x=C[k].params,
r){case "filter":Q(p,new a(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "delay":Q(p,new m(x[0],x[1],x[2]));break;case "convolve":r=x[2];B=this.Rj(r,!1);B.la?r=new g(B.la,x[0],x[1],r):(r=new g(null,x[0],x[1],r),B.Bq=x[0],B.rj=r);Q(p,r);break;case "flanger":Q(p,new d(x[0],x[1],x[2],x[3],x[4]));break;case "phaser":Q(p,new e(x[0],x[1],x[2],x[3],x[4],x[5]));break;case "gain":Q(p,new h(x[0]));break;case "tremolo":Q(p,new n(x[0],x[1]));break;case "ringmod":Q(p,new y(x[0],x[1]));break;case "distortion":Q(p,
new F(x[0],x[1],x[2],x[3],x[4]));break;case "compressor":Q(p,new D(x[0],x[1],x[2],x[3],x[4]));break;case "analyser":Q(p,new q(x[0],x[1]))}k=0;for(l=f.length;k<l;k++)3===this.ke||(b=f[k],r=b.buffersrc,t=b.is_music,p=b.tag,C=b.playbackTime,u=b.looping,H=b.volume,G=(x=b.pan)&&x.hasOwnProperty("objUid")?x.objUid:-1,t&&1===this.ke)||!t&&2===this.ke||((B=this.qp(r,p,t,u,H))?(B.cc=b.resume_position,B.Tn(!!x),B.play(u,H,C),B.nl(),B.ix(),B.Bj(B.xg||B.Oh),b.paused&&B.pause(),b.muted&&B.Qw(),B.Bj(B.xg||B.Oh),
x&&(-1!==G?(B.La=B.La||new v,B.La.ok=G,Xa.push(B.La)):B.Sn(x.x,x.y,x.a,x.ia,x.oa,x.og))):(B=this.Rj(r,t),B.Vk=C,B.Ek=b.paused,x&&(-1!==G?B.Og.push({Dq:G,Dm:x.ia,pn:x.oa,sn:x.og,Gr:p}):B.Og.push({x:x.x,y:x.y,ht:x.a,Dm:x.ia,pn:x.oa,sn:x.og,Gr:p}))));if(c&&!M){k=0;for(l=w.length;k<l;k++)w[k].mr(!0);M=!0}else if(!c&&M){k=0;for(l=w.length;k<l;k++)w[k].mr(!1);M=!1}};pa.Bd=function(){var a,b,c,d;a=0;for(b=Xa.length;a<b;a++)c=Xa[a],d=this.b.pg(c.ok),c.Ai(d),c.ok=-1,d&&(O=d.x,ga=d.y);T(Xa)};pa.kw=function(a){if(!this.ow){!a&&
t&&t.resume&&(t.resume(),S=!1);var b,c;b=0;for(c=w.length;b<c;b++)w[b].Sw(a);a&&t&&t.suspend&&(t.suspend(),S=!0)}};pa.Pa=function(){var a=this.b.rf,b,c,d;b=0;for(c=w.length;b<c;b++)d=w[b],d.Pa(a),0!==aa&&d.nl();var e,g;for(e in W)if(W.hasOwnProperty(e))for(d=W[e],b=0,c=d.length;b<c;b++)g=d[b],g.Pa&&g.Pa();1===I&&this.Lb.$j()&&(this.Lb.Pa(a),O=this.Lb.P.x,ga=this.Lb.P.y,t.listener.setPosition(this.Lb.P.x,this.Lb.P.y,this.$h),t.listener.setVelocity(this.Lb.vm(),this.Lb.wm(),0))};var Ya=[];pa.Rw=function(a){var b,
c,d,e,g,f=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(g=4<e.length&&".ogg"===e.substr(e.length-4))&&R||!g&&!R)Ya.push({filename:e,size:d,P:null}),f+=d;return f};pa.Zw=function(){var a,b,c,d;a=0;for(b=Ya.length;a<b;++a)c=Ya[a],d=this.b.em+c.filename,c.P=this.Rj(d,!1)};pa.gv=function(){var a=0,b,c,d;b=0;for(c=Ya.length;b<c;++b)d=Ya[b],d.P.Nv()||d.P.Cv()||this.b.kb||this.b.ek?a+=d.size:d.P.Jp()&&(a+=Math.floor(d.size/2));return a};pa.Bw=function(){var a,b,c,d;c=a=0;for(b=u.length;a<b;++a)d=
u[a],u[c]=d,d.Rc?d.Aw():++c;u.length=c};pa.Rj=function(a,b){var c,d,e,g=null;c=0;for(d=u.length;c<d;c++)if(e=u[c],e.src===a){g=e;break}g||(mb&&b&&this.Bw(),g=new E(a,b),u.push(g));return g};pa.qp=function(a,b,c,d,e){var g,f,h;g=0;for(f=w.length;g<f;g++)if(h=w[g],h.src===a&&(h.yt()||c))return h.tag=b,h;a=this.Rj(a,c);if(!a.la)return"<preload>"!==b&&(a.Fk=b,a.kn=d,a.qo=e),null;h=new z(a,b);w.push(h);return h};var Ca=[];H.prototype.$i=function(a){return lb(L,a)};K.i=new H;x.prototype.Play=function(a,
b,c,d){!M&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),B=this.qp(this.b.em+a[0]+(R?".ogg":".m4a"),d,a[1],0!==b,c))&&(B.Tn(!1),B.play(0!==b,c,0,this.zq),this.zq=0)};x.prototype.xl=function(a){C(a);var b;a=0;for(b=Ca.length;a<b;a++)Ca[a].stop()};x.prototype.ct=function(){var a,b;a=0;for(b=w.length;a<b;a++)w[a].stop()};K.T=new x;K.Ea=new function(){}})();function pc(f){this.b=f}
(function(){function f(){}var p=pc.prototype;p.Ca=function(c){this.wa=c;this.b=c.b};p.Ca.prototype.ea=function(){};p.ua=function(c){this.type=c;this.b=c.b;this.Cg=Array(256);this.Pi=Array(256);this.qe=0};var l=p.ua.prototype;l.ea=function(){var c=this;this.b.kb||(jQuery(document).keydown(function(f){c.un(f)}),jQuery(document).keyup(function(f){c.vn(f)}))};var r=[32,33,34,35,36,37,38,39,40,44];l.un=function(c){var f=!1;window!=window.top&&-1<r.indexOf(c.which)&&(c.preventDefault(),f=!0,c.stopPropagation());
if(this.Cg[c.which])this.Pi[c.which]&&!f&&c.preventDefault();else{this.Cg[c.which]=!0;this.qe=c.which;this.b.lc=!0;this.b.trigger(pc.prototype.i.wo,this);var b=this.b.trigger(pc.prototype.i.Ao,this),a=this.b.trigger(pc.prototype.i.Is,this);this.b.lc=!1;if(b||a)this.Pi[c.which]=!0,f||c.preventDefault()}};l.vn=function(c){this.Cg[c.which]=!1;this.qe=c.which;this.b.lc=!0;this.b.trigger(pc.prototype.i.tl,this);var f=this.b.trigger(pc.prototype.i.Co,this),b=this.b.trigger(pc.prototype.i.Bo,this);this.b.lc=
!1;if(f||b||this.Pi[c.which])this.Pi[c.which]=!0,c.preventDefault()};l.Of=function(){var c;for(c=0;256>c;++c)if(this.Cg[c]){this.Cg[c]=!1;this.qe=c;this.b.trigger(pc.prototype.i.tl,this);var f=this.b.trigger(pc.prototype.i.Co,this),b=this.b.trigger(pc.prototype.i.Bo,this);if(f||b)this.Pi[c]=!0}};l.Cb=function(){return{triggerKey:this.qe}};l.$b=function(c){this.qe=c.triggerKey};f.prototype.ts=function(c){return this.Cg[c]};f.prototype.Ao=function(c){return c===this.qe};f.prototype.wo=function(){return!0};
f.prototype.tl=function(){return!0};f.prototype.Co=function(c){return c===this.qe};f.prototype.Is=function(c){return c===this.qe};f.prototype.Bo=function(c){return c===this.qe};p.i=new f;p.T=new function(){};p.Ea=new function(){}})();function qc(f){this.b=f}
(function(){function f(){}function p(){}var l=qc.prototype;l.Ca=function(c){this.wa=c;this.b=c.b};l.Ca.prototype.ea=function(){};l.ua=function(c){this.type=c;this.b=c.b;this.Gl=Array(4);this.Kr=this.kl=this.Yg=this.Xe=this.We=0;this.Am=!1};var r=l.ua.prototype;r.ea=function(){var c=this;if(!this.b.kb){jQuery(document).mousemove(function(a){c.hw(a)});jQuery(document).mousedown(function(a){c.gw(a)});jQuery(document).mouseup(function(a){c.iw(a)});jQuery(document).dblclick(function(a){c.fw(a)});var b=
function(a){c.lw(a)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var c={left:0,top:0};r.hw=function(f){var b=this.b.kb?c:jQuery(this.b.canvas).offset();this.We=f.pageX-b.left;this.Xe=f.pageY-b.top};r.wq=function(){return 0<this.b.Xb?!0:0<=this.We&&0<=this.Xe&&this.We<this.b.width&&this.Xe<this.b.height};r.gw=function(c){this.wq()&&(this.Gl[c.which]=!0,this.b.lc=!0,this.b.trigger(qc.prototype.i.vo,this),this.Yg=c.which-1,this.kl=0,this.b.trigger(qc.prototype.i.zo,
this),this.b.trigger(qc.prototype.i.Fo,this),this.b.lc=!1)};r.iw=function(c){this.Gl[c.which]&&(this.b.xp&&!this.b.tg&&c.preventDefault(),this.b.xp=!0,this.Gl[c.which]=!1,this.b.lc=!0,this.Yg=c.which-1,this.b.trigger(qc.prototype.i.Ns,this),this.b.lc=!1)};r.fw=function(c){this.wq()&&(c.preventDefault(),this.b.lc=!0,this.Yg=c.which-1,this.kl=1,this.b.trigger(qc.prototype.i.zo,this),this.b.trigger(qc.prototype.i.Fo,this),this.b.lc=!1)};r.lw=function(c){this.Kr=0>(c.wheelDelta?c.wheelDelta:c.detail?
-c.detail:0)?0:1;this.Am=!1;this.b.lc=!0;this.b.trigger(qc.prototype.i.Ps,this);this.b.lc=!1;this.Am&&nb(c)&&c.preventDefault()};f.prototype.zo=function(c,b){return c===this.Yg&&b===this.kl};f.prototype.vo=function(){return!0};f.prototype.Ns=function(c){return c===this.Yg};f.prototype.Fo=function(c,b,a){return c!==this.Yg||b!==this.kl?!1:this.b.ax(a,this.We,this.Xe)};f.prototype.Ps=function(c){this.Am=!0;return c===this.Kr};l.i=new f;l.T=new function(){};p.prototype.Go=function(c,b){var a,f,g,d,e;
ia(b)?(a=this.b.ng(0),f=a.scale,g=a.zd,d=a.Uc,e=a.m,a.scale=1,a.zd=1,a.Uc=1,a.m=0,c.I(a.Eb(this.We,this.Xe,!0)),a.scale=f,a.zd=g,a.Uc=d,a.m=e):(a=ja(b)?this.b.ng(b):this.b.Uj(b))?c.I(a.Eb(this.We,this.Xe,!0)):c.I(0)};p.prototype.Ho=function(c,b){var a,f,g,d,e;ia(b)?(a=this.b.ng(0),f=a.scale,g=a.zd,d=a.Vc,e=a.m,a.scale=1,a.zd=1,a.Vc=1,a.m=0,c.I(a.Eb(this.We,this.Xe,!1)),a.scale=f,a.zd=g,a.Vc=d,a.m=e):(a=ja(b)?this.b.ng(b):this.b.Uj(b))?c.I(a.Eb(this.We,this.Xe,!1)):c.I(0)};l.Ea=new p})();
function rc(f){this.b=f}
(function(){function f(f,c,k,b,a,m,g,d,e,h){f.save();f.fillStyle=c;c=a%k;var l=m%b;0>c&&(c+=k);0>l&&(l+=b);f.translate(c+e,l+h);f.fillRect(a-c-e,m-l-h,g,d);f.restore()}var p=rc.prototype;p.Ca=function(f){this.wa=f;this.b=f.b};var l=p.Ca.prototype;l.ea=function(){this.B||(this.F=new Image,this.F.mh=this.Mi,this.b.Ui(this.F,this.Li),this.Vi=this.Yi=this.Xi=this.Wi=this.fh=this.n=this.Po=this.Jr=this.br=this.$p=this.fm=null)};l.Mg=function(){this.B||(this.Vi=this.Yi=this.Xi=this.Wi=this.fh=this.n=null)};
l.Ng=function(){this.B||!this.c.length||this.n||(this.n=this.b.j.Dc(this.F,!0,this.b.O,this.hf))};l.Oi=function(){this.B||this.c.length||!this.b.j||(this.b.j.deleteTexture(this.n),this.b.j.deleteTexture(this.fh),this.b.j.deleteTexture(this.Wi),this.b.j.deleteTexture(this.Xi),this.b.j.deleteTexture(this.Yi),this.b.j.deleteTexture(this.Vi),this.Vi=this.Yi=this.Xi=this.Wi=this.fh=this.n=null)};l.Pd=function(f,c,k,b){var a=document.createElement("canvas");k=k-f;b=b-c;a.width=k;a.height=b;a.getContext("2d").drawImage(this.F,
f,c,k,b,0,0,k,b);return a};l.Gt=function(f,c,k,b){var a=this.F.width,m=this.F.height,g=a-c,d=m-b;if(this.b.j){if(!this.fh){var e=this.b.j,h=this.b.O,l=this.hf;g>f&&d>k&&(this.fh=e.Dc(this.Pd(f,k,g,d),!0,h,l));0<f&&d>k&&(this.Wi=e.Dc(this.Pd(0,k,f,d),!0,h,l,"repeat-y"));0<c&&d>k&&(this.Xi=e.Dc(this.Pd(g,k,a,d),!0,h,l,"repeat-y"));0<k&&g>f&&(this.Yi=e.Dc(this.Pd(f,0,g,k),!0,h,l,"repeat-x"));0<b&&g>f&&(this.Vi=e.Dc(this.Pd(f,d,g,m),!0,h,l,"repeat-x"))}}else this.fm||(e=this.b.ma,g>f&&d>k&&(this.fm=e.createPattern(this.Pd(f,
k,g,d),"repeat")),0<f&&d>k&&(this.$p=e.createPattern(this.Pd(0,k,f,d),"repeat")),0<c&&d>k&&(this.br=e.createPattern(this.Pd(g,k,a,d),"repeat")),0<k&&g>f&&(this.Jr=e.createPattern(this.Pd(f,0,g,k),"repeat")),0<b&&g>f&&(this.Po=e.createPattern(this.Pd(f,d,g,m),"repeat")))};p.ua=function(f){this.type=f;this.b=f.b};l=p.ua.prototype;l.ea=function(){this.Ym=this.H[0];this.Ln=this.H[1];this.co=this.H[2];this.Fl=this.H[3];this.Dj=this.H[4];this.fill=this.H[5];this.visible=0===this.H[6];this.er=0!==this.H[8];
this.Hc?this.je.set(0,0,0,0):this.je=new ta(0,0,0,0);this.b.j&&!this.type.n&&(this.type.n=this.b.j.Dc(this.type.F,!1,this.b.O,this.type.hf));this.type.Gt(this.Ym,this.Ln,this.co,this.Fl)};l.vc=function(l){var c=this.type.F,k=this.Ym,b=this.Ln,a=this.co,m=this.Fl,g=c.width,d=c.height,e=g-b,h=d-m;l.globalAlpha=this.opacity;l.save();var n=this.x,p=this.y,F=this.width,D=this.height;this.b.Gc&&(n=Math.round(n),p=Math.round(p));var q=-(this.Hb*this.width),v=-(this.Ib*this.height),E=q%g,z=v%d;0>E&&(E+=g);
0>z&&(z+=d);l.translate(n+E,p+z);g=q-E;v-=z;z=this.er?1:0;0<k&&0<a&&l.drawImage(c,0,0,k+z,a+z,g,v,k+z,a+z);0<b&&0<a&&l.drawImage(c,e-z,0,b+z,a+z,g+F-b-z,v,b+z,a+z);0<b&&0<m&&l.drawImage(c,e-z,h-z,b+z,m+z,g+F-b-z,v+D-m-z,b+z,m+z);0<k&&0<m&&l.drawImage(c,0,h-z,k+z,m+z,g,v+D-m-z,k+z,m+z);0===this.Dj?(z=2===this.fill?0:z,0<k&&h>a&&f(l,this.type.$p,k,h-a,g,v+a,k+z,D-a-m,0,0),0<b&&h>a&&f(l,this.type.br,b,h-a,g+F-b-z,v+a,b+z,D-a-m,z,0),0<a&&e>k&&f(l,this.type.Jr,e-k,a,g+k,v,F-k-b,a+z,0,0),0<m&&e>k&&f(l,
this.type.Po,e-k,m,g+k,v+D-m-z,F-k-b,m+z,0,z)):1===this.Dj&&(0<k&&h>a&&0<D-a-m&&l.drawImage(c,0,a,k,h-a,g,v+a,k,D-a-m),0<b&&h>a&&0<D-a-m&&l.drawImage(c,e,a,b,h-a,g+F-b,v+a,b,D-a-m),0<a&&e>k&&0<F-k-b&&l.drawImage(c,k,0,e-k,a,g+k,v,F-k-b,a),0<m&&e>k&&0<F-k-b&&l.drawImage(c,k,h,e-k,m,g+k,v+D-m,F-k-b,m));h>a&&e>k&&(0===this.fill?f(l,this.type.fm,e-k,h-a,g+k,v+a,F-k-b,D-a-m,0,0):1===this.fill&&0<F-k-b&&0<D-a-m&&l.drawImage(c,k,a,e-k,h-a,g+k,v+a,F-k-b,D-a-m));l.restore()};l.Yd=function(f,c,k,b,a,m,g,d,
e,h){f.Oa(c);var l=this.je;l.left=k/c.kd;l.top=b/c.jd;l.right=(k+a)/c.kd;l.bottom=(b+m)/c.jd;f.sd(g,d,g+e,d,g+e,d+h,g,d+h,l)};l.Ni=function(f,c,k,b,a,m,g,d){f.Oa(c);var e=this.je;e.left=-g/c.kd;e.top=-d/c.jd;e.right=(a-g)/c.kd;e.bottom=(m-d)/c.jd;f.sd(k,b,k+a,b,k+a,b+m,k,b+m,e)};l.Ie=function(f){this.jb(f)};l.jb=function(f){var c=this.Ym,k=this.Ln,b=this.co,a=this.Fl,m=this.type.F.width-k,g=this.type.F.height-a;f.le(this.opacity);var d=this.zb,e=d.ub,d=d.wb,h=this.width,l=this.height;this.b.Gc&&(e=
Math.round(e),d=Math.round(d));var p=this.er?1:0;0<c&&0<b&&this.Yd(f,this.type.n,0,0,c+p,b+p,e,d,c+p,b+p);0<k&&0<b&&this.Yd(f,this.type.n,m-p,0,k+p,b+p,e+h-k-p,d,k+p,b+p);0<k&&0<a&&this.Yd(f,this.type.n,m-p,g-p,k+p,a+p,e+h-k-p,d+l-a-p,k+p,a+p);0<c&&0<a&&this.Yd(f,this.type.n,0,g-p,c+p,a+p,e,d+l-a-p,c+p,a+p);0===this.Dj?(p=2===this.fill?0:p,0<c&&g>b&&this.Ni(f,this.type.Wi,e,d+b,c+p,l-b-a,0,0),0<k&&g>b&&this.Ni(f,this.type.Xi,e+h-k-p,d+b,k+p,l-b-a,p,0),0<b&&m>c&&this.Ni(f,this.type.Yi,e+c,d,h-c-k,
b+p,0,0),0<a&&m>c&&this.Ni(f,this.type.Vi,e+c,d+l-a-p,h-c-k,a+p,0,p)):1===this.Dj&&(0<c&&g>b&&this.Yd(f,this.type.n,0,b,c,g-b,e,d+b,c,l-b-a),0<k&&g>b&&this.Yd(f,this.type.n,m,b,k,g-b,e+h-k,d+b,k,l-b-a),0<b&&m>c&&this.Yd(f,this.type.n,c,0,m-c,b,e+c,d,h-c-k,b),0<a&&m>c&&this.Yd(f,this.type.n,c,g,m-c,a,e+c,d+l-a,h-c-k,a));g>b&&m>c&&(0===this.fill?this.Ni(f,this.type.fh,e+c,d+b,h-c-k,l-b-a,0,0):1===this.fill&&this.Yd(f,this.type.n,c,b,m-c,g-b,e+c,d+b,h-c-k,l-b-a))};p.i=new function(){};p.T=new function(){};
p.Ea=new function(){}})();function sc(f){this.b=f}
(function(){function f(c){this.Ba=c;this.fb=!1;this.m=this.speed=this.y=this.x=0;this.opacity=1;this.ye=this.rg=this.size=this.Yj=0}var p=sc.prototype;p.Ca=function(c){this.wa=c;this.b=c.b};var l=p.Ca.prototype;l.ea=function(){this.B||(this.F=new Image,this.F.mh=this.Mi,this.n=null,this.b.Ui(this.F,this.Li))};l.Mg=function(){this.B||(this.n=null)};l.Ng=function(){this.B||!this.c.length||this.n||(this.n=this.b.j.Dc(this.F,!0,this.b.O,this.hf))};l.ci=function(){this.B||this.n||!this.b.j||(this.n=this.b.j.Dc(this.F,
!0,this.b.O,this.hf))};l.Oi=function(){this.B||this.c.length||!this.n||(this.b.j.deleteTexture(this.n),this.n=null)};l.Kk=function(c){c.drawImage(this.F,0,0)};f.prototype.init=function(){var c=this.Ba;this.x=c.x-c.ql/2+Math.random()*c.ql;this.y=c.y-c.rl/2+Math.random()*c.rl;this.speed=c.Jm-c.cl/2+Math.random()*c.cl;this.m=c.m-c.dl/2+Math.random()*c.dl;this.opacity=c.Hm;this.size=c.Im-c.bl/2+Math.random()*c.bl;this.Yj=c.zm-c.Zj/2+Math.random()*c.Zj;this.ye=this.rg=0};f.prototype.Pa=function(c){var f=
this.Ba;this.x+=Math.cos(this.m)*this.speed*c;this.y+=Math.sin(this.m)*this.speed*c;this.y+=this.rg*c;this.speed+=f.Ad*c;this.size+=this.Yj*c;this.rg+=f.xc*c;this.ye+=c;1>this.size?this.fb=!1:(0!==f.Xh&&(this.m+=Math.random()*f.Xh*c-f.Xh*c/2),0!==f.Zh&&(this.speed+=Math.random()*f.Zh*c-f.Zh*c/2),0!==f.Yh&&(this.opacity+=Math.random()*f.Yh*c-f.Yh*c/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=f.hg&&this.ye>=f.timeout&&(this.fb=!1),2===f.hg&&0>=this.speed&&(this.fb=!1))};f.prototype.vc=
function(c){var f=this.Ba.opacity*this.opacity;if(0!==f){0===this.Ba.hg&&(f*=1-this.ye/this.Ba.timeout);c.globalAlpha=f;var f=this.x-this.size/2,b=this.y-this.size/2;this.Ba.b.Gc&&(f=f+.5|0,b=b+.5|0);c.drawImage(this.Ba.type.F,f,b,this.size,this.size)}};f.prototype.jb=function(c){var f=this.Ba.opacity*this.opacity;0===this.Ba.hg&&(f*=1-this.ye/this.Ba.timeout);var b=this.size,a=b*this.Ba.Qq,l=this.x-b/2,g=this.y-b/2;this.Ba.b.Gc&&(l=l+.5|0,g=g+.5|0);1>a||0===f||(a<c.aw||a>c.ln?(c.le(f),c.Ze(l,g,l+
b,g,l+b,g+b,l,g+b)):c.pw(this.x,this.y,a,f))};f.prototype.left=function(){return this.x-this.size/2};f.prototype.right=function(){return this.x+this.size/2};f.prototype.top=function(){return this.y-this.size/2};f.prototype.bottom=function(){return this.y+this.size/2};p.ua=function(c){this.type=c;this.b=c.b};var l=p.ua.prototype,r=[];l.ea=function(){var c=this.H;this.Pk=c[0];this.dl=U(c[1]);this.Tg=c[2];this.Zn=!0;this.Jm=c[3];this.Im=c[4];this.Hm=c[5]/100;this.zm=c[6];this.ql=c[7];this.rl=c[8];this.cl=
c[9];this.bl=c[10];this.Zj=c[11];this.Ad=c[12];this.xc=c[13];this.Xh=c[14];this.Zh=c[15];this.Yh=c[16];this.hg=c[17];this.timeout=c[18];this.Pf=0;this.Qq=1;this.Bk=this.x;this.Dk=this.y;this.Ck=this.x;this.Ak=this.y;this.kt(function(c){c.pa.set(c.Bk,c.Dk,c.Ck,c.Ak);c.zb.cf(c.pa);c.jj=!1;c.oo();c.Vr()});this.Hc||(this.Mb=[]);this.b.il(this);this.type.ci();if(1===this.Tg)for(c=0;c<this.Pk;c++)this.zl().opacity=0;this.Nj=!0};l.Cb=function(){var c={r:this.Pk,sc:this.dl,st:this.Tg,s:this.Zn,isp:this.Jm,
isz:this.Im,io:this.Hm,gr:this.zm,xr:this.ql,yr:this.rl,spr:this.cl,szr:this.bl,grnd:this.Zj,acc:this.Ad,g:this.xc,lar:this.Xh,lsr:this.Zh,lor:this.Yh,dm:this.hg,to:this.timeout,pcc:this.Pf,ft:this.Nj,p:[]},f,b,a,l=c.p;f=0;for(b=this.Mb.length;f<b;f++)a=this.Mb[f],l.push([a.x,a.y,a.speed,a.m,a.opacity,a.Yj,a.size,a.rg,a.ye]);return c};l.$b=function(c){this.Pk=c.r;this.dl=c.sc;this.Tg=c.st;this.Zn=c.s;this.Jm=c.isp;this.Im=c.isz;this.Hm=c.io;this.zm=c.gr;this.ql=c.xr;this.rl=c.yr;this.cl=c.spr;this.bl=
c.szr;this.Zj=c.grnd;this.Ad=c.acc;this.xc=c.g;this.Xh=c.lar;this.Zh=c.lsr;this.Yh=c.lor;this.hg=c.dm;this.timeout=c.to;this.Pf=c.pcc;this.Nj=c.ft;r.push.apply(r,this.Mb);T(this.Mb);var f,b,a,l=c.p;c=0;for(f=l.length;c<f;c++)b=this.zl(),a=l[c],b.x=a[0],b.y=a[1],b.speed=a[2],b.m=a[3],b.opacity=a[4],b.Yj=a[5],b.size=a[6],b.rg=a[7],b.ye=a[8]};l.Nf=function(){r.push.apply(r,this.Mb);T(this.Mb)};l.zl=function(){var c;r.length?(c=r.pop(),c.Ba=this):c=new f(this);this.Mb.push(c);c.fb=!0;return c};l.Pa=function(){var c=
this.b.vh(this),f,b,a,l;if(0===this.Tg&&this.Zn)for(this.Pf+=c*this.Pk,b=P(this.Pf),this.Pf-=b,f=0;f<b;f++)a=this.zl(),a.init();this.Bk=this.x;this.Dk=this.y;this.Ck=this.x;this.Ak=this.y;l=f=0;for(b=this.Mb.length;f<b;f++)a=this.Mb[f],this.Mb[l]=a,this.b.na=!0,1===this.Tg&&this.Nj&&a.init(),a.Pa(c),a.fb?(a.left()<this.Bk&&(this.Bk=a.left()),a.right()>this.Ck&&(this.Ck=a.right()),a.top()<this.Dk&&(this.Dk=a.top()),a.bottom()>this.Ak&&(this.Ak=a.bottom()),l++):r.push(a);ya(this.Mb,l);this.C();this.Nj=
!1;1===this.Tg&&0===this.Mb.length&&this.b.ue(this)};l.vc=function(c){var f,b,a,l=this.k;f=0;for(b=this.Mb.length;f<b;f++)a=this.Mb[f],a.right()>=l.ra&&a.bottom()>=l.ta&&a.left()<=l.Aa&&a.top()<=l.za&&a.vc(c)};l.jb=function(c){this.Qq=this.k.Ac();c.Oa(this.type.n);var f,b,a,l=this.k;f=0;for(b=this.Mb.length;f<b;f++)a=this.Mb[f],a.right()>=l.ra&&a.bottom()>=l.ta&&a.left()<=l.Aa&&a.top()<=l.za&&a.jb(c)};p.i=new function(){};p.T=new function(){};p.Ea=new function(){}})();function Z(f){this.b=f}
(function(){function f(){if(0===this.Ul.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Ug?b.drawImage(this.F,this.Kg,this.Lg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.F,0,0,this.width,this.height);this.Ul=a.toDataURL("image/png")}return this.Ul}function p(){}function l(a){a[0]=0;a[1]=0;a[2]=0;n.push(a)}function r(a,b){return a<b?""+a+","+b:""+b+","+a}function c(a,b,c,d){b=b.uid;c=c.uid;var e=r(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var g=n.length?n.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=d;a[e]=g}}function k(a,b,c){b=r(b.uid,c.uid);a.hasOwnProperty(b)&&(l(a[b]),delete a[b])}function b(a,b,c){b=r(b.uid,c.uid);if(a.hasOwnProperty(b))return y=a[b][2],!0;y=-2;return!1}function a(a,b,c){if(!a)return!1;var d=0!==b||0!==c,e,g,f=!1,h,k=this.b.Tj(),l=k.type,k=k.ck,m=a.Z();h=this.b.Xa().Gb.Tc;m.ja?(this.qa(),z.eg(this.pa),z.offset(b,c),this.b.mm(this.k,a,z,E),m=E):m=h?this.b.Kv()&&!m.Y.length&&m.c.length?m.c:m.Y:m.c;D=a;v=l!==a&&!k;d&&
(e=this.x,g=this.y,this.x+=b,this.y+=c,this.C());b=0;for(c=m.length;b<c;b++)if(h=m[b],this.b.Jc(this,h)){f=!0;if(k)break;l!==a&&q.add(h)}d&&(this.x=e,this.y=g,this.C());T(E);return f}function m(){}var g=Z.prototype;g.Ca=function(a){this.wa=a;this.b=a.b};var d=g.Ca.prototype;d.ea=function(){if(!this.B){var a,b,c,d,e,g,h,k,l;this.cd=[];this.Bh=!1;a=0;for(b=this.Sb.length;a<b;a++){e=this.Sb[a];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.Jn=e[3];h.Kn=e[4];h.Rq=e[5];h.ca=e[6];h.frames=[];c=0;for(d=e[7].length;c<
d;c++)g=e[7][c],k={},k.Li=g[0],k.Mi=g[1],k.Kg=g[2],k.Lg=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.Hb=g[7],k.Ib=g[8],k.Em=g[9],k.Gk=g[10],k.Sq=g[11],k.Ug=0!==k.width,k.Ul="",k.vy=f,l={left:0,top:0,right:1,bottom:1},k.Xn=l,k.n=null,(l=this.b.Ou(g[0]))?k.F=l:(k.F=new Image,k.F.Ct=g[0],k.F.mh=g[1],k.F.tt=null,this.b.Ui(k.F,g[0])),h.frames.push(k),this.cd.push(k);this.Sb[a]=h}}};d.Tr=function(){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.tj=c.Oc.n};d.Mg=function(){if(!this.B){var a,
b,c;a=0;for(b=this.cd.length;a<b;++a)c=this.cd[a],c.F.tt=null,c.n=null;this.Bh=!1;this.Tr()}};d.Ng=function(){if(!this.B&&this.c.length){var a,b,c;a=0;for(b=this.cd.length;a<b;++a)c=this.cd[a],c.n=this.b.j.Dc(c.F,!1,this.b.O,c.Sq);this.Tr()}};d.ci=function(){if(!this.B&&!this.Bh&&this.b.j){var a,b,c;a=0;for(b=this.cd.length;a<b;++a)c=this.cd[a],c.n=this.b.j.Dc(c.F,!1,this.b.O,c.Sq);this.Bh=!0}};d.Oi=function(){if(!this.B&&!this.c.length&&this.Bh){var a,b,c;a=0;for(b=this.cd.length;a<b;++a)c=this.cd[a],
this.b.j.deleteTexture(c.n),c.n=null;this.Bh=!1}};var e=[];d.Kk=function(a){var b,c,d;T(e);b=0;for(c=this.cd.length;b<c;++b)d=this.cd[b].F,-1===e.indexOf(d)&&(a.drawImage(d,0,0),e.push(d))};g.ua=function(a){this.type=a;this.b=a.b;a=this.type.Sb[0].frames[0].Gk;this.Hc?this.U.Ci(a):this.U=new fb(a)};var h=g.ua.prototype;h.ea=function(){this.visible=0===this.H[0];this.Fm=this.Rm=!1;this.Vd=0!==this.H[3];1===this.type.Sb.length&&1===this.type.Sb[0].frames.length||0===this.type.Sb[0].speed||(this.b.il(this),
this.Rm=!0);this.Da=this.pp(this.H[1])||this.type.Sb[0];this.G=this.H[2];0>this.G&&(this.G=0);this.G>=this.Da.frames.length&&(this.G=this.Da.frames.length-1);var a=this.Da.frames[this.G];this.U.Ci(a.Gk);this.Hb=a.Hb;this.Ib=a.Ib;this.qh=this.Da.speed;this.He=this.Da.Kn;this.Hc?this.Cd.reset():this.Cd=new db;this.ae=this.Cd.ba;this.Ae=!0;this.Sd=0;this.lf=!0;this.oj=this.Ko="";this.Xo=0;this.Nl=-1;this.type.ci();var b,c,d,e,g,f,h,a=0;for(b=this.type.Sb.length;a<b;a++)for(e=this.type.Sb[a],c=0,d=e.frames.length;c<
d;c++)g=e.frames[c],0===g.width&&(g.width=g.F.width,g.height=g.F.height),g.Ug&&(h=g.F,f=g.Xn,f.left=g.Kg/h.width,f.top=g.Lg/h.height,f.right=(g.Kg+g.width)/h.width,f.bottom=(g.Lg+g.height)/h.height,0===g.Kg&&0===g.Lg&&g.width===h.width&&g.height===h.height&&(g.Ug=!1));this.Oc=this.Da.frames[this.G];this.tj=this.Oc.n};h.Cb=function(){var a={a:this.Da.ca,f:this.G,cas:this.qh,fs:this.ae,ar:this.Sd,at:this.Cd.ba,rt:this.He};this.Ae||(a.ap=this.Ae);this.lf||(a.af=this.lf);return a};h.$b=function(a){var b=
this.Tu(a.a);b&&(this.Da=b);this.G=a.f;0>this.G&&(this.G=0);this.G>=this.Da.frames.length&&(this.G=this.Da.frames.length-1);this.qh=a.cas;this.ae=a.fs;this.Sd=a.ar;this.Cd.reset();this.Cd.ba=a.at;this.Ae=a.hasOwnProperty("ap")?a.ap:!0;this.lf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.He=a.rt:this.He=this.Da.Kn;this.Oc=this.Da.frames[this.G];this.tj=this.Oc.n;this.U.Ci(this.Oc.Gk);this.Hb=this.Oc.Hb;this.Ib=this.Oc.Ib};h.Dl=function(a){this.G=a?0:this.Da.frames.length-1;this.Ae=!1;
this.Ko=this.Da.name;this.Fm=!0;this.b.trigger(Z.prototype.i.uo,this);this.b.trigger(Z.prototype.i.Bs,this);this.Fm=!1;this.Sd=0};h.No=function(){return this.Cd.ba};h.Pa=function(){this.Cd.add(this.b.vh(this));this.oj.length&&this.dp();0<=this.Nl&&this.Lt();var a=this.Cd.ba,b=this.Da,c=b.frames[this.G],d=c.duration/this.qh;this.Ae&&a>=this.ae+d&&(this.lf?this.G++:this.G--,this.ae+=d,this.G>=b.frames.length&&(b.Rq?(this.lf=!1,this.G=b.frames.length-2):b.loop?this.G=this.He:(this.Sd++,this.Sd>=b.Jn?
this.Dl(!1):this.G=this.He)),0>this.G&&(b.Rq?(this.G=1,this.lf=!0,b.loop||(this.Sd++,this.Sd>=b.Jn&&this.Dl(!0))):b.loop?this.G=this.He:(this.Sd++,this.Sd>=b.Jn?this.Dl(!0):this.G=this.He)),0>this.G?this.G=0:this.G>=b.frames.length&&(this.G=b.frames.length-1),a>this.ae+b.frames[this.G].duration/this.qh&&(this.ae=a),a=b.frames[this.G],this.bg(c,a),this.b.na=!0)};h.pp=function(a){var b,c,d;b=0;for(c=this.type.Sb.length;b<c;b++)if(d=this.type.Sb[b],lb(d.name,a))return d;return null};h.Tu=function(a){var b,
c,d;b=0;for(c=this.type.Sb.length;b<c;b++)if(d=this.type.Sb[b],d.ca===a)return d;return null};h.dp=function(){var a=this.Da.frames[this.G],b=this.pp(this.oj);this.oj="";!b||lb(b.name,this.Da.name)&&this.Ae||(this.Da=b,this.qh=b.speed,this.He=b.Kn,0>this.G&&(this.G=0),this.G>=this.Da.frames.length&&(this.G=this.Da.frames.length-1),1===this.Xo&&(this.G=0),this.Ae=!0,this.ae=this.Cd.ba,this.lf=!0,this.bg(a,this.Da.frames[this.G]),this.b.na=!0)};h.Lt=function(){var a=this.Da.frames[this.G],b=this.G;this.G=
P(this.Nl);0>this.G&&(this.G=0);this.G>=this.Da.frames.length&&(this.G=this.Da.frames.length-1);b!==this.G&&(this.bg(a,this.Da.frames[this.G]),this.ae=this.Cd.ba,this.b.na=!0);this.Nl=-1};h.bg=function(a,b){var c=a.width,d=a.height,e=b.width,g=b.height;c!=e&&(this.width*=e/c);d!=g&&(this.height*=g/d);this.Hb=b.Hb;this.Ib=b.Ib;this.U.Ci(b.Gk);this.C();this.Oc=b;this.tj=b.n;c=0;for(d=this.M.length;c<d;c++)e=this.M[c],e.jw&&e.jw(a,b);this.b.trigger(Z.prototype.i.bg,this)};h.vc=function(a){a.globalAlpha=
this.opacity;var b=this.Oc,c=b.Ug,d=b.F,e=this.x,g=this.y,f=this.width,h=this.height;if(0===this.m&&0<=f&&0<=h)e-=this.Hb*f,g-=this.Ib*h,this.b.Gc&&(e=Math.round(e),g=Math.round(g)),c?a.drawImage(d,b.Kg,b.Lg,b.width,b.height,e,g,f,h):a.drawImage(d,e,g,f,h);else{this.b.Gc&&(e=Math.round(e),g=Math.round(g));a.save();var k=0<f?1:-1,l=0<h?1:-1;a.translate(e,g);1===k&&1===l||a.scale(k,l);a.rotate(this.m*k*l);e=0-this.Hb*ma(f);g=0-this.Ib*ma(h);c?a.drawImage(d,b.Kg,b.Lg,b.width,b.height,e,g,ma(f),ma(h)):
a.drawImage(d,e,g,ma(f),ma(h));a.restore()}};h.Ie=function(a){this.jb(a)};h.jb=function(a){a.Oa(this.tj);a.le(this.opacity);var b=this.Oc,c=this.zb;if(this.b.Gc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Ug?a.sd(c.ub+d,c.wb+e,c.gc+d,c.hc+e,c.Vb+d,c.Wb+e,c.Tb+d,c.Ub+e,b.Xn):a.Ze(c.ub+d,c.wb+e,c.gc+d,c.hc+e,c.Vb+d,c.Wb+e,c.Tb+d,c.Ub+e)}else b.Ug?a.sd(c.ub,c.wb,c.gc,c.hc,c.Vb,c.Wb,c.Tb,c.Ub,b.Xn):a.Ze(c.ub,c.wb,c.gc,c.hc,c.Vb,c.Wb,c.Tb,c.Ub)};h.Yu=function(a){var b=this.Oc,c,d;c=
0;for(d=b.Em.length;c<d;c++)if(lb(a,b.Em[c][0]))return c;return-1};h.wh=function(a,b){var c=this.Oc,d=c.Em,e;A(a)?e=this.Yu(a):e=a-1;e=P(e);if(0>e||e>=d.length)return b?this.x:this.y;var g=(d[e][1]-c.Hb)*this.width,d=d[e][2],d=(d-c.Ib)*this.height,c=Math.cos(this.m);e=Math.sin(this.m);var f=g*c-d*e,d=d*c+g*e,g=f+this.x,d=d+this.y;return b?g:d};var n=[],y=-2,F=[];p.prototype.Es=function(a){if(!a)return!1;var d=this.b,e=d.Tj(),g=e.type,f=null;e.u.collmemory?f=e.u.collmemory:(f={},e.u.collmemory=f);
e.u.spriteCreatedDestroyCallback||(e.u.spriteCreatedDestroyCallback=!0,d.yl(function(a){var b=e.u.collmemory;a=a.uid;var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],d[0]===a||d[1]===a)&&(l(b[c]),delete b[c])}));var h=g.Z(),m=a.Z(),h=h.zc(),n,q,p,r,u,w,B,v=this.b.Xg,z=v-1,M=d.Xa().Gb;for(q=0;q<h.length;q++){p=h[q];m.ja?(p.qa(),this.b.mm(p.k,a,p.pa,F),n=F):n=m.zc();for(r=0;r<n.length;r++)u=n[r],d.Jc(p,u)||d.zt(p,u)?(w=b(f,p,u),w=!w||y<z,c(f,p,u,v),w&&(d.Mk(M.ya),w=g.Z(),B=a.Z(),w.ja=!1,B.ja=!1,g===
a?(w.c.length=2,w.c[0]=p,w.c[1]=u,g.ed()):(w.c.length=1,B.c.length=1,w.c[0]=p,B.c[0]=u,g.ed(),a.ed()),M.Hw(),d.Rf(M.ya))):k(f,p,u);T(F)}return!1};var D=null,q=new ca,v=!1,E=[],z=new ta(0,0,0,0);d.finish=function(a){if(v){if(a){var b=this.b.Xa().Gb.Tc;a=D.Z();var c=q.Rd(),d,e;if(a.ja){a.ja=!1;T(a.c);d=0;for(e=c.length;d<e;++d)a.c[d]=c[d];if(b)for(T(a.Y),d=0,e=D.c.length;d<e;++d)c=D.c[d],q.contains(c)||a.Y.push(c)}else if(b)for(b=a.c.length,d=0,e=c.length;d<e;++d)a.c[b+d]=c[d],Ea(a.Y,c[d]);else za(a.c,
c);D.ed()}q.clear();v=!1}};p.prototype.us=function(b){return a.call(this,b,0,0)};p.prototype.vs=function(b,c,d){return a.call(this,b,c,d)};p.prototype.Bs=function(a){return lb(this.Ko,a)};p.prototype.uo=function(){return!0};p.prototype.bg=function(){return!0};g.i=new p;m.prototype.bt=function(a,b,c){if(a&&b&&(b=this.b.Rl(a,b,this.wh(c,!0),this.wh(c,!1)))){"undefined"!==typeof b.m&&(b.m=this.m,b.C());this.b.Cc++;var d,e,g;this.b.trigger(Object.getPrototypeOf(a.wa).i.kf,b);if(b.Jb)for(d=0,e=b.siblings.length;d<
e;d++)g=b.siblings[d],this.b.trigger(Object.getPrototypeOf(g.type.wa).i.kf,g);this.b.Cc--;d=this.b.Vu();c=!1;if(ia(d.u.Spawn_LastExec)||d.u.Spawn_LastExec<this.b.vf)c=!0,d.u.Spawn_LastExec=this.b.vf;if(a!=this.type&&(a=a.Z(),a.ja=!1,c?(T(a.c),a.c[0]=b):a.c.push(b),b.Jb))for(d=0,e=b.siblings.length;d<e;d++)g=b.siblings[d],a=g.type.Z(),a.ja=!1,c?(T(a.c),a.c[0]=g):a.c.push(g)}};m.prototype.dt=function(){this.Ae=!1};m.prototype.Ts=function(a,b){this.oj=a;this.Xo=b;this.Rm||(this.b.il(this),this.Rm=!0);
this.Fm||this.dp()};m.prototype.Xs=function(a){a=ma(this.width)*(0===a?-1:1);this.width!==a&&(this.width=a,this.C())};g.T=new m;g.Ea=new function(){}})();function tc(f){this.b=f}
(function(){var f=tc.prototype;f.Ca=function(f){this.wa=f;this.b=f.b};var p=f.Ca.prototype;p.ea=function(){this.B||(this.F=new Image,this.F.mh=this.Mi,this.b.Ui(this.F,this.Li),this.n=this.pattern=null)};p.Mg=function(){this.B||(this.n=null)};p.Ng=function(){if(!this.B&&this.c.length){this.n||(this.n=this.b.j.Dc(this.F,!0,this.b.O,this.hf));var f,p;f=0;for(p=this.c.length;f<p;f++)this.c[f].n=this.n}};p.ci=function(){this.B||this.n||!this.b.j||(this.n=this.b.j.Dc(this.F,!0,this.b.O,this.hf))};p.Oi=
function(){this.B||this.c.length||!this.n||(this.b.j.deleteTexture(this.n),this.n=null)};p.Kk=function(f){f.drawImage(this.F,0,0)};f.ua=function(f){this.type=f;this.b=f.b};p=f.ua.prototype;p.ea=function(){this.visible=0===this.H[0];this.je=new ta(0,0,0,0);this.Ap=!1;this.F=this.type.F;this.b.j?(this.type.ci(),this.n=this.type.n):(this.type.pattern||(this.type.pattern=this.b.ma.createPattern(this.type.F,"repeat")),this.pattern=this.type.pattern)};p.Bd=function(){this.Ap=!1;this.F=this.type.F};p.Nf=
function(){this.b.j&&this.Ap&&this.n&&(this.b.j.deleteTexture(this.n),this.n=null)};p.vc=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var p=this.x,c=this.y;this.b.Gc&&(p=Math.round(p),c=Math.round(c));var k=-(this.Hb*this.width),b=-(this.Ib*this.height),a=k%this.F.width,m=b%this.F.height;0>a&&(a+=this.F.width);0>m&&(m+=this.F.height);f.translate(p,c);f.rotate(this.m);f.translate(a,m);f.fillRect(k-a,b-m,this.width,this.height);f.restore()};p.Ie=function(f){this.jb(f)};p.jb=
function(f){f.Oa(this.n);f.le(this.opacity);var p=this.je;p.right=this.width/this.F.width;p.bottom=this.height/this.F.height;var c=this.zb;if(this.b.Gc){var k=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;f.sd(c.ub+k,c.wb+b,c.gc+k,c.hc+b,c.Vb+k,c.Wb+b,c.Tb+k,c.Ub+b,p)}else f.sd(c.ub,c.wb,c.gc,c.hc,c.Vb,c.Wb,c.Tb,c.Ub,p)};f.i=new function(){};f.T=new function(){};f.Ea=new function(){}})();function wc(f){this.b=f}
(function(){function f(a){a%=e.length;0>a&&(a+=e.length);return a}function p(){var a,b,c,d;a=0;for(b=e.length;a<b;++a)c=e[a],(d=e[f(a-1)])&&!c&&(n=a),!d&&c&&(F=a)}var l=wc.prototype;l.Ca=function(a){this.wa=a;this.b=a.b};var r=l.Ca.prototype,c=!1,k=null,b=null;r.ea=function(){this.B||c||(c=!0,k=new Image,k.mh=15E3,this.b.Ui(k,"penumbra.png"))};r.Mg=function(){if(!this.B){this.qc=this.n=null;var a,b,c;a=0;for(b=this.c.length;a<b;++a)c=this.c[a],c.n=null,c.qc=null}};r.Ng=function(){if(!this.B){var a,
b;a=0;for(b=this.c.length;a<b;++a)this.c[a].$o()}};l.ua=function(a){this.type=a;this.b=a.b};r=l.ua.prototype;r.ea=function(){if(!b){var a=k.width,c=k.height,d=document.createElement("canvas");d.width=a;d.height=c;d=d.getContext("2d");d.clearRect(0,0,a,c);d.drawImage(k,0,0,a,c);b=d.getImageData(0,0,a,c).data}this.Re=this.x;this.Se=this.y;this.aq=this.H[0];this.Fc=1E3;this.Eg=this.H[1];this.Vo=this.H[2];this.tag=this.H[3];this.Zm=this.$m=this.an=0;this.Tp=this.x;this.Up=this.y;this.qc=this.n=null;this.b.j?
this.$o():this.Eg=0;this.b.bx(this)};r.Wo=function(a){return 1===this.Vo?lb(this.tag,a):2===this.Vo?!lb(this.tag,a):!0};r.hl=function(){if(this.Tp!==this.x||this.Up!==this.y)this.Re=this.x,this.Se=this.y;var a=this.k,b=(a.ra+a.Aa)/2,c=(a.ta+a.za)/2,d=a.Aa-a.ra,e=a.za-a.ta;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.C();this.Tp=this.x;this.Up=this.y;this.Fc=1.5*Sa(a.ra,a.ta,a.Aa,a.za)};r.Nf=function(){this.b.j&&(this.n&&(this.b.j.deleteTexture(this.n),
this.n=null),this.qc&&(this.b.j.deleteTexture(this.qc),this.qc=null))};r.Cb=function(){return{}};r.$b=function(){};var a=[],m=[];r.wp=function(){this.b.Un&&(this.b.um(this.k,this.b.Un.xy,this.pa,a),$a(a))};var g=[],d=0,e=[],h=[],n=-1,y=-1,F=-1,D=-1,q=0,v=0,E=[],z=0,C=0,Q=0,H=0,x=0,K=0,G=0,V=0,L=new fb([]);r.vc=function(b){this.wp();b.save();b.fillStyle="rgba("+this.an+","+this.$m+","+this.Zm+","+this.opacity+")";var c,d,g,f,h,k,l,n,p,q;c=0;for(d=a.length;c<d;++c)if(g=a[c],g.u.shadowcasterEnabled&&
this.Wo(g.u.shadowcasterTag))if(g.qa(),l=g.u.shadowcasterHeight,g.Xf){g.rp(this.pa,m);n=g.x;p=g.y;g=0;for(f=m.length;g<f;++g){h=m[g];q=h.Zq;h.Qf?(h=h.Qf,k=q.left,q=q.top):(L.cf(q,0,0),h=L,q=k=0);this.nj(h,n+k,p+q,l,!1);b.beginPath();b.moveTo(E[0],E[1]);h=2;for(k=E.length;h<k;h+=2)b.lineTo(E[h],E[h+1]);b.closePath();b.fill();T(e);T(E)}T(m)}else{g.U&&!g.U.Oe()?(g.U.Ce(g.width,g.height,g.m),h=g.U):(L.bf(g.zb,g.x,g.y,g.width,g.height),h=L);this.nj(h,g.x,g.y,l,Ta(0>g.width,0>g.height));b.beginPath();b.moveTo(E[0],
E[1]);g=2;for(f=E.length;g<f;g+=2)b.lineTo(E[g],E[g+1]);b.closePath();b.fill();T(e);T(E)}b.restore();T(a)};r.dv=function(a,b,c,e){d=a.Xc;T(g);var f,h=a.Sa;v=q=0;var k;for(k=0;k<d;++k)f=2*k,a=h[f]+b,f=h[f+1]+c,e?(g.unshift(f),g.unshift(a)):(g.push(a),g.push(f)),q+=a,v+=f;q/=d;v/=d};r.nj=function(a,b,c,f,k){this.dv(a,b,c,k);var l;T(e);T(h);T(E);D=y=F=n=-1;c=this.Re;k=this.Se;if(0<this.Eg)this.Il(-this.Eg),p(),za(h,e),y=n,D=F,T(e),F=n=-1,this.Il(this.Eg),p(),-1!==n&&-1!==F&&-1!==y&&-1!==D&&this.wt();
else for(this.Il(0),p(),a=0;a<d;++a)l=2*a,b=g[l],l=g[l+1],this.ut(a,c,k,b,l,f)};r.ut=function(a,b,c,d,g,h){var k;k=e[f(a-1)];var l=a===n,m=a===F;e[a]||k?(a=Na(b,c,d,g),k=Sa(b,c,d,g),h=this.xt(b,c,d,g,h),b+=Math.cos(a)*(k+h),c+=Math.sin(a)*(k+h)):(b=d,c=g);m&&(E.push(d),E.push(g));E.push(b);E.push(c);l&&(E.push(d),E.push(g))};r.Il=function(a){var b=this.Re,c=this.Se,f=b,h=c,k,l,m,n,p;for(k=0;k<d;++k)l=2*k,m=k+1,m=m===d?0:2*m,n=g[l],l=g[l+1],p=g[m],m=g[m+1],0!==a&&(h=Na(b,c,q,v)-Math.PI/2,f=b+Math.cos(h)*
a,h=c+Math.sin(h)*a),e.push(Oa(Na(n,l,f,h),Na(n,l,p,m)-Math.PI/2)>=Math.PI/2)};var N=0,I=0;r.wt=function(){for(var a=y,b,c,e;a=a%d,b=2*a,c=g[b],e=g[b+1],E.push(c),E.push(e),a!==F;++a);var f=this.Eg,h=Na(this.Re,this.Se,q,v),a=this.Re+Math.cos(h-Math.PI/2)*f,k=this.Se+Math.sin(h-Math.PI/2)*f,h=Na(a,k,c,e),l=Sa(a,k,c,e),a=a+Math.cos(h)*(l+this.Fc),k=k+Math.sin(h)*(l+this.Fc);b=2*y;var m=g[b];b=g[b+1];var h=Na(this.Re,this.Se,q,v),n=this.Re+Math.cos(h+Math.PI/2)*f,p=this.Se+Math.sin(h+Math.PI/2)*f,h=
Na(n,p,m,b),l=Sa(n,p,m,b),f=n+Math.cos(h)*(l+this.Fc),h=p+Math.sin(h)*(l+this.Fc);x=c;K=e;z=m;C=b;var r,D,L,l=a-c,n=k-e;r=f-m;D=h-b;L=-r*n+l*D;0===L?c=!1:(p=(-n*(c-m)+l*(e-b))/L,L=-r*n+l*D,0===L?c=!1:(m=(r*(e-b)-D*(c-m))/L,0<=p&&1>=p&&0<=m&&1>=m?(N=c+m*l,I=e+m*n,c=!0):c=!1));c?(E.push(N),E.push(I),G=N,V=I,Q=N,H=I):(E.push(a),E.push(k),E.push(f),E.push(h),G=a,V=k,Q=f,H=h)};r.xt=function(a,b,c,d,e){if(e>=this.aq)return this.Fc;if(0>=e)return 0;a=Sa(a,b,c,d);a=Math.atan(a/(this.aq-e));e=e*Math.tan(a);
e>=this.Fc&&(e=this.Fc);0>e&&(e=0);return e};r.jb=function(b){b.le(this.opacity);this.wp();var c,d,g,f,h,k,l,p,q,r;c=0;for(d=a.length;c<d;++c)if(g=a[c],g.u.shadowcasterEnabled&&this.Wo(g.u.shadowcasterTag))if(g.qa(),h=g.u.shadowcasterHeight,g.Xf){g.rp(this.pa,m);l=g.x;p=g.y;g=0;for(f=m.length;g<f;++g)k=m[g],q=k.Zq,k.Qf?(k=k.Qf,r=q.left,q=q.top):(L.cf(q,0,0),k=L,q=r=0),this.nj(k,l+r,p+q,h,!1),6>E.length||(b.Oa(this.n),b.Zo(E),-1<n&&-1<y&&(b.Oa(this.qc),this.Cj(b,!0)),-1<F&&-1<D&&(b.Oa(this.qc),this.Cj(b,
!1)),T(e),T(E));T(m)}else g.U&&!g.U.Oe()?(g.U.Ce(g.width,g.height,g.m),k=g.U):(L.bf(g.zb,g.x,g.y,g.width,g.height),k=L),this.nj(k,g.x,g.y,h,Ta(0>g.width,0>g.height)),6>E.length||(b.Oa(this.n),b.Zo(E),-1<n&&-1<y&&(b.Oa(this.qc),this.Cj(b,!0)),-1<F&&-1<D&&(b.Oa(this.qc),this.Cj(b,!1)),T(e),T(E));T(a)};r.Cj=function(a,b){var c=this.Re,d=this.Se,e,f,h,k,l,m;b?(h=z,k=C,l=Q,m=H):(h=x,k=K,l=G,m=V);var p=this.Eg,r=Na(c,d,q,v),E=Math.PI/2;b&&(E=-E);c+=Math.cos(r+E)*p;d+=Math.sin(r+E)*p;p=!1;if(b){if(p=n!==
y)e=g[2*n],f=g[2*n+1]}else if(p=F!==D)e=g[2*D],f=g[2*D+1];var r=p?Na(e,f,h,k):Na(c,d,h,k),E=h+Math.cos(r)*this.Fc,I=k+Math.sin(r)*this.Fc,L,N,Y,Ma=Y=0,Aa=1;p&&(Y=Na(c,d,e,f),L=e+Math.cos(Y)*this.Fc,N=f+Math.sin(Y)*this.Fc,c=Na(h,k,l,m),Y=Oa(r,Y)/Oa(c,Y),r=Sa(e,f,h,k),r=r/(r+this.Fc),c=Na(0,1,Y,0),d=Sa(0,1,Y,0),Ma+=Math.cos(c)*r*d,Aa+=Math.sin(c)*r*d);a.Yq(h,k,l,m,E,I,E,I,Ma,Aa,1,Y,Y);p&&a.Yq(e,f,E,I,L,N,L,N,0,1,Y,0,0)};r.$o=function(){this.b.j&&(this.n&&(this.b.j.deleteTexture(this.n),this.n=null),
this.qc&&(this.b.j.deleteTexture(this.qc),this.qc=null),this.Dt(),this.Ht())};r.Dt=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.an+","+this.$m+","+this.Zm+")";b.fillRect(0,0,16,16);this.n=this.b.j.kc(16,16,!1,!1,!0);this.b.j.Yr(a,this.n)};r.Ht=function(){var a=k.width,c=k.height,d=this.an,e=this.$m,g=this.Zm,f=b,h=document.createElement("canvas");h.width=a;h.height=c;var l=h.getContext("2d"),m=l.createImageData(a,c),n=m.data,
p,q;p=0;for(q=n.length;p<q;p+=4)n[p]=d,n[p+1]=e,n[p+2]=g,n[p+3]=f[p+3];l.putImageData(m,0,0);this.qc=this.b.j.kc(a,c,this.b.O,!1,!1);this.b.j.Yr(h,this.qc)};l.i=new function(){};l.T=new function(){};l.Ea=new function(){}})();function xc(f){this.b=f}
(function(){function f(){}function p(){}var l=xc.prototype;l.Ca=function(c){this.behavior=c;this.b=c.b};l.Ca.prototype.ea=function(){};l.ua=function(c,f){this.type=c;this.behavior=c.behavior;this.d=f;this.b=c.b;this.Fi=this.$k=this.Zk=this.ak=this.kh=this.rh=this.Ag=this.Bg=this.xi=this.Wh=!1;this.nc=null;this.bn=-1;this.Ff=this.Ef=0;this.Oj=!1;this.jg=this.dd=0;this.Mj=!0;this.L=this.D=0};var r=l.ua.prototype;r.Ur=function(){this.hb=Math.cos(this.mg);this.ib=Math.sin(this.mg);this.Sf=Math.cos(this.mg-
Math.PI/2);this.Tf=Math.sin(this.mg-Math.PI/2);this.hb=kb(this.hb);this.ib=kb(this.ib);this.Sf=kb(this.Sf);this.Tf=kb(this.Tf);this.km=this.xc;0>this.xc&&(this.hb*=-1,this.ib*=-1,this.xc=Math.abs(this.xc))};r.ea=function(){this.Hg=this.H[0];this.Ad=this.H[1];this.gg=this.H[2];this.Sh=this.H[3];this.km=this.xc=this.H[4];this.vk=this.H[5];this.Yl=0!==this.H[6];this.Um=this.H[7]/1E3;this.It=1===this.H[8];this.enabled=0!==this.H[9];this.dh=!1;this.eh=this.b.ff(this.d);this.cn=-1;this.Wf=0;this.mg=U(90);
this.Ur();var c=this;this.It&&!this.b.kb&&(jQuery(document).keydown(function(f){c.un(f)}),jQuery(document).keyup(function(f){c.vn(f)}));this.Hc||(this.yq=function(f){c.tn(f)});this.b.yl(this.yq);this.d.u.isPlatformBehavior=!0};r.Cb=function(){return{ii:this.ak,lfx:this.Ef,lfy:this.Ff,lfo:this.nc?this.nc.uid:-1,am:this.dd,en:this.enabled,fall:this.jg,ft:this.Mj,dx:this.D,dy:this.L,ms:this.Hg,acc:this.Ad,dec:this.gg,js:this.Sh,g:this.xc,g1:this.km,mf:this.vk,wof:this.dh,woj:this.eh?this.eh.uid:-1,ga:this.mg,
edj:this.Yl,cdj:this.kh,dj:this.rh,sus:this.Um}};r.$b=function(c){this.ak=c.ii;this.Ef=c.lfx;this.Ff=c.lfy;this.bn=c.lfo;this.dd=c.am;this.enabled=c.en;this.jg=c.fall;this.Mj=c.ft;this.D=c.dx;this.L=c.dy;this.Hg=c.ms;this.Ad=c.acc;this.gg=c.dec;this.Sh=c.js;this.xc=c.g;this.km=c.g1;this.vk=c.mf;this.dh=c.wof;this.cn=c.woj;this.mg=c.ga;this.Yl=c.edj;this.kh=c.cdj;this.rh=c.dj;this.Um=c.sus;this.Fi=this.$k=this.Zk=this.Ag=this.Bg=this.xi=this.Wh=!1;this.Wf=0;this.Ur()};r.Bd=function(){-1===this.bn?
this.nc=null:this.nc=this.b.pg(this.bn);-1===this.cn?this.eh=null:this.eh=this.b.pg(this.cn)};r.tn=function(c){this.nc==c&&(this.nc=null)};r.Nf=function(){this.nc=null;this.b.Cw(this.yq)};r.un=function(c){switch(c.which){case 38:c.preventDefault();this.Bg=!0;break;case 37:c.preventDefault();this.Wh=!0;break;case 39:c.preventDefault(),this.xi=!0}};r.vn=function(c){switch(c.which){case 38:c.preventDefault();this.Ag=this.Bg=!1;break;case 37:c.preventDefault();this.Wh=!1;break;case 39:c.preventDefault(),
this.xi=!1}};r.Of=function(){this.Bg=this.xi=this.Wh=!1};r.No=function(){return 0>this.xc?-1:1};r.Kp=function(){var c=null,f=null,b,a;b=this.d.x;a=this.d.y;this.d.x+=this.hb;this.d.y+=this.ib;this.d.C();if(this.nc&&this.b.Jc(this.d,this.nc))return this.d.x=b,this.d.y=a,this.d.C(),this.nc;(c=this.b.tc(this.d))||0!==this.jg||(f=this.b.ff(this.d,!0));this.d.x=b;this.d.y=a;this.d.C();if(c){if(this.b.Jc(this.d,c))return null;this.Oj=!1;return c}if(f&&f.length){a=c=0;for(b=f.length;c<b;c++)f[a]=f[c],this.b.Jc(this.d,
f[c])||a++;if(1<=a)return this.Oj=!0,f[0]}return null};r.Pa=function(){};r.Uq=function(){var c=this.b.vh(this.d),f,b,a,l,g,d,e,h,n;this.Bg||this.Fi||(this.Ag=!1);var p=this.Wh||this.Zk;a=this.xi||this.$k;var r=(l=this.Bg||this.Fi)&&!this.Ag;this.Fi=this.$k=this.Zk=!1;if(this.enabled){this.ak&&(r=l=a=p=!1);l||(this.Wf=0);h=this.nc;n=!1;this.Mj&&((this.b.tc(this.d)||this.b.ff(this.d))&&this.b.rd(this.d,-this.hb,-this.ib,4,!0),this.Mj=!1);!h||0!==this.L||h.y===this.Ff&&h.x===this.Ef||(f=h.x-this.Ef,
b=h.y-this.Ff,this.d.x+=f,this.d.y+=b,this.d.C(),this.Ef=h.x,this.Ff=h.y,n=!0,this.b.tc(this.d)&&this.b.rd(this.d,-f,-b,2.5*Math.sqrt(f*f+b*b)));var D=this.Kp();if(b=this.b.tc(this.d))if(this.d.u.inputPredicted)this.b.rd(this.d,-this.hb,-this.ib,10,!1);else if(this.b.yw(this.d,Math.max(this.d.width,this.d.height)/2))this.b.vi(this.d,b);else return;D?(this.kh=this.rh=!1,0<this.L&&(this.dh||(this.b.En(this.d,-this.hb,-this.ib,D),this.dh=!0),this.L=0),h!=D)?(this.nc=D,this.Ef=D.x,this.Ff=D.y,this.b.vi(this.d,
D)):n&&(b=this.b.tc(this.d))&&(this.b.vi(this.d,b),0!==f&&(0<f?this.b.rd(this.d,-this.Sf,-this.Tf):this.b.rd(this.d,this.Sf,this.Tf)),this.b.rd(this.d,-this.hb,-this.ib)):l||(this.kh=!0);if(D&&r||!D&&this.Yl&&l&&this.kh&&!this.rh)h=this.d.x,n=this.d.y,this.d.x-=this.hb,this.d.y-=this.ib,this.d.C(),this.b.tc(this.d)?r=!1:(this.Wf=this.Um,this.b.trigger(xc.prototype.i.Hs,this.d),this.dd=2,this.L=-this.Sh,r=!0,D?this.Ag=!0:this.rh=!0),this.d.x=h,this.d.y=n,this.d.C();D||(l&&0<this.Wf?(this.L=-this.Sh,
this.Wf-=c):(this.nc=null,this.L+=this.xc*c,this.L>this.vk&&(this.L=this.vk)),r&&(this.Ag=!0));this.dh=!!D;p==a&&(0>this.D?(this.D+=this.gg*c,0<this.D&&(this.D=0)):0<this.D&&(this.D-=this.gg*c,0>this.D&&(this.D=0)));p&&!a&&(this.D=0<this.D?this.D-(this.Ad+this.gg)*c:this.D-this.Ad*c);a&&!p&&(this.D=0>this.D?this.D+(this.Ad+this.gg)*c:this.D+this.Ad*c);this.D>this.Hg?this.D=this.Hg:this.D<-this.Hg&&(this.D=-this.Hg);p=!1;0!==this.D&&(h=this.d.x,n=this.d.y,f=this.D*c*this.Sf,b=this.D*c*this.Tf,this.d.x+=
this.Sf*(1<this.D?1:-1)-this.hb,this.d.y+=this.Tf*(1<this.D?1:-1)-this.ib,this.d.C(),l=!1,g=this.b.tc(this.d),this.d.x=h+f,this.d.y=n+b,this.d.C(),a=this.b.tc(this.d),!a&&D&&(a=this.b.ff(this.d))&&(this.d.x=h,this.d.y=n,this.d.C(),this.b.Jc(this.d,a)?(a=null,l=!1):l=!0,this.d.x=h+f,this.d.y=n+b,this.d.C()),a?(f=Math.abs(this.D*c)+2,g||!this.b.rd(this.d,-this.hb,-this.ib,f,l,a))?(this.b.vi(this.d,a),f=Math.max(Math.abs(this.D*c*2.5),30),this.b.rd(this.d,this.Sf*(0>this.D?1:-1),this.Tf*(0>this.D?1:
-1),f,!1)?!D||l||this.Oj||(h=this.d.x,n=this.d.y,this.d.x+=this.hb,this.d.y+=this.ib,this.b.tc(this.d)?this.b.rd(this.d,-this.hb,-this.ib,3,!1)||(this.d.x=h,this.d.y=n,this.d.C()):(this.d.x=h,this.d.y=n,this.d.C())):(this.d.x=h,this.d.y=n,this.d.C()),l||(this.D=0)):!g&&!r&&Math.abs(this.L)<Math.abs(this.Sh/4)&&(this.L=0,D||(p=!0)):(h=this.Kp(),D&&!h?(b=Math.ceil(Math.abs(this.D*c))+2,h=this.d.x,n=this.d.y,this.d.x+=this.hb*b,this.d.y+=this.ib*b,this.d.C(),this.b.tc(this.d)||this.b.ff(this.d)?this.b.rd(this.d,
-this.hb,-this.ib,b+2,!0):(this.d.x=h,this.d.y=n,this.d.C())):h&&0===this.L&&this.b.En(this.d,-this.hb,-this.ib,h)));if(0!==this.L){h=this.d.x;n=this.d.y;this.d.x+=this.L*c*this.hb;this.d.y+=this.L*c*this.ib;f=this.d.x;a=this.d.y;this.d.C();b=this.b.tc(this.d);l=!1;if(!b&&0<this.L&&!D){if((l=0<this.jg?null:this.b.ff(this.d,!0))&&l.length){if(this.eh){this.d.x=h;this.d.y=n;this.d.C();e=g=0;for(d=l.length;g<d;g++)l[e]=l[g],this.b.Jc(this.d,l[g])||e++;l.length=e;this.d.x=f;this.d.y=a;this.d.C()}1<=l.length&&
(b=l[0])}l=!!b}b&&(this.b.vi(this.d,b),this.Wf=0,f=l?Math.abs(this.L*c*2.5+10):Math.max(Math.abs(this.L*c*2.5+10),30),this.b.rd(this.d,this.hb*(0>this.L?1:-1),this.ib*(0>this.L?1:-1),f,l,b)?(this.nc=b,this.Ef=b.x,this.Ff=b.y,(this.Oj=l)&&(p=!0),this.L=0):(this.d.x=h,this.d.y=n,this.d.C(),this.dh=!0,l||(this.L=0)))}3!==this.dd&&0<this.L&&!D&&(this.b.trigger(xc.prototype.i.Gs,this.d),this.dd=3);if(D||p)3===this.dd||p||r&&0===this.L?(this.b.trigger(xc.prototype.i.Js,this.d),this.dd=0===this.D&&0===this.L?
0:1):(0!==this.dd&&0===this.D&&0===this.L&&(this.b.trigger(xc.prototype.i.Os,this.d),this.dd=0),1===this.dd||0===this.D&&0===this.L||r||(this.b.trigger(xc.prototype.i.Ms,this.d),this.dd=1));0<this.jg&&this.jg--;this.eh=this.b.ff(this.d)}};f.prototype.Hs=function(){return!0};f.prototype.Gs=function(){return!0};f.prototype.Os=function(){return!0};f.prototype.Ms=function(){return!0};f.prototype.Js=function(){return!0};l.i=new f;p.prototype.Us=function(c){this.ak=c};p.prototype.$s=function(c){switch(c){case 0:this.Zk=
!0;break;case 1:this.$k=!0;break;case 2:this.Fi=!0}};l.T=new p;l.Ea=new function(){}})();function yc(f){this.b=f}
(function(){function f(){}function p(){}function l(){}var r=yc.prototype;r.Ca=function(c){this.behavior=c;this.b=c.b};r.Ca.prototype.ea=function(){};r.ua=function(c,b){this.type=c;this.behavior=c.behavior;this.d=b;this.b=c.b;this.of=this.L=this.D=0};var c=r.ua.prototype;c.ea=function(){this.Wg=this.H[0];this.Fn=this.H[1];this.enabled=0!==this.H[2]};c.Cb=function(){return{dx:this.D,dy:this.L,cancelStep:this.of,enabled:this.enabled,stepMode:this.Wg,pxPerStep:this.Fn}};c.$b=function(c){this.D=c.dx;this.L=
c.dy;this.of=c.cancelStep;this.enabled=c.enabled;this.Wg=c.stepMode;this.Fn=c.pxPerStep};c.Xj=function(){return Math.sqrt(this.D*this.D+this.L*this.L)};c.Ka=function(){return Math.atan2(this.L,this.D)};c.step=function(c,b,a){if(0!==c||0!==b){var f=this.d.x,g=this.d.y,d,e=Math.round(Math.sqrt(c*c+b*b)/this.Fn);0===e&&(e=1);var h;for(h=1;h<=e;h++)if(d=h/e,this.d.x=f+c*d,this.d.y=g+b*d,this.d.C(),this.b.trigger(a,this.d),1===this.of){h--;d=h/e;this.d.x=f+c*d;this.d.y=g+b*d;this.d.C();break}else if(2===
this.of)break}};c.Pa=function(){var c=this.b.vh(this.d),b=this.D*c,c=this.L*c;0===this.D&&0===this.L||!this.enabled||(this.of=0,0===this.Wg?(this.d.x+=b,this.d.y+=c):1===this.Wg?this.step(b,c,yc.prototype.i.Cs):2===this.Wg?(this.step(b,0,yc.prototype.i.xo),this.of=0,this.step(0,c,yc.prototype.i.yo)):3===this.Wg&&(this.step(0,c,yc.prototype.i.yo),this.of=0,this.step(b,0,yc.prototype.i.xo)),this.d.C())};f.prototype.Cs=function(){return!0};f.prototype.xo=function(){return!0};f.prototype.yo=function(){return!0};
r.i=new f;p.prototype.xl=function(){this.L=this.D=0};p.prototype.Ys=function(c,b){var a;switch(c){case 0:a=this.Ka();this.D=Math.cos(a)*b;this.L=Math.sin(a)*b;break;case 1:this.D=b;break;case 2:this.L=b}};p.prototype.Ss=function(c){c=U(c);var b=this.Xj();this.D=Math.cos(c)*b;this.L=Math.sin(c)*b};r.T=new p;l.prototype.D=function(c){c.I(this.D)};l.prototype.L=function(c){c.I(this.L)};r.Ea=new l})();function zc(f){this.b=f;this.Wn=this.Yk=this.Ei=this.Vn=0}
(function(){var f=zc.prototype;f.Ca=function(f){this.behavior=f;this.b=f.b};f.Ca.prototype.ea=function(){};f.ua=function(f,p){this.type=f;this.behavior=f.behavior;this.d=p;this.b=f.b};var p=f.ua.prototype;p.ea=function(){this.enabled=0!==this.H[0]};p.Cb=function(){return{smg:this.behavior.Vn,ss:this.behavior.Ei,se:this.behavior.Yk,smd:this.behavior.Wn}};p.$b=function(f){this.behavior.Vn=f.smg;this.behavior.Ei=f.ss;this.behavior.Yk=f.se;this.behavior.Wn=f.smd};p.Pa=function(){};p.hl=function(){if(this.enabled){var f=
this.behavior.wk.Rd(),p=0,c=0,k,b,a,m=0;k=0;for(b=f.length;k<b;k++){a:{a=f[k];for(var g=void 0,d=void 0,e=void 0,g=0,d=a.M.length;g<d;++g)if(e=a.M[g],e.behavior instanceof zc){a=e;break a}a=null}a&&a.enabled&&(p+=f[k].x,c+=f[k].y,++m)}f=this.d.k.bb;b=this.b.$a.ba;a=k=0;b>=this.behavior.Ei&&b<this.behavior.Yk&&(k=this.behavior.Vn*Math.min(this.b.Yf,1),0===this.behavior.Wn&&(k*=1-(b-this.behavior.Ei)/(this.behavior.Yk-this.behavior.Ei)),b=Math.random()*Math.PI*2,a=Math.random()*k,k=Math.cos(b)*a,a*=
Math.sin(b));f.Qn(p/m+k);f.Rn(c/m+a)}};f.T=new function(){}})();function nc(f){this.b=f}(function(){var f=nc.prototype;f.Ca=function(f){this.behavior=f;this.b=f.b};f.Ca.prototype.ea=function(){};f.ua=function(f,p){this.type=f;this.behavior=f.behavior;this.d=p;this.b=f.b};var p=f.ua.prototype;p.ea=function(){this.d.u.solidEnabled=0!==this.H[0]};p.Pa=function(){};f.i=new function(){};f.T=new function(){}})();
function mc(){return[rc,oc,sc,pc,qc,Z,wc,tc,zc,xc,nc,yc,X.prototype.i.Do,X.prototype.T.et,X.prototype.T.Vs,X.prototype.Ea.Uv,pc.prototype.i.ts,xc.prototype.T.$s,Z.prototype.T.Ts,pc.prototype.i.Ao,Z.prototype.T.Xs,Z.prototype.i.es,X.prototype.Ea.Vv,X.prototype.T.Qs,pc.prototype.i.tl,oc.prototype.T.Play,Z.prototype.i.kf,yc.prototype.T.Ys,yc.prototype.T.Ss,Z.prototype.i.ds,Z.prototype.T.zs,Z.prototype.i.Es,X.prototype.T.ns,oc.prototype.T.ct,X.prototype.T.Rs,yc.prototype.T.xl,X.prototype.T.ys,oc.prototype.T.xl,
X.prototype.i.ls,X.prototype.Ea.random,X.prototype.T.gs,Z.prototype.Ea.gt,X.prototype.Ea.Wv,Z.prototype.Ea.os,Z.prototype.T.bt,Z.prototype.T.hs,Z.prototype.i.us,Z.prototype.T.dt,xc.prototype.T.Us,Z.prototype.Ea.Go,Z.prototype.Ea.Ho,Z.prototype.T.Zs,Z.prototype.i.uo,X.prototype.T.As,X.prototype.i.rs,Z.prototype.i.vs,X.prototype.T.Ws,pc.prototype.i.wo,qc.prototype.i.vo]};
